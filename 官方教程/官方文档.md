# 官方文档

[文档教程 - 服务中心 (bn100.com)](https://community.bn100.com/document)

# [一、产品概述](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543287)

本章目的：  
一、了解并掌握 Workfine 零代码开发、平台特点、优势以及应用场景，知道 Workfine 能够解决哪些问题；  
二、了解并掌握 Workfine 组成：基于BS架构，由设计端、应用端以及控制台三部分组成；  
三、了解并掌握在私有化环境下 Workfine的相关部署。

本章内容：

|**章节**|**章节分内容**|**小节分内容**|**备注**|
| ----| ---------------------------| --| -----------------------------------------------------------------------------------------------------------------------------------------------------------------|
|**产品概述**<br />|[应用场景](https://dochelp.bn100.com//pages/viewpage.action?pageId=24543360)|业务数字化、办公自动化、数据可视化、业务系统集成化||
||[竞品分析](https://dochelp.bn100.com//pages/viewpage.action?pageId=24543551)|跨平台、前后端分离、多数据库支持、数据可视化、移动端集成钉钉和企业微信、支持集团型权限和字段级权限、纯WEB应用、无第三方插件、多种数据规范、打印、条码、标签等等||
||[产品功能](https://dochelp.bn100.com//pages/viewpage.action?pageId=24543555)|用户组织与权限、数字化业务、办公审批业务、数据可视化业务、系统集成、灵活部署、服务器授权、移动办公等等。||
||[产品组成](https://dochelp.bn100.com//pages/viewpage.action?pageId=24543333)|设计器、应用端、控制台||

## [1.1 产品介绍](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543331)

### **一、产品概述**

         Workfine是一款面向普通用户的业务数字化管理平台，它通过**无代码**的开发方式，让企业人员能够快速构建出满足自身业务需求的信息化系统。用户只需要通过拖拽式和点选式的操作方式，就能实现企业业务数字化的建设。同时，Workfine提供强大的数据集成能力，能够集成现有的业务系统，帮助企业消除信息孤岛，实现企业数据流转的活水活源。

#### 1.1、部署环境

        Workfine产品属于跨平台应用，不依赖某个特定的操作系统。服务端能够支持包括在windows，Linux，iOS等平台下的安装部署，也可在国产操作系统下适配部署。应用端不需要安装部署，只需要通过主流浏览器访问即可。

#### 1.2、支持数据库

         Workfine支持各种类型的数据库存储，包括SQLserver，MySQL，Oracle，PostgreSQL等主流数据库应用；同时，支持针对个人用户的小型数据库，如localDB、SQLserver express、Oracle express等；针对国产数据库可以也可以做各种型号的适配，如达梦、TiDB、OceanBase、PolarDB 等。

### **二、性能**

        Workfine平台定位于集团型，大中型企业信息化管理需求。因此，产品研发团队在产品性能方面进行了严格的测试和把关，我们主要将目光聚焦在产品的大数据计算，大并发操作以及复杂业务的处理能力上。通过对实际数据及应用场景的演练，我们对Workfine平台的高效性能有了更加充分的把握。

#### 2.1、大数据

        Workfine产品电子表格前端、大型数据库后端的设计结构，使所有数据运算都在后台运算。能够支持系统9次方以上的数据运算、日均千万行数据存储及复杂多样式的数据提取。是市面上真正能支持大中型企业信息化系统设计、运行和数据处理的平台型产品。

#### 2.2、大并发

        Workfine产品独特的三级架构模式，将表现层与应用逻辑层进行分离，在保证数据安全的同时，也实现了数据的异步处理，使得在满足大数据批处理的同时，也能满足大并发的使用需求。

#### 2.3、复杂业务处理

        业务的复杂性主要体现在对关系型数据的处理，能够将各种关联业务串联起来。workfine产品功能是对数据库处理能力的一种映射和扩展，只要确定好业务关联关系，就能够将单项业务的处理扩展到多项业务上；将小型系统业务的处理扩展到大型业务系统上。从而实现对整个复杂业务的处理能力。

#### 2.4、集成与协同开发

        Workfine可视化设计器秉承一体化的设计思想，把应用系统所有的模块，统一集成到设计器里进行设计和管理，高效快捷。Workfine设计器支持多人协作开发，对于大中型信息化系统，多人同时连接到应用账套，每个人开发自己的模块，在开发完成后形成一个整体的信息化系统。

### **三、安全性**

workfine通过iso27001，iso9001，国家安全等级保护三级等认证

#### 3.1、三级架构模型

        采用优良的三级架构模型，将信息化的整个业务应用划分为表现层，业务逻辑层和访问层，采用“高内聚低耦合”的思想，使得界面，业务逻辑，数据访问相互独立。使数据可以在各层之间加密传输。并且，业务逻辑层和数据库访问层可以部署在不同的服务器上，甚至业务逻辑也可以分别部署在不同的服务器上。这样加上服务器的防火墙使得系统更加安全。

#### 3.2、数据安全性

        随着网络办公的发展趋势愈演愈烈，企业要保持健康可持续性发展，信息安全是基本的保证之一，Workfine提供优良的从数据传输、存储、备份以及操作权限等的多方面数据安全控制。

##### 3.2.1、传输加密控制

        通过Workfine平台生成的业务系统，在信息传输过程中，用户访问信息（如访问痕迹、数据操作日志等）及业务数据信息（如商业机密，内部文件，生产数据等）都是经过严格加密。从用户登录开始，就对数据的操作、传输过程、传输节点等每一个环节都提供了安全性配置，同时，服务器需经过安全性审查，确保你的数据安全无忧。

##### 3.2.2、集群存储控制

        Workfine平台支持集群存储的数据存储方式，可将若干个“通用存储设备”组成的用于存储的集群聚合成一个能够给应用服务器提供统一访问接口和管理界面的存储池。从而提供按比例增加的存储资源性能、容量、可靠性及可用性，突破了单机设备存储的种种限制。Workfine支持集群存储的数据存储方式不仅使系统在数据安全性上得到了保障，还在系统高性能、高并发、易管理性、负载均衡等方面得到了更好的应用体验。

##### 3.2.3、自动备份机制

        Workfine平台后台连接大型SQLserver数据库，支持数据库层面的自动备份机制，可按企业需求，按时、按天、按周等实现备份机制，并按照企业业务需求定时清理历史备份数据。

##### 3.2.4、集团级权限控制

        Workfine平台不仅在大数据支持、运算、大并发等功能性方面拥有良好的性能，更在组织架构、权限控制上具有其它应用软件所不及的优势，Workfine可支持集团级的应用权限配置，支持多并发数据交互、多级别权限划分、字段级权限划分等各种复杂权限的划分形式。

## [1.2 应用场景](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543360)

	Workfine定位于全场景业务数字化管理平台，主页应对企业四种综合场景的数字化应用：**业务数字化，办公自动化，数据可视化，系统集成化。**它基本涵盖了企业数字化管理的绝大部分业务场景。

### **一、业务数字化**

        业务数字化是指能够将企业的现行业务以数字化的形式进行统一、规范的管理。在企业内，任何以表格形式存储或流转的业务都可以通过Workfine产品来进行数字化管理，通过这种方式能够更加规范、便捷、高效的完成工作任务。业务数字化的场景很多，我们也可通过以下三个方向来挖掘企业的数字化应用。

#### 1.1、信息管理系统

        Workfine产品本身是一个信息化系统开发工具，通过它可以开发各种形式的企业信息化系统。尤其对企业内部的个性化应用、部门级应用、碎片化应用具有非常好的应用场景。客户可以根据自身需要，通过Workfine平台建立起全方位的企业信息化系统。Workfine平台也能很好的支持大中型信息化系统的开发和运行。因此，在同一个Workfine平台下，可以同时运行多个模块下的不同信息化业务。目前，Workfine平台的应用非常广泛，已经在不同行业中实现了人事工资系统、ERP、CRM、财务系统、物业系统、WMS、医疗养老收费系统、薪酬管理系统、项目管理系统、供应链系统、生产管理系统、教务系统等。

#### 1.2、台账与报表统计

        Workfine产品采用关系型数据库与电子表格相结合的技术思想。通过前端表格可以很方便的将台账式的数据存储和管理起来。通过Workfine独有的业务公式又可以很轻易的将存储在数据库中的各种数据展现到报表当中。因此，企业内，各种形式的台账和报表数据，都可以通过Workfine平台实现数据的批量录入和汇总。这样，不仅节省了基础数据的录入时间，更不用花费大量的时间去做重复统计工作。

#### 1.3、电子表格管理

        Workfine平台本身的类excel设计和应用方式可以很方便的管理分布在用户电脑内各个文件夹的表格数据。 因此，用户如果因为管理各个文件夹中的表格数据而占用了大量的工作时间，不妨使用Workfine平台来管理这些表格，肯定能达到事半功倍的效果。

### 二、办公自动化

        办公自动化指实现企业内部各业务节点的流程审批。Workfine强大的流程引擎，能够满足用户多种形式的流程审批需求，在面对集团、企业、部门审批业务需要抢先、会签、并列审批，或者需要普通、转填流转时。都能够通过Workfine平台实现。我们提供完全自定义的审批流，数据模板，处理方式，提交方式，接收人方式等，为企业定义自己的自动化办公平台提供坚实的产品支撑。

        Workfine平台提供审批流程的自定义功能，提供企业办公自动化所需要的各项功能。通过形象拖拽的方式，使用户自定义审批流程。

* **流程状态**：发起、待办、提交未处理、已办
* **流程操作：**提交、暂存、撤销、回退、查看
* **任务类型**：起始、普通、结束
* **处理方式**：抢先、会签、并列
* **填报人方式**：人工指定人、指定角色、指定部门、流程发起人、上一步填报人
* **流程提醒**：消息提醒、邮件提醒

### 三、数据可视化

        数据可视化实现对业务数据的可视化展现，通过建立驾驶舱，可视化大屏，业务导航等，满足企业业务决策和分析的需求。Workfine平台提供丰富的动态图表、导航、图片、文本等元素。并且独特的结构化搭建方法，能够使用户快速的建立起可视化的数据展示。同时，支持可视化数据的联动和钻取。通过对业务数字化平台与数据可视化平台的结合，用户可以为企业实现多种形式的数据可视化方案。

### 四、系统集成化

        企业在信息化建设过程中，可能会有多套系统并行运转，因为各种现实原因，信息系统可能无法满足当前的业务需要，而导致了信息孤岛。Workfine平台提供外部数据源功能，能够实现企业的业务系统集成，支持包括SQLserver、orcale、Mysql、PostgreSQL等主流数据库的集成功能，帮助实现企业数据的系统集成平台。

## [1.3 竞品分析](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543551)

	Workfine产品前端采用主流的vue技术，后台采用稳健的.net技术，使用完全前后端分离的技术体系，B/S架构，纯web应用体验，同时注重移动办公体验。是真正注重用户交互体验，并将现代互联网技术应用到企业信息化中的开创性产品。 产品目前大版本号在V3版本，主要功能定位在企业业务数字化、办公自动化、数据可视化及数据集成等业务场景。业务数字化主要解决企业的数据管理问题，包括业务数据采集，业务系统流转(支持大型业务系统开发、复杂业务实现以及集团型、字段级的权限控制)，工作协同填报，报表数据统计等数字化问题，属于整个产品的核心功能模块；办公自动化主要解决企业的业务流程审批，包括普通流程、分叉流程；支持抢先、并列、会签等处理方式，支持普通、转填的流转，实现企业流程审批中的多场景业务；数据可视化主要满足企业数据展示的业务需求，支持主流的地图、折线、散点、极坐标、漏斗等动态图表，支持数据钻取，联动，大屏展示、实时轮播等多场景可视化需求，数据可视化也是领导通过数据的图形界面展示做管理决策的重要依据；数据集成是通过workfine产品可以集成其它外部业务系统，进行业务延伸或者数据统计分析，以消除企业信息孤岛。

        Workfine是目前同类产品中唯一在技术上实现了前后端分离。功能上涵盖了企业内部从基层人员数据录入采集；到中层人员部门审批，报表查询；再到高层人员企业决策等多维度业务需求的产品。注重Web应用和移动办公体验；注重产品交互体验；注重产品深度和广度的研发。在功能的实现上会更加灵活和便捷，交互方式上更加细腻多样。相比于同类产品大都依赖上一代的落伍技术或者微软的插件产品 ：不能跨平台、C/S架构、bug不可控、第三方知识产权问题、集成插件被淘汰风险、交互体验差等。workfine展现了绝对的技术优势和发展空间，workfine在部署上可跨平台，技术上不依赖第三方插件，应用上只需要浏览器访问即可。无论从产品的技术体系，功能实现还是应用体验等方面做比较，workfine都能极大的体现产品价值。在后V3版本中，我们将继续加强产品的研发，注重用户体验，提高产品推广的深度和广度。

**workfine与同类产品的技术对比分析:**

|**技术对比**|**同类产品**|**Workfine开发平台**|**典型对比产品**|**说明**|
| ------------------------------| ----------------------------------------------------------------------------------| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------| ----------------------------------------| -------------------------------------------------------------------------------|
|可否跨平台|不可跨平台，只能在windows服务下运行，应用也只能在windows操作系统下运行|可跨平台，可在windows、linux、IOS等平台上部署和应用。|传统表格服务器或网表类产品|<br />|
|第三方插件|依赖excel或者serverlight等微软体系下的第三方插件|不依赖于第三方插件产品|传统表格服务器或网表类产品|对excel的依赖会产生很多不可控的bug；serverlight已经在12年被微软淘汰不再更新。|
|前后端分离|没有做到前后端分离，很多产品功能都是写成固化了，对现有功能很难做出调整或者变更。|前后端分离，功能实现和调整比较灵活，产品迭代更加迅速，交互体验更加友好|传统表格服务器或网表类产品|<br />|
|多数据库支持|只支持非关系型数据库|支持主流的关系型数据库包括MySQL，SQL server，Oracle，postgreSQL;|传统表格服务器或网表类产品和云应用产品|非关系型数据库只适合处理简单的表单填报业务，很难处理处理数据表的关联业务。|
|复杂数字化业务|只能实现轻量级的业务场景，主表集中在表单的收集和填报上|能够实现复杂业务，实现大中型数字化业务系统的流转和控制|云应用产品|<br />|
|流程审批|实现功能单一，流程交互体验差|应用交互体验良好，流程功能强大，可支持普通流程和条件分叉流程；支持抢先、并列、会签的处理方式；支持普通、转填的流转方式；支持提交、办理、回退、撤销、删除的操作方式；支持流程进度实时预览；支持批量办理。|传统表格服务器或网表类产品|<br />|
|数据可视化|基本没有，或者单一的静态图表|支持丰富的动态图表和其它元素，支持自定义决策模板，通过数据的可视化展示建立驾驶舱、数据分析、业务导航、公告、数据轮播等。支持包括各种动态图表，文本，图片，数据列表，业务导航、工作流程等元素的添加。支持图表间数据联动、数据钻取、大屏展示、数据轮播、数据实时刷新等。|传统表格服务器或网表类产品|<br />|
|打印|只能基本的表单打印|支持填写与打印分离，支持循环打印、工资条打印、固定列头打印，套打，标签打印等。|传统表格服务器或网表类产品和云应用产品|<br />|
|条码标签|需要集成第三方标签打印方案，实现方式复杂，复用性差。|可直接在workfine平台自定义标签样式并打印。|传统表格服务器或网表类产品和云应用产品|<br />|
|条码|无或者需要集成第三方条码生成插件|可直接在workfine平台自定义条码样式和条码功能，可设置多样化的条码功能满足不同的业务需求。|传统表格服务器或网表类产品和云应用产品|<br />|
|移动端|移动功能单一，体验差|可集成到微信公众号、企业号、钉钉。支持移动消息提醒，流程审批，表单填报，报表查阅，可视化分析、手机扫码等移动办公功能。|传统表格服务器或网表类产品|<br />|
|数据规范|只支持下拉和列表|支持下拉、列表、级联、浮选框、开关、进度条、评分等多种数据规范，并可随用户需求扩展。|传统表格服务器或网表类产品|<br />|
|权限|支持普通的单位级权限|权限设置丰富，支持集团型权限和字段级权限。|<br />|<br />|
|大数据和大并发|不能支持大数据量和大并发操作|可支持大数据量的计算和大并发的系统登陆|<br />|<br />|
|是否支持国产操作系统和数据库|基本不支持|可支持绝大部分主流国产操作系统和数据库|<br />|<br />|
|系统维护|后期系统维护麻烦，扩展性不强|系统维护简单，系统健壮性和可扩展性都很强|传统表格服务器或网表类产品|<br />|
|知识产权|设计集成第三方未被授权的集成插件|完全自主研发，自主知识产权，不借助第三方插件|传统表格服务器或网表类产品|<br />|
|Web应用|C/S模式，或者不能支持主流的浏览器|纯web应用，支持绝大部分主流浏览器，随着主流浏览器的版本更新，效率会更高。|传统表格服务器或网表类产品|<br />|
|应用体验|应用交互呆板，用户体验差。|产品体验多样，细腻，用户体验好|传统表格服务器或网表类产品|<br />|
|设计方式/开发门槛|开发门槛高，需要有一定的代码基础|零代码设计方式,不需要会写代码，只需要逻辑严谨即可。|产品方案不成熟的低代码开发平台|<br />|

## [1.4 产品功能](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543555)

**Workfine 主要功能**

        Workfine产品前端采用主流的vue技术，后台采用稳健的.net技术，使用完全前后端分离的技术体系，B/S架构，纯web应用体验，同时注重移动办公体验。是真正注重用户交互体验，并将现代互联网技术应用到企业信息化中的开创性产品。

        产品目前发布到V3版本，主要功能定位在企业业务数字化、办公自动化、数据可视化及数据集成等业务场景。业务数字化主要解决企业的数据管理问题，包括业务数据采集，业务系统流转(支持大型业务系统开发、复杂业务实现以及集团型、字段级的权限控制)，工作协同填报，报表数据统计等数字化问题，属于整个产品的核心功能模块；办公自动化主要解决企业的业务流程审批，包括普通流程、分叉流程；支持抢先、并列、会签等处理方式，支持普通、转填的流转，实现企业流程审批中的多场景业务；数据可视化主要满足企业数据展示的业务需求，支持主流的地图、折线、散点、极坐标、漏斗等动态图表，支持数据钻取，联动，大屏展示、实时轮播等多场景可视化需求，数据可视化也是领导通过数据的图形界面展示做管理决策的重要依据；数据集成是通过workfine产品可以集成其它外部业务系统，进行业务延伸或者数据统计分析，以消除企业信息孤岛。

        相比于同类产品大都依赖上一代的落伍技术体系或者不兼容主流技术的插件产品。workfine展现了绝对的技术优势和发展空间，workfine在部署上可跨平台，技术上不依赖第三方插件，应用上只需要浏览器访问即可。无论从产品的技术体系，功能实现还是应用体验等方面做比较，workfine都能极大的体现产品价值。在后V3版本中，我们将继续加强产品的研发，注重用户体验，提高产品推广的深度和广度。

**功能明细(持续更新)：**

|**模块**|**功能点**|**功能解释**|
| :----------------: | :--------------------------: | :-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|组织权限|权限|通过组织、用户、角色、权限的设置，可让最终用户可以以不同的权限登入系统，实现因人而异的展示效果。可支持集团级和字段级的权限访问控制。每个用户对应的权限，包括新增、查看、修改、删除、锁定、导出、打印等。支持LDAP，钉钉，微信等第三方平台的组织，用户同步。|
|数字化业务<br />|业务系统开发|支持表单自定义，业务流程自定义，逻辑流转自定义，控制约束自定义等，可实现不同数字化系统的快速开发。适用于各种集团型应用，企业级应用，部门级应用，碎片化应用，行业应用等。包括但不限于供应链系统开发，客户管理开发，仓库系统开发，人力资源开发，项目管理开发，成本管理开发、表单填报等与数字化相关的数字化业务开发。提供业务系统设计中包括表单样式、逻辑规则、约束控制、业务流转、数据关系、权限控制等所需要的各种功能集合。|
||报表开发|支持自定义报表样式，支持交叉表查询、多表关联查询、数据联动查询、数据钻取查询等各种复杂报表设计。可实现自定义按条件汇总查询，明细查询，分类查询，分组小计查询等。|
||条码|可支持自定义一维码，二维码设计，支持标签条码设置。可支持通过条码扫码的形式识别数据，建立业务表单，查看业务表单等扫码操作。|
||导入导出|支持数据批量导入，支持数据自定义导出，导出格式可选excel导出或者PDF导出。|
||打印|支持自定义打印样式，支持填报样式与打印样式分离。支持普通PDF打印、批量打印、循环打印、套打、工资条打印、条码标签打印等。|
||消息提醒|可根据业务填报内容，推送不同的消息到相关业务人员，可自定义消息内容，可查看消息对应的表单数据，也可以通过消息产生新的业务数据。|
||预警|可根据业务要求，实时产生业务预警提醒，提醒相应的业务人员及时处理，并展示预警相关信息。|
||图片附件|支持图片附件的上传与下载，支持单个单元格上传多个图片或附件，支持预览界面查看图片附件等。|
||邮件|可根据业务要求，自动发送相关人邮件功能。发送过程支持自定义邮件内容，添加表单附件等功能。|
||定位|可进行单点定位，两点测距定位，可设定定位范围，同时可设置是否允许手动调整定位。|
||定时任务|可以定时设置任务，包括定时同步LDAP，微信钉钉组织架构，定时同步数据表，实现自动填报，初始化数据等。|
||电子签名|可以进行手动电子签名，可同时支持手机端和电脑端手写签名。|
||数据关联|支持数据表到数据表的关联填报，关联查询，并且能够实现表对表的业务数据流转。|
|办公审批业务|工作流(OA)|支持自定义审批流，按照企业实际业务需求绘制审批流程。支持普通流程，和条件分叉流程；支持抢先、并列、会签的处理方式；支持普通、转填的流转方式；支持流程的提交，回退，撤销，办理，删除等操作方式。支持不同审批节点显示不同业务内容、操作内容、摘要内容；支持按照角色，表单字段等作为流程接收方式；支持流程的批量审批；支持实时查看流程进度，流程流转图。|
|数据可视化业务<br />|可视化|支持自定义可视化分析，通过数据的可视化展示建立驾驶舱、数据分析、业务导航、公告、数据轮播等。支持包括各种动态图表，文本，图片，数据列表，业务导航、工作流程等元素的添加。支持柱形、折线、散点、组合图、仪表盘、饼图、漏斗云、字符云、关系图、桑吉图、箱线图、地图、热力图、KPI、雷达图、树形图、矩形图、旭日图等多种动态图表。|
||联动与钻取|支持图表内，图表与图表间，图表与数据表间的数据联动与钻取功能，支持多维度的数据查询与分析。|
||大屏展示|支持可视化数据大屏展示，支持可视化数据实时刷新和轮播。|
|数据集成|外部数据源|支持通过外部数据源的方式，与外部业务系统建立数据管理，时间数据的连接交互，消除信息孤岛。支持外联的数据库包括SQLserver，MySQL，Oracle等。|
|移动办公|移动端|可支持企业微信，微信公众号，钉钉集成应用，支持移动端流程审批，消息提醒，数据填报和查询，数据可视化分析，支持移动端扫码功能。|
|部署|本地化部署|支持企业本地部署，通过服务器授权，直接部署在企业内部|
||公有云部署|支持企业公有云部署，通过公有云服务器授权，直接部署在公有云上。|
|授权|服务器授权|通过服务器机器码进行软授权，时效性可按年授权，也可一次性不限期限授权。用户可按照系统并发数授权，也可一次性买断不限用户数授权。|
|登陆方式|Web应用|用户通过用户名和密码，使用主流浏览器登陆系统，支持主流浏览器包括谷歌，火狐，搜狗，百度，360浏览器等。|
||单点登陆|支持通过域控，微信扫码，钉钉扫码等第三方平台单点登陆|
|设计方式|零代码开发|支持零代码的开发方式，用户不需要写代码，只需要通过点选和拖拽的形式实现业务功能开发。|
||存储过程|支持通过数据库编辑存储过程，然后在前端调用的方式实现业务数据的交互。|
|其它<br />|自定义风格|可以自定义系统背景图，企业logo，业务系统名称，动画效果等，用户可自主换肤。|
||数据备份|支持业务系统自动定时备份。可按照规则定时清除过期备份数据，只保留最近时间段备份|
||多账套|支持一个数据库中设计多个相互独立的应用系统。|
||操作系统|支持跨平台部署，支持windows，linux，ios等主流操作系统的部署|
||安全性|数据传输加密，三级架构模式，缓存服务|
||数据库|支持localDB、express、SQLserver,,Mysql,Oracle，pgsql等数据库。|
||执行效率|支持大数据量运算，大并发操作，能够实现复杂业务，支持集成与协同开发|

## [1.5 产品组成](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543333)

**​  Workfine**企业业务数字化开发平台，既可以公有云使用，也可以私有化部署使用，产品组成由应用控制台、设计器、应用端组成，其中应用端又包括PC应用端和移动应用端。

### 1、设计器

        高效敏捷的web应用开发平台，提供设计应用系统所需要的各项功能，包括业务系统开发，OA系统开发，决策系统开发等，采用所设计即所得的理念，通过点选和拖拽的操作方式，轻松设计出企业的信息化管理系统。通过这种零代码的开发方式，用户只需要了解业务，有一定的逻辑梳理能力就能够很快的开发出应用性极高的业务系统。

### 2、应用端

        用户可以通过电脑浏览器、手机浏览器、企业微信、微信公众号、钉钉等终端进入应用端。通过访问应用端，用户可以进行业务数据录入，数据查询分析，流程审批，可视化决策等各项职能工作。

### 3、控制台

        提供系统服务的管理工具，通过配服务控制台，系统管理员可以很方便的进行包括自动备份，系统设置，服务重启，局域网配置等相关设置。

对系统账套进行统一管理，主要功能如下：  
1、[新增](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796242)或[删除](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544901)账套。比如：可以新增一个合同管理系统、汽车4S店管理系统等，也可以将建好的系统账套删除掉。  
2、对平台账套维护。比如：可以设置账套数据库自动定时备份和恢复；  
3、管理员密码恢复。比如：当您忘记了admin账号密码，可以通过控制台进行恢复。

## [1.6 新手10问](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498374)

### 1、这个产品是干什么的？

答：产品是一款零代码开发工具，定位全场景业务数字化管理平台，主要处理企业内部的信息化管理问题。您可以用它进行零代码开发业务系统，数据报表，流程审批，可视化大屏以及数据集成等。这些都可以用户自主，随需定制，不依赖任何的编程人员。

### 2、产品是免费的吗/怎么收费？

答：产品两个并发免费，并发指允许系统内的同时在线人数，意思是只能两个人同时免费使用。超出两个并发后的用户使用是需要授权收费的。收费模式分为公有云收费和私有化部署收费，公有云收费标准：公有云链接  ；私有化收费标准：私有化链接。(链接，什么是并发，什么是公有云和私有化部署)。

### 3、什么是并发/匿名填报功能占用并发数吗？

答：并发是指允许系统内的同时在线人数，也就是同时允许访问系统的人数。如果您是100个并发，可以建立不限制的用户数，但只能100个人登录系统，超出100人登录时，会提示并发超限，无法登陆。如果有人已经登录系统，没有退出，也没有做任何操作，这个时候系统是计算一个并发的。匿名填报的功能不占用任何的并发数。

### 4、什么是公有云和私有化部署？

答：公有云和私有化的主要区别是用户的业务数据托管的位置。公有云部署，用户的业务系统及数据与其它的用户一起托管在公共的服务器上；私有化部署是用户的业务系统及数据保留在自己本地的服务器上，用户自己管理自己的数据，任何情况下，只自己对自己的数据安全负责。

### 5、产品可以免费试用吗?

答：产品可以不限时免费试用，我们只限制产品的并发数，不限制任何功能。您可以通过在线注册使用，或者一键私有化部署，快速的获得来体验产品。

### 6、怎么获得这个产品？

答：访问[本牛信息官网](http://www.bn100.com/)，通过微信扫码关注公众号后，就视为注册成功。注册成功后，就可以通过个人控制台立即在线使用；或者在官网下载私有化部署的安装包，一键安装后，就可以获得私有化产品。

### 7、我想开发我想要的系统该怎么学习？

答：本牛信息自研了用户服务系统，除了涵盖基础的视频和文档教程外，还有完整的培训教程，资料库，知识库，互助问答等，可以满足用户学习的全方位需求。同时，官方提供丰富的案例账套，和学院体系，帮助用户能够实现开箱即用，并且随需调整。初学者建议先花2-3天时间学习下视频教程，能够完成基本的入门和开发练习。有任何问题可以及时的翻阅知识库，或者通过互助问答寻求帮助。您也可以添加官方客服小微的微信号，或者学习帮助。

### 8、开发时，如果有不会的问题该怎么办?

答：服务中心安装一学二搜三问的原则进行设计，开发过程中有不会的问题可以通过服务中心搜索资料，或者在互助交流获得学习帮助，我们会实时的进行问题处理。通过官方会不定期的开设数字化培训课堂，能够更加体系化的进行系统开发学习与实践，也是用户学习和处理问题非常好的路径。

### 9、付费客户与免费客户除了产品并发授权数量的区别，还有哪些区别？

答：付费客户和免费客户除了授权数量的区别外，更重要的是在服务体系上的区别。所有的付费客户的开发效率和应用成功率是远远高于免费客户的，付费客户我们会针对性的提供多对一的客户服务群，除了在服务时效性上要及时响应外，还会不定期的给客户进行一对一的远程沟通和协助，包括方案设计，产品功能应用，管理咨询及问题诊断等。

### 10、我怎么确定这款产品满足我的业务需求?

答：产品是属于无代码开发范畴，并不是所有的业务都能够实现，他主要是针对企业/组织内部的信息化管理问题，如果您现在的业务是通过纸质单，电子表格，关系型数据库进行处理的，想实现更加精细化的管理，通过它基本都能够实现，可以大胆的试用。如果您是想进行视频文件剪辑，AI算法处理，电商支付，APP/小程序定制等，他可能不是您想要的产品。

# [二、基础操作](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796172)

|本章节主要内容|
| ----------------|
|[2.1 快速本地安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796176) |
|[2.2 产品登录](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796195)|
|[2.3 密码丢失还原](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796213)|
|[2.4 默认帐套的数据路径](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796218)|
|[2.5 workfine系统服务](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796232)|
|[2.6 局域网访问](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796239)|

## [2.1 快速本地安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796176)

* 我们以 Windows 10 企业版为例，讲述一键安装过程：（一键安装，是指同时安装好Workfine开发平台+微软的 MS SQL Express 2014 基础版）
* Workfine 支持 Windows 7/8/10 专业版和旗舰版，也支持 Windows 2008/2012/2016/2019/2020 服务器版本（标准版、企业版、数据中心版）。
* **本节我们主要讲述在 Windows 平台下面一键快速安装部署，如果你是刚刚接触 Workfine ，建议认真看完本节内容。**

**前期准备工作：**

* **Workfine 基于BS架构，支持谷歌，火狐，360,等主流浏览器，其中谷歌浏览器兼容性最出色。**
* **安装前请先关闭杀毒软件,如关闭360杀毒软件和360安全卫士。**

以安装 Windows 10 企业版为例，其它系统如：Window 7/8/2012/2016/2019/2020 安装方法类同。

1、在Workfine官网中下载Windows版本的安装包（[https://www.bn100.com/a/download/](https://www.bn100.com/a/download/)）

​![](https://dochelp.bn100.com/download/thumbnails/40796176/worddava5ced0c2c1b30239342a4635c00cf349.png?version=1&modificationDate=1655694349200&api=v2)​

2、下载完毕后双击打开安装包

​![](https://dochelp.bn100.com/download/attachments/40796176/worddave8e17949b986a47aab1ce2f09cbc76ea.png?version=1&modificationDate=1655694349497&api=v2)​

3、如系统弹出安全控制，请点击是

​![](https://dochelp.bn100.com/download/attachments/40796176/worddavb9d08d1ecd599d2af399b91e04f545b6.png?version=1&modificationDate=1655694349527&api=v2)​

4、建议阅读许可协议，选择同意并点击下一步

​![](https://dochelp.bn100.com/download/attachments/40796176/worddav37c69fbd1017550324cb55d7378c798d.png?version=1&modificationDate=1655694349560&api=v2)​

5、查看选择Workfine安装目录，点击下一步

​![](https://dochelp.bn100.com/download/attachments/40796176/worddav93535b572a4206560e1d70f0209450ea.png?version=1&modificationDate=1655694349700&api=v2)​

6、初次安装时建议保持全选不变，点击下一步

​![](https://dochelp.bn100.com/download/attachments/40796176/worddavab84767f885161e8bd2a99823eaa5f19.png?version=1&modificationDate=1655694349747&api=v2)​

7、设置Workfine在开始菜单中的分类名称，点击下一步

​![](https://dochelp.bn100.com/download/attachments/40796176/worddav46d3a1533274d4452f37a57faad75e1d.png?version=1&modificationDate=1655694349810&api=v2)​

8、确定是否需要在桌面创建快捷方式，点击下一步

​![](https://dochelp.bn100.com/download/attachments/40796176/worddav40e6bf92c3daa710cbd7e794cfd3a5c6.png?version=1&modificationDate=1655694349873&api=v2)​

9、点击安装开始进入安装流程

​![](https://dochelp.bn100.com/download/attachments/40796176/worddavdc758c4bd4a9d5266e446466e8e84a48.png?version=1&modificationDate=1655694349887&api=v2)​

10、等待安装完成

​![](https://dochelp.bn100.com/download/attachments/40796176/worddav3e640463bf141942e0ef238fc4121793.png?version=1&modificationDate=1655694349917&api=v2)​

11、点击完成结束安装

​![](https://dochelp.bn100.com/download/attachments/40796176/worddavcf5293e8d2c4305531f6297a471d6376.png?version=1&modificationDate=1655694349967&api=v2)​

12、访问Workfine

在本机浏览器中输入以下网址即可分别访问需要的位置，**初始管理员账户admin，无密码**

|端点|地址|
| --------| -----------|
|应用端|[http://localhost:5000](http://localhost:5000/)|
|设计端|[http://localhost:5000](http://localhost:5000/)/designer|
|移动端|[http://localhost:5000](http://localhost:5000/)/app|
|控制台|[http://localhost:5000](http://localhost:5000/)/admin|

## [2.2 产品登录](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796195)

workfine产品组成为四个部分，控制台，设计器，电脑应用端，移动应用端端，分别对应不同的默认访问地址：

### 控制台

     作用：后台系统管理使用，可以用于账套管理(增删改 备份，还原等)

       注： 由于安全限制，控制台只能在服务器上访问，不能在终端用户机上访问

              访问地址：http://localhost:5000/admin/index.html 默认用户admin  密码admin

              如果修改的对应的ip 或者端口，访问地址相应的改变

​![](https://dochelp.bn100.com/download/attachments/40796195/image2022-6-2_19-57-1.png?version=1&modificationDate=1654171021133&api=v2)​

### 设计器

作用：提供自定义数字化系统的各种功能

             访问地址：http://localhost:5000/designer/index.html   默认用户admin  密码空

​![](https://dochelp.bn100.com/download/attachments/40796195/image2022-6-2_19-56-41.png?version=1&modificationDate=1654171000823&api=v2)​

### **电脑应用端**

    作用：通过电脑应用端地址访问,可以进行各种业务操作

              访问地址：http://localhost:5000/index.html    默认用户admin  密码空

​![](https://dochelp.bn100.com/download/attachments/40796195/image2022-6-2_19-58-6.png?version=1&modificationDate=1654171086607&api=v2)​

### 移动应用端

           作用：通过移动应用端地址访问,可以进行各种业务操作

   访问地址：[http://localhost:5000/](http://localhost:5000/)app/index.html   默认用户admin  密码空

                  通过手机等移动端进行访问，可直接通过手机浏览器访问，或者集成在企业微信，钉钉等第三方平台应用。

                  通过电脑浏览器打开该网址时，需要点击F12,进入调试模式，调整到移动端样式，才能看到移动端效果。

​![](https://dochelp.bn100.com/download/attachments/40796195/image2022-6-2_19-58-34.png?version=1&modificationDate=1654171114340&api=v2)​

## [2.3 密码丢失还原](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796213)

### 控制台

控制台登录页，点击【忘记密码】，显示密码登录还原的重置方法，根据方法操作即可，重置后默认用户admin，密码admin

​![](https://dochelp.bn100.com/download/attachments/40796213/image2022-6-2_9-52-50.png?version=1&modificationDate=1654135553310&api=v2)​

### 设计端

设计端系统管理员密码丢失，可登陆控制台，鼠标单击对应的账套，然后鼠标右键，会显示【重置系统账户】选项，点击重置后，将会重置为默认用户admin 密码空

​![](https://dochelp.bn100.com/download/attachments/40796213/image2022-6-2_10-2-36.png?version=1&modificationDate=1654135553297&api=v2)​

### 应用端

普通用户丢失密码后，可联系系统管理员，通过在后台找到对应的用户信息，修改重置密码即可。

​![](https://dochelp.bn100.com/download/attachments/40796213/image2022-6-2_9-59-17.png?version=1&modificationDate=1654135553283&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796213/image2022-6-2_9-59-45.png?version=1&modificationDate=1654135553247&api=v2)​

## [2.4 默认账套的数据路径](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796218)

workfine安装包中自带小型文件数据库，该数据库是SqlServer数据库的衍生版本，能够无差异升级到SqlServer数据库上

通过快捷方式安装后，系统数据和图片附件分别存储在workfine的安装路径下的data文件夹和blob文件夹中

​![](https://dochelp.bn100.com/download/attachments/40796218/image2022-6-2_10-30-43.png?version=1&modificationDate=1654137043593&api=v2)​

data文件夹下的mdf文件和ldf文件组成了整个系统数据

​![](https://dochelp.bn100.com/download/attachments/40796218/image2022-6-2_10-25-12.png?version=1&modificationDate=1654136712443&api=v2)​

## [2.5 Workfine系统服务](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796232)

workfine安装成功后，在系统服务中会有workfine windows service 服务，通过在系统服务项中搜索能够找到此服务

当在登录wf时发现未显示账套，我们需要检查服务是否启动

当需要拷贝数据账套时，因为被占用问题，我们需要先停用服务，然后进行数据文件的拷贝

服务的启停是在找到workfine windows service 服务后，鼠标右键进行操作

​![](https://dochelp.bn100.com/download/attachments/40796232/image2022-6-2_10-37-26.png?version=1&modificationDate=1654137446260&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796232/image2022-6-2_10-35-3.png?version=1&modificationDate=1654137419267&api=v2)​

## [2.6 局域网访问](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796239)

初始安装workfine后，有用户会希望其他用户电脑也能够访问本机，从而实现通过局域网的访问目的

登录控制台，查看服务器IP地址，服务器IP就是局域网对应的IP，局域网都是以192.168开口的网段

然后以局域网地址+端口号的组合方式就能够实现局域网访问了，如下图局域网地址是192.168.2.52  端口号为5000

那么局域网的访问地址为：192.168.2.52:5000    注意：冒号(:) 为英文输入法下的冒号

​![](https://dochelp.bn100.com/download/attachments/40796239/image2022-6-2_10-44-4.png?version=1&modificationDate=1654138050890&api=v2)​

## [2.7 新增账套](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796242)

初始安装后，用户可建立新的空白账套进行学习，在初始学习时，建立选择数据库类型未local DB数据库

登录控制台

1、点击新建账套，弹出新建账套的设置界面  
2、在设置界面中填入自己想建立的账套名称  
3、选择数据库类型，在初始学习时，建议选择local DB数据库，local DB数据库后期可无差别迁移到SqlServer数据库中  
4、填写数据库路径，可直接用拼音填写数据库名称，系统会自动将数据库文件放到安装路径下的data文件夹下  
5、点击新建后，新增的账套就会进入初始化账套

​![](https://dochelp.bn100.com/download/attachments/40796242/image2022-6-2_10-51-15.png?version=1&modificationDate=1654138563023&api=v2)​

# [三、模板设计](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796246)

模板是一系列规则的集合，在设计模板的过程中，我们慢慢变成了规则的制定者

从模板设计开始，我们慢慢要从一个业务人员到以为数字化管理师的思维转变

|本章节内容： ||||
| ---------------| ---| ---| ---|
|[3.1 新增模板](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796305) |[3.2 定义模板](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796307) |[3.3 常用excel公式](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796316) |[3.4 基础的样式设置](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796318) |
|[3.5 模板属性说明](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796327)|[3.6 数据项管理](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796329)|[3.7 表间公式](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796342)|[3.8 数据规范](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796365)|
|[3.9 链接](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796433)|[3.10 操作约束](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796440)|[3.11 移动端](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796473)|[3.12 打印](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796483)|
|[3.13 条码](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713741)|[3.14 按钮/事件](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713745)|[3.15 分级预览](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713747)|[3.16 动态样式](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713749)|
|[3.17 消息](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713751)|[3.18 邮件](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713753)|[3.19 存储过程](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713756)|[3.20 数据字典](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713758)|

## [3.1 新增模板](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796305)

**新增模板可参照**​**[学习视频](https://community.bn100.com/video)**​**【新增模板】**

初学用户，第一阶段会进入模板新建的练习：

一、建立模板前，先建立模板分组，就如同我们电脑中excel文件，需要有一个文件夹进行归类一样的道理

      如建立采购管理，销售管理、基础管理分组等

​![](https://dochelp.bn100.com/download/attachments/40796305/image2022-6-2_11-16-39.png?version=1&modificationDate=1654181092567&api=v2)​

二、新增模板，点击新增模板，进入新增模板的弹出框，系统中模板名称不允许重复，初始填写时，模板类型选择填写，设计模式选择表格，然后点击新建。

​![](https://dochelp.bn100.com/download/attachments/40796305/image2022-6-2_13-14-13.png?version=1&modificationDate=1654181092587&api=v2)![](https://dochelp.bn100.com/download/attachments/40796305/image2022-6-2_13-16-46.png?version=1&modificationDate=1654181092603&api=v2)​

三、点击新增模板后，会显示一个类excel的设计界面，我们可以在类excel设计器上建立表样，也可以通过导入按钮一键导入excel表单

     导入表单时需要注意：在设计端不要把表单数据一并导入进来，只需要基本样式

                                         线下的excel表格，在转到线上时，有时候需要将以前的台账形式转变为主子表的形式。

​![](https://dochelp.bn100.com/download/attachments/40796305/image2022-6-2_13-21-15.png?version=1&modificationDate=1654181092620&api=v2)​

如下，为线下的excel表单，转变为线上的销售订单模板

​![](https://dochelp.bn100.com/download/attachments/40796305/image2022-6-2_13-31-0.png?version=1&modificationDate=1654181092637&api=v2)![](https://dochelp.bn100.com/download/attachments/40796305/image2022-6-2_13-30-25.png?version=1&modificationDate=1654181092653&api=v2)​

### [3.1.1 清除冗余格式](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796262)

当模板是通过导入excel建立的时候，由于excel本身可能包含一些特殊特使会使得模板文件过大，导致在前端打开时变慢，这个时候要尝试着收缩文件大小

打开对应的模板先保存一下，然后看下右上角的模板文件大小，如果超出200kb尝试以下操作

**1、将鼠标的光标放到整个模板样式的最右下角(如果没进行此操作，而进行的后面的操作，可能会让整个模板样式丢失)**  
2、鼠标指向模板文件大小的位置，会显示模板文件大小的说明项  
3、点击说明项中的【收缩文件大小】

最后，在此保存模板，查看模板文件大小是否收缩，同时，尝试在应用端打开表单，打开速度是否有变化

​![](https://dochelp.bn100.com/download/attachments/40796262/image2022-6-2_13-37-4.png?version=1&modificationDate=1654148224737&api=v2)​

### [3.1.2过程中的一些名词](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796267)

模板：模板是一系列规则的集合，它记录或者展示了一些业务信息，设计模板的过程是设置各种表样，流转逻辑，表结构，权限等各种规则

模板分组：是对一类功能的模板进行区分，类似我们电脑中应用文件夹的功能，一般可按照部门，或者不同的只能进行区分，如采购管理，销售管理，财务管理，项目管理，计划管理等

模板类型：模板类型指模板的展示或者填写属性，**填写模板**指能够进行数据保存的模板，表单上有保存按钮；**报表模板**指仅进行数据查看，不进行数据保存的模板，一般应用在查询报表中；**决策模板**对应我们后面的决策管理，可以将一个可视化的数据大屏进行展示。

设计模式：workfine分为两种设计模式，一种是表格式的设计模式，主要是通过类excel设计器进行设计，是workfine的主要设计手段，一种是控件式的设计

## [3.2 定义模板](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796307)

我们在上一小结建立模板后，还需要对模板进行定义，定义模板是建立前端字段和后端数据库之间一一对应的关系。

定义模板分为定义主表项和定义扩展项

主表项：指一次只能填写一条记录的数据表样

扩展项：指一次能填写多条数据记录的数据表样

模板定义可参照[学习视频](https://community.bn100.com/video)【定义数据项】

定义主表项： 1、选择字段的填写区域，弹出编辑框，确定字段名称和字段类型后，点击保存即可  。

​![](https://dochelp.bn100.com/download/attachments/40796307/image2022-6-2_20-21-45.png?version=1&modificationDate=1654172505463&api=v2)![](https://dochelp.bn100.com/download/attachments/40796307/image2022-6-2_20-31-0.png?version=1&modificationDate=1654173059870&api=v2)​

定义扩展项：

1、选择字段的填写区域，弹出编辑框，确定字段名称和字段类型后，点击保存即可。

​![](https://dochelp.bn100.com/download/attachments/40796307/image2022-6-2_20-44-10.png?version=1&modificationDate=1654173850297&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796307/image2022-6-2_20-44-46.png?version=1&modificationDate=1654173885813&api=v2)​

## [3.3 常用的excel公式](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796316)

workfine支持300+excel公式的写法，不仅能够支持绝大部分excel公式的原生写法，同时，还能够根据需要扩展出一些常用excel公式，如组合函数，序号函数，数字转大写等

以下为常用的excel函数，更多excel函数的用法可参照office中excel的用法

||公式|用法|示例|备注|
| ----| ---------------------------| -------------------------------------------| ------------------| -------------------------------------------------------------------------------|
|1|序号|order()|=order(B$5:B6)|B列为扩展表某个必填字段，B$5为扩展表的表头行，需要锁定，   B6对应序号的当前行|
|2|数字转金额|camount()|=camount(B2)|B2为某一个数值单元格|
|<br />|取身份证日期|getbirthday()|=getbirthday(F2)|<br />|
|<br />|取身份证性别|getsex()|=getsex(F2,1)|<br />|
|3|join函数|join(D15:D18)|=join(B2:B12)|得到的结果可能为：work,fine,very,good|
|4|if|IF(D2>C2,"是","否")|=if(B2>B3,B4,B5)|<br />|
|5|isblank||=ISBLANK(B2)|workfine中空值的判断要用isblank(B2) 而不是B2=""|
|6|#value|错误处理|=iserror(B2)|参照excel中iserror,if,iferror的处理，|
|7|SUM(求和范围）|SUM(A1:A5)|<br />|<br />|
|8|SUMIF(）|SUMIF（A1:A10,“小明”，B1:B10)|<br />|<br />|
|9|平均值函数|AVERAGE（平均值范围)|<br />|<br />|
|10|AVERAGEIF()|AVERAGEIF(F4:F13,">30",J4:J13)|<br />|<br />|
|11|计数函数 (数字类型)|COUNT（统计范围）|<br />|<br />|
|12|计数函数 （任何类型）|COUNTA（统计范围）|<br />|<br />|
|13|最大值函数MAX（统计范围）|MAX(C4:C19）|<br />|<br />|
|14|最小值函数MIN（统计范围）|MIN(C4:C15）|<br />|<br />|
|15|文本合并函数|CONCATENATE（文本1，文本2）或=文本1&文本2|<br />|<br />|
|16|截取字符串函数|MID(字符串，截取开始位置，截取位数)|<br />|<br />|
|17|左侧截取字符串函数|LEFT（字符串，截取位数)|<br />|<br />|
|18|右侧截取字符串函数|RIGHT（字符串，截取位数)|<br />|<br />|
|19|删除空格函数|TRIM（字符串）|<br />|<br />|
|20|字符个数函数|LEN（字符串）|<br />|<br />|
|21|求余函数|MOD（值）|<br />|<br />|

## [3.4 基础的样式设置](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796318)

​![](https://dochelp.bn100.com/download/attachments/40796318/image2022-6-2_21-17-35.png?version=1&modificationDate=1654175855033&api=v2)​

其中特殊说明的有：冻结行和筛选

冻结行：冻结上行左列时，是鼠标点击某个单元格后，冻结对应单元格的上行和左列

               冻结上部行或者左列行是，是鼠标选择整行或者整列后，冻结对应行或者列

​![](https://dochelp.bn100.com/download/attachments/40796318/image2022-6-2_21-21-35.png?version=1&modificationDate=1654176095697&api=v2)​

筛选：

      筛选设置是选择整个表头+编辑区域再点击筛选按钮，**不能只选择表头区域**

​![](https://dochelp.bn100.com/download/attachments/40796318/image2022-6-2_21-24-51.png?version=1&modificationDate=1654176290983&api=v2)​

## [3.5 模板属性说明](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796327)

模板属性功能说明如下：

​![](https://dochelp.bn100.com/download/attachments/40796327/image2022-6-2_21-50-46.png?version=1&modificationDate=1654177846117&api=v2)​

|**属性分类**|**属性**|**功能说明**|**备注**|
| ------------------| ----------------------------| ------------| ------------------------------------------------------------------------|
|基础<br />|模板名称|模板名称||
||所属分类|模板对应的分组||
||查询模板|可在填报模板和查询模板之间切换||
||图标|可设置模板对应的图标||
||隐藏|可设置模板隐藏，但是模板仍可用，隐藏后，多用于链接填报||
||启用|可设置模板停用，停用后，模板将不允许任何形式的被操作，数据被调用等||
|数据处理<br />|常规|可设置不同数据量时的处理方式，当设置速度较快时，会丢失一部分显示方式<br />||
||较快|||
||急速|||
||大数据|||
|展现样式<br />|标签|可设置在新增，查看，修改表单时，表单的打开方式<br />||
||滑动|||
||弹窗|||
|预览方式<br />|表格|可设置历史记录界面的查看效果<br />||
||卡片|||
|预览可见<br />|填报人|可设置在应用端的历史记录界面，能够显示一些系统字段值<br />||
||填报时间|||
||其它字段|||
|扩展表右键菜单<br />|删除行列|可设置是否能够进行扩展表的增行，删行操作<br />||
||扩展行列|||
|按钮设置<br />|新增|可修改应用端显示的各种按钮的名称，并设置其是否显示<br />||
||编辑|||
||查看|||
||保存|||
||保存并新增|||
||保存并关闭|||
||暂存|||
||复制新增|||
||关闭|||
||历史记录|||
||上一页|||
||下一页|||

## [3.6 数据项管理](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796329)

数据项管理能够对表及表字段的一些属性进行设置

​![](https://dochelp.bn100.com/download/attachments/40796329/image2022-6-2_21-54-9.png?version=1&modificationDate=1654178049357&api=v2)![](https://dochelp.bn100.com/download/attachments/40796329/image2022-6-2_22-7-13.png?version=1&modificationDate=1654178833380&api=v2)​

[学习视频](https://community.bn100.com/video)：数据类型、唯一、相同值合并、条件格式、间隔色、复制新增、历史记录、用户签名

​![](https://dochelp.bn100.com/download/attachments/40796329/image2022-6-2_22-7-47.png?version=1&modificationDate=1654178867167&api=v2)​

数据管理器功能说明：

|类型|属性|属性说明|备注|
| ------------| ----------------------------| ------------| --------------------------------------------------------|
|表属性<br />|表名称|表名称|不允许重复|
||必填|扩展表必须至少填一条记录||
||间隔色|设置扩展表间隔行相同的颜色||
||隐藏|在历史记录隐藏整个扩展表||
||保存数据|扩展表的数据是否保存到数据库中||
||删除数据表|删除数据表|数据表不被逻辑引用的情况下才能够删除|
|字段属性<br />|删除|输出字段|字段不被逻辑引用的情况下才能够被删除|
||移动顺序|可移动字段与字段之间的相互顺序|鼠标指向序号列，待光标显示齿轮状后可拖动鼠标移动，也可以点击所在区域字段进行顺序调整|
||名称|字段名称|一个数据表内字段名称不允许重复|
||区域|字段在设计器上的对应区域|扩展表数据区域一致要看字段区域是否连续，且连续的区域是否跟表区域一致|
||字段类型|字段类型未文本，数字，日期，图片，附件等||
||必填|设置字段必填，如果不填写，在表单保存的时候将会有提醒||
||唯一设置|设置唯一值，当数据有重复时，在保存表单的时候将会有提醒||
||可编辑|设置字段是否能够编辑||
||条件格式|满足条件时，给出相应的样式变更或者提醒||
||相同值合并|相同的值合并为一个单元格||
||复制新增|点击复制新增按钮式，新增的单据能够复制已有单据的数据||
||参与搜索|在历史记录可以搜索数据||
||隐藏字段|在历史记录可以隐藏数据||
||排序|对历史记录数据进行排序||

## [3.7 表间公式](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796342)

表间公式分为提取公式和回写公式，它能够将系统中的数据提取到当前表，也可以将当前表的数据回写到系统中的其它表中

​![](https://dochelp.bn100.com/download/attachments/40796342/image2022-6-2_22-31-42.png?version=1&modificationDate=1654180353547&api=v2)​

### [3.7.1 提取公式](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498120)

1、提取公式和回写公式是整个workfine产品应用的核心功能点，编写提取公式和回写公式相当于在数据库中编写SQL代码操作数据表，但这种使用会比直接编写SQL代码门槛要低很多，效率也会高很多。

2、任何的数据表的数据交互都可以通过提取公式或者回写公式来实现。例如：数据引用，数据查询，汇总统计，修改历史数据，批量导入数据等都可以通过公式实现。

3、提取公式和回写公式的使用不需要设计者编写任何代码，只需要点选式操作就可以，使用过程中需要设计者具有较强的逻辑思维理解能力。

4、论坛中帖子，对提取公式做了具体的解析，学有余力的同学可以查阅一下，[http://www2.bossietech.com/bbs/forum.php?mod=viewthread&amp;tid=6480](http://www2.bossietech.com/bbs/forum.php?mod=viewthread&tid=6480)

5、提取公式的大致逻辑思路如下所示：

​![](https://dochelp.bn100.com/download/attachments/46498120/%E5%9B%BE%E7%A4%BA-%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F.png?version=1&modificationDate=1667975201630&api=v2)​

使用过程中需要注意的细节点特别多就不一一列举，这些在使用过程中可根据实际情况反复练习。

#### [提取公式基本介绍](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498123)

提取公式是将数据库中的数据提取到当前表单中来，提取公式的使用需要注意一下几点：

1、提取公式的数据来源可以是一个数据表，也可以是多个关联的数据表。

2、提取公式可以指定执行时机，在编写提起公式时，设置好判断公式来制定需要执行的时间点。

3、提取公式的提取结果可以是与数据源相同，也可以是数据源处理过的数据。比如对数据源进行汇总，计数，字段组合等。

下图为提取公式的基本逻辑：

​![](https://dochelp.bn100.com/download/attachments/46498123/%E5%9B%BE%E7%A4%BA-%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F2.png?version=1&modificationDate=1667975201947&api=v2)​

1、入口：应用端→表单查询  
2、操作：打开表单时，在起始日期和截止日期出输入时间段，点击【查询明细】按钮即可查询到该时间段内的租房信息。

​![](https://dochelp.bn100.com/download/attachments/46498123/image2022-11-9_14-49-47.png?version=1&modificationDate=1667976588100&api=v2)​

#### [提取公式逻辑符号简介](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498129)

提取公式中会应用到很多逻辑符号，这些逻辑符号的使用，是为了帮助我们抽象各种判断条件。比如1+1*2=3，或者(1+1)*2=4,或者2*2+1*2=6，这些都是我们在小学课本中使用的判定公式。

同样的在workfine的提取公式中，也需要设计者写类似的判定公式，来帮助我们实现业务上的筛选或者填充。设计者在使用逻辑符号的时候不需要将其想的过于复杂，只需将其当做一道小学的数学题。

**各种运算符的含义及表达方式如下：**

​![](https://dochelp.bn100.com/download/attachments/46498129/image2019-6-15_13-54-59.png?version=1&modificationDate=1667975202547&api=v2)​

|逻辑运算符|含义|Workfine设计端表达式|
| ------------| -----------------------------------------------------------------------------------------------------------------| ---------------------------------------------------------------------------------|
|+|加法的意思，数值相加直接得合计值（1+1结果为2）,文本相加变成组合形式（'a' +' b'结果为'ab'）|表.字段1+表.字段2|
|-|减法的意思，数值相减得到减值结果（2-1结果为1）|表.字段1-表.字段2|
|×|乘法的意思，数值相乘得到乘积结果（2×3结果为6）|表.字段1×表.字段2|
|/|除法的意思，数值相除得到商结果（6/2结果为3）|表.字段1/表.字段2|
|<=|小于等于的意思，2<=3|表.字段1<=表.字段2|
|<|小于的意思， 1<2|表.字段1<表.字段2|
|>|大于的意思，2>1|表.字段1>表.字段2|
|>=|大于等于的意思，3>=2|表.字段1>=表.字段2|
|=|等于的意思，2=2|表.字段1=表.字段2|
|<>|不等于的意思，2<>2|表.字段1<>表.字段2|
|''|单引号，如果是文本固定值，需要用单引号引起来，来源表.字段='无锡柏思科技'|表.字段1='文本值'|
|( )|双括号，可以指定相应逻辑判断的优先级。(字段 1 =字段 2 或者字段 1 = ' ' ） 并且(字段 3=字段 4，或者字段 4= ' '）|(表.字段 1 = 表.字段 2 或者 表.字段 2 = '柏思' ） 或者(表.字段 2 = '柏思科技'）|
|并且|并且左右两边的表达式要同时成立 ， 1=1 并且 2=2 成立，1 = 1 并且 2 = 3 不成立。|表 a. 字段 1 = 表 b. 字段 2 并且 表 a. 字段 3 = 表 b. 字段 4|
|或者|或者左右两边的表达式成立任何一个即可。1= 1 或者 2 = 2 成立，1 = 1 或者 1 = 2 成立 ， 1 = 2 或者 2 = 3 不成立|表 a. 字段 1 = 表 b. 字段 2 或者 表 a. 字段 3 = 表 b. 字段 4|
|形如|形如 模糊匹配字段内容，'无锡柏思科技' 形如 '柏思科技'，‘workfine' 形如 'work'|表.字段 1 形如 '％ + 无锡柏思科技 + ％'|
|属于|数据字段内容在某个集合中。'a ' 属于 {a, b,c ,d, e} ， 'b' 属于{a, b,c ,d, e}|表.字段 1 属于此集合 ( '无锡柏思科技' ，'柏思科技'，'柏思'，'workfine')|
|不属于|数据字段内容不在某个集合中。'a ' 属于 {a, b,c ,d, e} ， 'b' 属于{a, b,c ,d, e}|表.字段 1 不属于此集合 ( '无锡柏思科技' ，'柏思科技'，'柏思'，'workfine')|

在写这道算术题的时候我们只需要牢记以下三点：

**1、在需要判定的时候写上判定条件；**

**2、在有优先判定的时候用括号将条件括起来；**

**3、在有选择判定的时候用“并且”和 “或者”连接起来。**

[采购订单_主表].[订单日期]＞=本报表.[采购订单汇总_主表].[开始日期] 并且［采购订单_主表].[订单日期]＜=本报表.[采购订单汇总_主表].[结束日期]  
并且 ([采购订单_主表].[单位编号] = 本报表.[采购订单汇总_主表].[供应商编号] 或者 本报表.[采购订单汇总_主表].[供应商编号] = '  ')

逻辑单元=判定符+判定内容  如：字段a = 字段A是一个逻辑单元  
筛选条件=逻辑单元+连接符+逻辑优先符  
如筛选条件：字段a=字段A并且（字段b=字段B 或者 字段b=''）是由三个逻辑单元（a=A,b=B,c=C）,两个逻辑连接符（并且，或者）， 一个逻辑优先符（）组成

#### [数据来源](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498135)

我们前面讲过，提取公式的一个基本要素就是数据源，在一个数据库中，数据表会有很多个，在选择这些数据表作为数据源时，也会有很多种组织形式。

我们将数据源的不同组织形式归纳为如下三种：

1、数据源只有一个表（主表或扩展表）；  
2、数据源是同一个模板的主表和扩展表；  
3、数据源是不同模板的多个表；

**当数据源是不同模板的多个数据表时，需要我们通过表之间的相同字段（字段要保证唯一性）手动将这些表做关联**。

##### [单表数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498136)

在大多数应用场景中，数据源就是一个数据表，此时的数据源比较简单，我们不需要对数据源结构做任何处理，只需要在提取公式中选中数据源即可，可以设置筛选条件来提取想要填充的数据信息。

​![](https://dochelp.bn100.com/download/attachments/46498136/image2022-11-9_16-10-33.png?version=1&modificationDate=1667981434067&api=v2)​

##### [主从表自动关联](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498138)

当提取公式的数据源是同一个模板的主表字段和扩展表字段时，系统会自动将主表和扩展表关联起来，不需要设计者手动关联。

​![](https://dochelp.bn100.com/download/attachments/46498138/image2022-11-9_16-12-46.png?version=1&modificationDate=1667981566517&api=v2)​

##### [不同模板的多表，设置关联条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498140)

当数据源来自不同模板的多个数据表时，需要设计者根据实际情况，选择需要的数据表并将表关联起来，关联过程中要着重理解左关联，右关联，内联的意思。如下：

1. 左关联：采购订单与入库单左关联，关联条件是订单的字段A=入库单的字段D,左关联信息以左侧数据表为准，右侧入库单有三条信息能够与左侧根据条件匹配上，故得到的左关联匹配结果如下图“左关联”；
2. 右关联：采购订单与入库单右关联，关联条件是订单的字段A=入库单的字段D,右关联信息以右侧数据表为准，左侧订单有三条信息能够与右侧根据条件匹配上，故得到的右侧关联匹配结果如下图“右关联”；
3. 联合：采购订单与入库单联合，关联条件是订单的字段A=入库单的字段D,内联后两边记录必须同时匹配，联合也有三条信息匹配上，联合后关联匹配结果如下图“内联”（联合=内联）；

​![](https://dochelp.bn100.com/download/attachments/46498140/image2019-6-15_15-18-25.png?version=1&modificationDate=1667975208197&api=v2)​

#### [筛选条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498142)

筛选条件是为了在提取公式中，将来源数据进行筛选，以得到更加精确的数据源，如下图所示，选择的数据源中有三条数据记录，当经过筛选条件筛选后，就剩下一条需要的记录了。

​![](https://dochelp.bn100.com/download/attachments/46498142/333.jpg?version=1&modificationDate=1667975208263&api=v2)​

本节主要是根据不同的业务场景，制定不同的筛选条件实现不同的业务需求。

##### [相等匹配条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498144)

相等条件匹配，是筛选条件中应用最多的一种判断方法。如下所示，**只提取在销售订单中输入物料名称与销售订单中物料名称相等的订单信息**。

通过相等条件匹配可以很精确的找到来源表中需要的数据信息。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，鼠标点击需要做相等匹配的来源表字段，字段会自动填充到条件编辑框内，点击编辑框中的“=”，然后点击本报表需要对应相等匹配的字段，保存即可。

视频中以对物料名称做相等匹配为例，在应用端输入物料名称，该订单的信息会自动填充到本报表的扩展表中。

​![](https://dochelp.bn100.com/download/attachments/46498144/image2022-11-9_15-36-16.png?version=1&modificationDate=1667979376197&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498144/image2022-11-9_15-37-56.png?version=1&modificationDate=1667979476363&api=v2)​

##### [不等匹配条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498146)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，鼠标点击需要做不相等匹配的来源表字段，字段会自动填充到条件编辑框内，点击编辑框中的“<>”，然后点击本报表需要对应不相等匹配的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498146/image2022-11-9_17-24-35.png?version=1&modificationDate=1667985876307&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498146/image2022-11-9_17-25-10.png?version=1&modificationDate=1667985910623&api=v2)​

##### [大于、大于等于、小于、小于等于匹配条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498148)

在编辑筛选条件过程中，还会用到大于、大于等于、小于、小于等于的判定条件。比如：查询某时间段内的订单内容，需要在筛选条件中判断**订单的日期大于查询的开始日期，并且订单日期小于查询的结束日期**。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，鼠标点击需要做大于、大于等于、小于、小于等于的来源表字段，字段会自动填充到条件编辑框内，点击编辑框中的“>”">=““<”“<=”，然后点击本报表需要做对应条件匹配的字段，保存即可。  
视频中以对订单日期做大于等于、小于等于匹配为例。想要达成的效果是在采购订单查询模板中查询从开始日期到结束日期的所有订单的信息。

在筛选条件tab中设置来源表采购订单的订单日期大于等于本报表的开始日期，并且小于等于本表的结束日期，设置完成后保存。此时筛选日期内的订单信息会自动填充到本报表的扩展表中。

​![](https://dochelp.bn100.com/download/attachments/46498148/image2022-11-10_15-2-39.png?version=1&modificationDate=1668063759887&api=v2)​

##### [提取公式并且](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498151)

"并且“是要求判定同时成立的意思，“并且”连接的表达式中有任何一个不成立，那么整个判定将不成立。

如下，**输入的字段A和字段B的内容必须与来源表中字段A和字段B的内容相同时，才能提取出来源表的数据，任何一个字段内容不同将提取不出任何数据。**

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，需要设置同时满足两个条件，使用“并且”可将两个条件进行连接。

​![](https://dochelp.bn100.com/download/attachments/46498151/image2022-11-11_10-33-44.png?version=1&modificationDate=1668134024493&api=v2)​

##### [提取公式或者](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498153)

”或者“是要求判定条件中有一个成立即可。”或者“连接的表达式，有任何一个条件成立，那么整个判定就成立。

如下，**输入的字段A和字段B的内容时，任何满足与字段A内容相等，或者与字段B内容相等的来源数据都能够提取出来。**

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，满足其中一个条件即可，使用“或者”可将两个条件进行连接。

​![](https://dochelp.bn100.com/download/attachments/46498153/image2022-11-11_10-43-37.png?version=1&modificationDate=1668134617503&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498153/image2022-11-11_11-13-38.png?version=1&modificationDate=1668136419097&api=v2)​

##### [括号优先级说明](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498155)

”括号“代表逻辑判断的优先级，括号内的逻辑会作为一个整体优先判断。与我们的数学算数一样，2*2+3 与2*(2+3)所得到的结果是不同的，括号内的表达式组成了一个逻辑判断的单元，整个括号内的条件会优先判断，然后再与括号外的条件做合并判断。

如下所示，筛选条件中当用括号将后两个条件括起来时，字段A必须输入数据才能提取到数据;如果不括起来，字段A不输入任何数据，也能够提取出数据来。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，当需要指定某个条件优先执行时，可使用“（）”将其包含在内。

​![](https://dochelp.bn100.com/download/attachments/46498155/image2022-11-11_14-17-18.png?version=1&modificationDate=1668147438677&api=v2)​

##### [日期加减匹配条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498157)

​![](https://dochelp.bn100.com/download/attachments/46498157/image2022-11-11_14-29-15.png?version=1&modificationDate=1668148155390&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498157/image2022-11-11_14-30-45.png?version=1&modificationDate=1668148245580&api=v2)​

##### [模糊匹配条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498159)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，鼠标点击需要做模糊匹配的来源表字段，字段会自动填充到条件编辑框内，点击编辑框中的“形如”，在两个%之间插入本报表需要对应模糊匹配的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498159/image2022-11-11_14-33-45.png?version=1&modificationDate=1668148425747&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498159/image2022-11-11_14-35-46.png?version=1&modificationDate=1668148547070&api=v2)​

##### [文本固定值条件、日期固定值条件、数值固定值条件](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498161)

对于固定值的写法，workfine设计器中会有基本的要求：  
a、空值用单引号''即可  
b、文本固定值需要用单引号引起来，如：‘无锡柏思科技’  
c、日期固定值需要用单引号引起来，如：‘2019-2-1’  
d、数值固定值，直接编辑即可，如：8888  
e、组合内容表达式为：文本字段+日期转字符(日期字段)+数值转字符(数值字段)+‘文本固定值’

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【筛选条件】tab中，当需要设置某个字段在表单新建时就显示指定的内容，可使用 单引号 ‘’ 将其包含在内。

​![](https://dochelp.bn100.com/download/attachments/46498161/image2022-11-11_16-9-17.png?version=1&modificationDate=1668154157670&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498161/image2022-11-11_16-12-11.png?version=1&modificationDate=1668154331360&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498161/image2022-11-11_16-45-15.png?version=1&modificationDate=1668156316087&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498161/image2022-11-11_17-0-25.png?version=1&modificationDate=1668157225367&api=v2)​

#### [提取公式填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498163)

前面我们学习了数据源和筛选条件，而我们使用提取公式的目的是将数据提取到当前操作的表单上，以合适的形式展示出来。

提取公式的填充不仅仅是将数据明细按原有的形式显示，还可以对数据做各种形式的转换后进行填充。

##### [明细填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498164)

明细填充只需要将来源表的字段，一一对应填充到当前表的字段上即可，填充的时候字段对应的数据类型必须一致。如下所示：

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】中选择主表或者扩展表填充，先选中需要填充的目标字段，再点击左侧来源表字段，此时字段会自动填充到右侧中。点击保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498164/image2022-11-14_9-30-48.png?version=1&modificationDate=1668389448740&api=v2)​

##### [合计填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498167)

在业务系统中需要数据做各种维度的汇总，在workfine中实现数据的汇总特别简单，只需要在填充的时候对相应的字段做合计处理。如下所示：

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要做合计的目标字段右侧的编辑图标，在弹出的填充方式中点击【fx】按钮，选择统计函数中的合计函数，在编辑框内将默认的“[数字型字段名]”字样替换为需要做合计的数字型字段，设置完成后点击保存即可。

视频以查询某段时间内每个供应商的采购数量和金额总额为例，在筛选条件中设置相应条件，在填充方式中对数量和金额字段做合计，保存之后在应用端可查询。

​![](https://dochelp.bn100.com/download/attachments/46498167/image2022-11-14_13-5-3.png?version=1&modificationDate=1668402304133&api=v2)​

##### [计数填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498171)

用计数填充填充的时候可以将相应的字段信息进行计数，这也是workfine中提供的高级表达式的一种，学习的过程中不仅仅需要了解计数函数的使用，更需要了解高级表达式中不同函数的用法。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要计数的目标字段右侧的编辑图标，在弹出的填充方式中点击【fx】按钮，选择统计函数中的计数函数，在编辑框内将默认的“[字段名]”字样替换为需要做计数的数字型字段，设置完成后点击保存即可。

视频以查询某段时间内每个供应商的订单个数，在填充方式中来源表的订单编号做计数，保存之后在应用端可查询。

​![](https://dochelp.bn100.com/download/attachments/46498171/image2022-11-14_14-32-31.png?version=1&modificationDate=1668407551890&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498171/image2022-11-14_14-33-24.png?version=1&modificationDate=1668407604550&api=v2)​

##### [最后一条记录填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498174)

在很多场景应用中，我们需要提取最近的一笔记录、成交量最大的单据等，这些信息的提取只需在workfine设计器中，通过提取公式中的填充方式来快速设置，实现所要求的最后一笔记录的填充，具体操作步骤如下：

1、按要求将要填充的数据排序，确保所需要的数据记录排在第一行。例如：如果你想要填充最近的一笔记录，那么将单据编号设置为降序排列；如果是填充价格最小的一笔记录，则将价格设置为升序排列；  
2、在应用选项中勾选筛选前1条记录。

通过以上两处设置，就能够实现“最***”的记录的提取

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，将需要填充最后一条记录的字段的排序设置为降序，在【应用选项】中设置筛选第1条，保存即可。在应用端查询时就能够得到最后一条记录的数据。

​![](https://dochelp.bn100.com/download/attachments/46498174/image2022-11-14_16-11-43.png?version=1&modificationDate=1668413504317&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498174/image2022-11-14_16-12-40.png?version=1&modificationDate=1668413561207&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498174/image2022-11-14_16-14-51.png?version=1&modificationDate=1668413691920&api=v2)​

##### [按条件填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498176)

按条件填充指的是可以根据不同的条件填充不同的信息，这里将涉及到数据库中case when 的用法，通过不同的条件设置做出判断，从而满足填充时的动态取值。

虽然workfine是一个零编码的开发业务系统，但如果您是一个SQL大神，您也可以使用一些SQL里面的函数来实现更加丰富的场景应用。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要按条件填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中根据实际业务需求输入条件。

输入条件时需要使用到case when 语句。

---

视频中以发票管理为例：对剩余开票金额字段做按条件填充：

case when [发票管理_扩展表].[合同金额]-[发票管理_扩展表].[开票金额]=0 then 0 when  [发票管理_扩展表].[合同金额]-[发票管理_扩展表].[开票金额]>0 then [发票管理_扩展表].[合同金额]-[发票管理_扩展表].[开票金额] end

***对于没有数据库基础的用户可以参照下面的翻译指导：***

case     可以理解为中文：“我要开始写条件了：”  
when   可以理解为中文：“如果”  
then     可以理解为中文：“显示”  
end      可以理解为中文：“设置完成”

这样整个句子的意思就是：

我要开始写条件了：如果发票管理扩展表中的合同金额-开票金额=0，剩余开票金额就显示0，如果发票管理扩展表中的合同金额-开票金额>0，剩余开票金额就显示合同金额减去开票金额的差值，设置完成。

---

​![](https://dochelp.bn100.com/download/attachments/46498176/image2022-11-16_11-0-8.png?version=1&modificationDate=1668567608763&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498176/image2022-11-16_11-1-3.png?version=1&modificationDate=1668567663420&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498176/image2022-11-16_11-4-49.png?version=1&modificationDate=1668567889490&api=v2)​

##### [文本字段组合填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498178)

文本字段组合填充的主要知识点如下：

1、文本字段与文本字段用‘+’连接；  
2、固定值内容用单引号引起来，如：‘无锡柏思科技’；  
3、日期型字段需要利用转换函数日期转字符转换成文本字段，如：日期转字符(日期字段)；  
4、数值型字段需要利用转换函数数值转字符转换成文本字段，如：数值转字符(数字字段)

组合内容表达式为：文本字段+日期转字符(日期字段)+数值转字符(数值字段)+‘文本固定值’

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要填充多个文本的字段右侧编辑图标，在弹出的【填充方式】编辑框中根据实际业务需求输入条件，在单引号里输入想要显示的文本，使用“+”连接。

​![](https://dochelp.bn100.com/download/attachments/46498178/image2022-11-16_11-14-14.png?version=1&modificationDate=1668568454653&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498178/image2022-11-16_11-14-55.png?version=1&modificationDate=1668568495633&api=v2)​

##### [数值计算填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498180)

提取公式的填充还可以是表达式的填充，比如：相应的字段计算得出的结果。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要通过数值计算后填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中根据实际业务需求输入条件，可使用  “+   -   *   /  ”等基础的数值运算符得出结果，支持统计函数、数字函数等进行运算。

​![](https://dochelp.bn100.com/download/attachments/46498180/image2022-11-16_11-23-24.png?version=1&modificationDate=1668569005183&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498180/image2022-11-16_11-26-12.png?version=1&modificationDate=1668569172440&api=v2)​

##### [日期加减填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498184)

当使用日期字段填充时，我们还可以对日期做加减处理后填充。如：开始日期提取与当前日期间隔30天的日期

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置日期加减填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择日期函数中的日期加减函数，将默认的“-1”替换为需要加减的天数，“【日期】”替换为当前日期或者特定某个日期。

特定日期格式：日期加减(d,-30,'20190601')，引号里填写特定日期.

日期加减函数解释：设定一个日期（ Date ）所加上的一段期间的单位。譬如 interval=d 表示 N的单位为日。 的设定值如下： yyyy Year年 Quarter 季 m Month 月 d Day 日 w Weekday 星期 h Hour 时 n Minute 分 s Second 秒

​![](https://dochelp.bn100.com/download/attachments/46498184/image2022-11-16_13-25-29.png?version=1&modificationDate=1668576329680&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498184/image2022-11-16_13-27-15.png?version=1&modificationDate=1668576435867&api=v2)​

###### [转换填充](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498186)

转换填充是指当来源字段与被填充字段的字段类型不一致的时候，需要将来源字段做一定的转换，使其以合适的形式，和相同的类型填充到当前表字段中来。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置转换填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择日期函数中的星期值函数，将默认的“【日期】”替换为需要设置转换的字段。

​![](https://dochelp.bn100.com/download/attachments/46498186/image2022-11-16_13-46-46.png?version=1&modificationDate=1668577606517&api=v2)​

[填充时排序](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498188)

填充时排序指将填充的数据按照要求的顺序排列，当有多个字段参与排序时，根据优先级顺序填充数据，在最上面的字段为优先。我们还可以拖动字段顺序来达到控制优先级的目的。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，将需要设置排序的字段的排序功能设置为升序或降序，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498188/image2022-11-16_13-54-30.png?version=1&modificationDate=1668578070740&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498188/image2022-11-16_13-56-29.png?version=1&modificationDate=1668578189897&api=v2)​

#### [高级函数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498190)

在上一节提取公式的填充中，我们讲解了各种形式的填充。其中很多都应用到了高级函数，高级函数的使用能够帮助我们快速的实现数据处理的目的，本节我们将列举一些常用的高级函数以帮助学习者加深对高级函数的印象。

##### [合计](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498192)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置合计填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择统计型函数中的合计函数，将“【数字型字段名】”替换为需要做合计的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498192/image2022-11-16_14-55-14.png?version=1&modificationDate=1668581715180&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498192/image2022-11-16_14-58-14.png?version=1&modificationDate=1668581894457&api=v2)​

##### [计数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498194)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置计数填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择统计型函数中的计数函数，将“【字段名】”替换为需要做计数的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498194/image2022-11-16_15-2-51.png?version=1&modificationDate=1668582171563&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498194/image2022-11-16_15-5-4.png?version=1&modificationDate=1668582304553&api=v2)​

##### [计数排除重复](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498196)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【应用选项】tab中，勾选排除重复，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498196/%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0_%E8%AE%A1%E6%95%B0%E6%8E%92%E9%99%A4%E9%87%8D%E5%A4%8D.gif?version=1&modificationDate=1667975291860&api=v2)​

##### [最大值](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498198)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置最大值填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择统计函数中最大值函数，将“【字段名】”替换为需要提取最大值的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498198/image2022-11-16_15-19-20.png?version=1&modificationDate=1668583160953&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498198/image2022-11-16_15-19-54.png?version=1&modificationDate=1668583194887&api=v2)​

##### [最小值](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498200)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置最小值填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择统计函数中最小值函数，将“【字段名】”替换为需要提取最小值的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498200/image2022-11-16_15-25-45.png?version=1&modificationDate=1668583545890&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498200/image2022-11-16_15-26-20.png?version=1&modificationDate=1668583580283&api=v2)​

##### [拼音码](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498202)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置按照拼音填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择字符串函数中的拼音码函数，将“【字段名】”替换为需要显示其首字母拼音的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498202/image2022-11-16_15-28-46.png?version=1&modificationDate=1668583726917&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498202/image2022-11-16_15-29-46.png?version=1&modificationDate=1668583787543&api=v2)​

##### [字符串长度](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498204)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置字符串长度填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择字符串函数中的字符串长度函数，将“【字符串】”替换为需要计算其长度字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498204/image2022-11-16_16-17-22.png?version=1&modificationDate=1668586642487&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498204/image2022-11-16_16-18-26.png?version=1&modificationDate=1668586706657&api=v2)​

##### [数值转字符](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498206)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置填充字符的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择类型转换函数中的数值转字符函数，将“【字符串】”替换为需要进行转换的字段，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498206/image2022-11-16_16-20-39.png?version=1&modificationDate=1668586840067&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498206/image2022-11-16_16-23-46.png?version=1&modificationDate=1668587026450&api=v2)​

##### [日期转字符](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498208)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置填充字符的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择类型转换函数中的日期转字符函数，将“【字符串】”替换为需要进行转换的字段，将“【格式】”替换为“112”，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498208/image2022-11-16_16-32-28.png?version=1&modificationDate=1668587548263&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498208/image2022-11-16_16-33-18.png?version=1&modificationDate=1668587599057&api=v2)​

其中“112”可替换其他日期显示格式，具体数值参见下表：

|Style ID|Style格式|
| -----------| --------------------------------------|
|100或者0|mon dd yyyy hh:miAM(或者 PM)|
|101|mm/dd/yy|
|102|yy.mm.dd|
|103|dd/mm/yy|
|104|dd.mm.yy|
|105|dd-mm-yy|
|106|dd mon yy|
|107|Mon dd, yy|
|108|hh:mm:ss|
|109或者9|mon dd yyyy  hh:mi:ss:mmmAM(或者 PM)|
|110|mm-dd-yy|
|111|yy/mm/dd|
|112|yymmdd|
|113或者13|dd mon yyyy  hh:mm:ss:mmm(24h)|
|114|hh:mi:ss:mmm(24h)|
|120或者20|yyyy-mm-dd  hh:mi:ss(24h)|
|121或者21|yyyy-mm-dd  hh:mi:ss.mmm(24h)|
|126|yyyy-mm-ddThh:mm:ss.mmm(没有空格)|
|130|dd mon yyyy  hh:mi:ss:mmmAM|
|131|dd/mm/yy  hh:mi:ss:mmmAM|

##### [绝对值](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498211)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要设置绝对值填充的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择数字型函数中的绝对值函数，将“【字段名】”替换为需要以绝对值形式显示的字段，保存即可。

绝对值：绝对值指一个数在数轴上所对应点到原点的距离。比如“3”的绝对值是3，“-3”的绝对值也是3。是一个大于或等于0的数。

​![](https://dochelp.bn100.com/download/attachments/46498211/image2022-11-16_16-39-22.png?version=1&modificationDate=1668587962420&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498211/image2022-11-16_16-43-47.png?version=1&modificationDate=1668588227367&api=v2)​

##### [年份函数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498213)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要填充年份的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择日期时间函数中的年份函数，将“【日期】”替换为来源表中的日期字段。

​![](https://dochelp.bn100.com/download/attachments/46498213/image2022-11-16_16-49-8.png?version=1&modificationDate=1668588548797&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498213/image2022-11-16_16-50-3.png?version=1&modificationDate=1668588603243&api=v2)​

##### [月份函数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498215)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要填充月份的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择日期时间函数中的月份函数，将“【月份】”替换为来源表中的日期字段。

​![](https://dochelp.bn100.com/download/attachments/46498215/image2022-11-16_16-53-25.png?version=1&modificationDate=1668588805520&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498215/image2022-11-16_17-1-18.png?version=1&modificationDate=1668589278193&api=v2)​

##### [日期函数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498217)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要填充月份的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择日期时间函数中的月份函数，将“【日期】”替换为来源表中的日期字段。

​![](https://dochelp.bn100.com/download/attachments/46498217/image2022-11-16_17-4-10.png?version=1&modificationDate=1668589451127&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498217/image2022-11-16_17-4-39.png?version=1&modificationDate=1668589479843&api=v2)​

##### [星期函数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498219)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要填充月份的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择日期时间函数中的月份函数，将“【星期值】”替换为来源表中的日期字段。

​![](https://dochelp.bn100.com/download/attachments/46498219/image2022-11-16_17-15-44.png?version=1&modificationDate=1668590145563&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498219/image2022-11-16_17-16-38.png?version=1&modificationDate=1668590198630&api=v2)​

##### [日期加减函数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498221)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击【fx】选择日期函数中的日期加减函数，将默认的“-1”替换为需要加减的天数，“【日期】”替换为当前日期或者特定某个日期。

​![](https://dochelp.bn100.com/download/attachments/46498221/image2022-11-16_17-22-11.png?version=1&modificationDate=1668590532127&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498221/image2022-11-16_17-24-39.png?version=1&modificationDate=1668590679337&api=v2)​

##### [日期间隔函数](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498224)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab中，点击需要填充日期计算得出的间隔数的字段右侧编辑图标，在弹出的【填充方式】编辑框中点击【fx】选择日期时间函数中的日期间隔函数，将“datepart”替换为“dd”，将“[开始日期]”替换为来源表中的开始日期字段，将“[结束日期]”替换为来源表中的结束日期字段，保存即可。

日期间隔解说：

计算[结束日期] - [开始日期] ,结局根据datepart指令,得出对应的yy 年 qq 季度 mm 月 dd 天 wk 周 hh 小时 mi 分钟 ss 秒

日期间隔：从开始到结束日期之间的天数、周数、月数、年数等，具体根据实际业务而定。

​![](https://dochelp.bn100.com/download/attachments/46498224/image2022-11-17_8-53-7.png?version=1&modificationDate=1668646388073&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498224/image2022-11-17_8-54-16.png?version=1&modificationDate=1668646457373&api=v2)​

#### [提取公式的执行时机](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498226)

我们已经知道提取公式的作用是将数据提取到当前表单中来，但是并没有告诉我们什么时候提取。本节我们将重点介绍提取公式的执行时机，

这就需要我们提前考虑好创建的提取公式执行的时机。在本节内容中需要重点理解的是**自动执行**的提取公式。

##### [新建时执行](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498227)

新建时执行：指在打开新增打开表单的时候就执行提取公式，公式只会在新增表单的时候执行。新建时执行的原因往往是为了提取一些默认的数据。比如：

默认的开始时间，结束时间，需提取默认的部门，人员，日期时间信息等。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【基本信息】tab界面，勾选执行时机中【新建时执行】，保存即可。

视频中以提取主表默认日期为例：设计端设置完成之后，在应用端直接打开表单即可查看到开始日期和结束日期的数据已被提取。

​![](https://dochelp.bn100.com/download/attachments/46498227/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA_%E6%96%B0%E5%BB%BA%E6%97%B6%E6%89%A7%E8%A1%8C.gif?version=1&modificationDate=1667975337223&api=v2)​

##### [修改时执行](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498229)

修改时执行：指的是在数据表保存后，在历史记录中点击编辑按钮时执行提取公式。修改时执行的提取公式往往应用在修改数据时，之前相应的数据可能已经发生了变动，需要重新提取才能保证严谨性。

这样通过修改时执行的提取公式能够保证提取过来的数据是实时最新的数据。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【基本信息】tab界面，勾选执行时机中【修改时执行】，保存即可。

视频中以提取更新后货物名称为例：设计端设置完成之后，当物料信息的货物名称做了修改，在应用端点击【编辑】按钮时，货物名称会自动更新为最新的货物名称。

​![](https://dochelp.bn100.com/download/attachments/46498229/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA_%E4%BF%AE%E6%94%B9%E6%97%B6%E6%89%A7%E8%A1%8C.gif?version=1&modificationDate=1667975338667&api=v2)​

##### [查看时执行](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498231)

查看时执行的提取公式指在历史记录中，点击查看按钮，打开表单的时候，执行提取公式。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【基本信息】tab界面，勾选执行时机中【查看时执行】，保存即可。

视频中以提取更新后货物名称为例：设计端设置完成之后，当物料信息的货物名称做了修改，在应用端点击【查看】按钮时，货物名称会自动更新为最新的货物名称。

​![](https://dochelp.bn100.com/download/attachments/46498231/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA_%E6%9F%A5%E7%9C%8B%E6%97%B6%E6%89%A7%E8%A1%8C.gif?version=1&modificationDate=1667975341070&api=v2)​

##### [保存时执行](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498233)

保存时执行的提取公式，指每次在点击表单的保存按钮时，执行一次提取公式。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【基本信息】tab界面，勾选执行时机中【保存时执行】，保存即可。

视频中以提取更新后货物名称为例：设计端设置完成之后，当物料信息的货物名称做了修改，在应用端进入编辑界面时点击【保存】按钮，货物名称会自动更新为最新的货物名称。

​![](https://dochelp.bn100.com/download/attachments/46498233/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA_%E4%BF%9D%E5%AD%98%E6%97%B6%E6%89%A7%E8%A1%8C.gif?version=1&modificationDate=1667975344827&api=v2)​

##### [自动执行](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498235)

自动执行：指提取公式中一些本表字段会参与在筛选条件中，当在操作表单过程中，只要改变了其中任何一个参与筛选条件的字段内容时，就会触发公式的执行。需要注意的是，

通过excel公式导致字段值发生变化不会触发提取公式。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【基本信息】tab界面，勾选执行时机中【自动执行】，保存即可。

自动执行是在公式筛选条件发生改变时触发公式；公式的执行时机支持复选。

视频中以提取订单信息为例，在设计器中设置完成之后，在应用端打开表单时自动提取符合条件的订单信息。

​![](https://dochelp.bn100.com/download/attachments/46498235/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F_%E8%87%AA%E5%8A%A8%E6%89%A7%E8%A1%8C.gif?version=1&modificationDate=1667975347110&api=v2)​

##### [手动执行](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498238)

手动执行指不具体指明触发时机，需要操作者通过点击手动按钮触发公式执行。

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【基本信息】tab界面，勾选执行时机中【手动执行】，保存即可。

视频中以提取订单信息为例，在设计器中设置完成之后，在应用端打开表单时，表单顶部会自动出现一个【查询】按钮，手动点击此按钮即可提取出符合条件的订单信息。

​![](https://dochelp.bn100.com/download/attachments/46498238/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA_%E6%89%8B%E5%8A%A8%E6%89%A7%E8%A1%8C.gif?version=1&modificationDate=1667975351467&api=v2)​

##### [应用于工作流](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498240)

应用于工作流，指公式只在工作流的某一个节点上执行，同时还需要勾选修改时，或者新建时，或者保存时，辅助在工作流节点上的何种操作执行。

对应在工作流节点上，对表单的操作也是分好多种形式的。

#### [公式应用选项](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498241)

公式的应用选项是对提取公式一些功能逻辑的补充，使用是需要理解对应的设置意图：

##### [清除方式与清除时机](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498242)

公式的清除方式为全部，部分，不清空。

a.清除全部，只应用在提取扩展表数据的情况，指执行公式的时候将扩展表的所有数据先清空，然后再提取，这样在某些情况重复操作执行公式的时候，数据不会发生重复紊乱。  
b.清除部分，只应用在执行提取公式的时候，先清除要填充的字段数据。比如提取公式要填充字段A,B,C的数据，提供公式填充对应数据之前，会先将本表字段A,B,C的数据先清空，然后填充。  
c.不清空，指提取公式执行之前，不清空当前数据表的任何数据。

同时，每个清除方式还有对应的清除时机，清除时机分为两种，取值前清除和取值后清除，

a.取值前清除，指只要公式被触发，就要立即先清除数据，这样能够完全验证公式执行的效果。**注意：绝大部分公式的清除时机应该是取值前。**  
b.取值后执行一般用于提取本表数据，提取公式需要对当前表的属性进行处理。如果勾选取值前，将无法取到任何数据，当数据来源是当前表时，只能够是取值后清除。

执行后清除空行：应用在扩展表中，指执行填充扩展表数据后，会自动将扩展表剩余的空行清除，当公式被重复执行的时候，清除空行能够使表单的展示更加美观科学。

**备注：**

1、执行公式的清除方式一般默认是清除部分，清除时机为取值前。  
2、当填充扩展表，需要清除空行时，提取扩展表数据第一个提取的公式应该选择清除全部，并勾选执行后清除空行。  
3、当数据源是当前表数据时，清除时机才有可能是取值后。一般情况下都为取值前，即触发公式时，相应的字段值就被清空。  
4、不清空数据的应用比较少，但也有应用，设计者在设置不清空时，一定要想清楚对应的业务场景。

​![](https://dochelp.bn100.com/download/attachments/46498242/image2019-6-15_17-7-16.png?version=1&modificationDate=1667975353757&api=v2)​

##### [提取公式执行完之后排序](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498245)

提取公式在填充的时候本身支持字段的排序，但排序只能针对当前填充的数据，当填充的数据是多个提取公式协作提取的时候，如果要对整个数据进行排序，可以在最后一个提取公式执行的时候，设置"执行完后排序"

这样能够使当前提取的所有数据按照排序规则重新排序。

​![](https://dochelp.bn100.com/download/attachments/46498245/image2019-6-15_17-24-26.png?version=1&modificationDate=1667975353820&api=v2)​

##### [提取公式取前N行数据](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498247)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【应用选项】tab界面，勾选【筛选前_条】，在文本框中输入想要筛选的行数，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498247/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA_%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E5%89%8DN%E8%A1%8C%E6%95%B0%E6%8D%AE.gif?version=1&modificationDate=1667975353870&api=v2)​

###### [排除重复](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498249)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【应用选项】tab界面，勾选【排除重复】，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498249/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E6%9C%BA_%E6%8E%92%E9%99%A4%E9%87%8D%E5%A4%8D.gif?version=1&modificationDate=1667975356010&api=v2)​

#### [提取公式练习](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498251)

##### [提取信息到主表](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498252)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab界面，填充数据表下拉中选择主表之后进行填充数据操作，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498252/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E6%8F%90%E6%95%B0_%E6%8F%90%E5%8F%96%E4%BF%A1%E6%81%AF%E5%88%B0%E4%B8%BB%E8%A1%A8.gif?version=1&modificationDate=1667975358247&api=v2)​

##### [提取信息到空扩展表](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498254)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab界面，填充数据表下拉中选择扩展表之后进行填充数据操作，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498254/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E6%8F%90%E6%95%B0_%E6%8F%90%E5%8F%96%E4%BF%A1%E6%81%AF%E5%88%B0%E7%A9%BA%E6%89%A9%E5%B1%95%E8%A1%A8.gif?version=1&modificationDate=1667975363273&api=v2)​

##### [提取信息到非空扩展表](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498256)

1、入口：模板管理→设计选项卡→提取公式  
2、操作：进入【模板管理】菜单，选择【设计】选项卡，点击【提取公式】按钮，在【填充方式】tab界面，填充数据表下拉中选择扩展表之后进行填充数据操作，根据实际业务需要将字段设置为按行列匹配，保存即可。

​![](https://dochelp.bn100.com/download/attachments/46498256/%E6%8F%90%E5%8F%96%E5%85%AC%E5%BC%8F%E6%8F%90%E6%95%B0_%E6%8F%90%E5%8F%96%E4%BF%A1%E6%81%AF%E5%88%B0%E9%9D%9E%E7%A9%BA%E6%89%A9%E5%B1%95%E8%A1%A8.gif?version=1&modificationDate=1667975369573&api=v2)​

#### [分组小计](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498258)

1、入口：模板管理→设计→提取公式→应用选项

          2、具体操作：在提取公式应用选项中勾选分类汇总，点击“...”点击“+”按钮新建分组小计分类。选择需要分组小计的字段。选择“统计标签位置”，输入文本后缀，勾选

显示统计行数据文本，选择统计行颜色，添加汇总字段，选择汇总方式，点击保存后即可。汇总方式包含：合计、平均值、计数、最大值、最小值。按照用户实际需求填充。

**以下为动态图解：**

​![](https://dochelp.bn100.com/download/attachments/46498258/%E8%AE%BE%E7%BD%AE%E5%88%86%E7%BB%84%E5%B0%8F%E8%AE%A1.gif?version=1&modificationDate=1667975379457&api=v2)​

**以下为具体操作图解：**

**①**选择提取需要小计的提取公式

②点击【应用选项】

③勾选【分类汇总】

④点击【...】进入分类汇总设置界面

​![](https://dochelp.bn100.com/download/attachments/46498258/image2019-11-8_16-50-8.png?version=1&modificationDate=1667975379447&api=v2)​

⑤点击【+】按钮

⑥勾选需要分组小计的字段后点击【保存】按钮

​![](https://dochelp.bn100.com/download/attachments/46498258/image2019-11-8_16-53-38.png?version=1&modificationDate=1667975379433&api=v2)​

⑦点击【线别】

⑧选择【统计标签位置】

⑨修改文本后缀，默认【小计】，可以根据用户需求更改字段名称

⑩勾选【显示统计行数据文本】

⑪设置【统计行颜色】

⑫设置【汇总字段】，根据字段的计算方式进行选择。合计、平均值、计数、最大值、最小值等。

⑬点击【保存】按钮即可。

​![](https://dochelp.bn100.com/download/attachments/46498258/image2019-11-8_16-59-19.png?version=1&modificationDate=1667975379420&api=v2)​

**以下为分组小计效果图：**

每个线别字段下均出现上述设置的小计字段，此功能不需要复杂的设置，系统会自动根据类别小计。（提取公式

填充线别字段时需要做排序操作，让相同的字段放在一起。）可做收缩展开的操作，方便用户查看数据。

​![](https://dochelp.bn100.com/download/attachments/46498258/image2019-11-8_15-45-45.png?version=1&modificationDate=1667975386230&api=v2)​

### [3.7.2 回写公式](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498268)

上一节我们学习了如何利用提取公式提取数据，这一节我们将学习如何利用回写公式回写数据，回写公式的应用难度往往要比提取公式的复杂。

主要难点在于回写公式的操作类型有很多种，要实现某一项业务需求的时候，往往需要不同操作类型的回写公式组合使用才能达到要求。

学习回写公式需要注意以下两点:

**1、每种回写公式的操作类型的含义，不同类型的回写公式代表着对表单或者表单中的某些信息的不同操作。**

**2、多个回写公式组合使用完成某种业务需求时，需要同时考虑新增，修改，删除当前表单时，该如何回写到目标表单中去。**

#### [回写公式的操作类型](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498269)

学习回写公式之前，我们需要先来理解一下回写公式的操作类型。

操作类型是指，在触发此回写公式的时候，回写公式需要对回写目标做何种操作。workfine中，将回写的操作类型分为了五类：

1、新建表单：触发回写公式，可以新建回写目标的表单，因为每个模板只会有一个主表，所以在新建目标表单的同时允许填充主表内容。

2、删除表单 ：触发回写公式，可以根据筛选条件，删除满足条件的目标表单。

3、修改记录 ：触发回写公式，可以根据条件，修改目标表单的记录信息。

4、补充明细：触发回写公式，可以根据条件新增回写目标扩展表的记录信息。

5、删除明细：触发回写公式，会清除满足条件的扩展表记录信息。

备注：

a、触发回写公式的执行时机一般是保存表单的时候触发，或者是删除表单的时候触发。

b**、设计者需要理解表单和表单信息的区别，表单是信息的载体，回写公式可以新增表单和删除表单，也可以新增表单信息，修改表单信息，和删除表单信息；新增表单和删除表单的同时，伴随着新增表单主表信息和删除整个表单信息的操作。**

c、**应用回写公式时，往往是多个回写公式，不同操作类型组合使用，来完成某一项数据回写的需求。**

​![](https://dochelp.bn100.com/download/attachments/46498269/image2019-6-17_10-19-50.png?version=1&modificationDate=1667975392773&api=v2)​

#### [回写新增表单](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498271)

回写新增表单是指：在保存或删除当前表单A时，能够增加一个表单B信息，同时填充信息到表单B的主表字段上。

​![](https://dochelp.bn100.com/download/attachments/46498271/image2019-6-17_9-1-1.png?version=1&modificationDate=1667975393017&api=v2)​

如下所示：在表A中填写信息，保存完毕时，需要在表B中能够增加一条相同的信息，并且不允许表B的信息重复出现。

​![](https://dochelp.bn100.com/download/attachments/46498271/image2019-6-17_9-9-2.png?version=1&modificationDate=1667975392990&api=v2)​

回写公式设置如下

备注：1、执行时机：保存时执行，意为在保存表单A的时候生成目标表单B

           2、操作类型：新建表单，意为回写目的是新增表单B.

           3、筛选条件为：本报表.唯一编码<>''   （这个筛选条件表达的意思是，该编码在A表不存在）    本报表.唯一编码<>来源表.唯一编码  ，是存在一个逻辑纠正：当来源表数据有一部分满足相等条件，一部分满足不等条件时，判断不相等是成立的。

           4、填充方式：将表A对应字段填充到表B主表字段上，同时勾选唯一约束字段，这样就能够保证新建的单据不会重复生成**。**

​![](https://dochelp.bn100.com/download/attachments/46498271/111.jpg?version=1&modificationDate=1667975392880&api=v2)![](https://dochelp.bn100.com/download/attachments/46498271/222.jpg?version=1&modificationDate=1667975392857&api=v2)![](https://dochelp.bn100.com/download/attachments/46498271/333.jpg?version=1&modificationDate=1667975392827&api=v2)​

#### [回写修改记录](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498277)

上一小节，我们讲过保存时新增表单的示例，在新增表单A时，同时新增表单B，通过勾选唯一约束保证表B不重复新增。但新增表B后，当表A数据发生修改后，如何将表B的数据进行同步呢？

这一节我们将学习回写时修改记录的回写公式。

备注：

1. 执行时机：保存时执行，意为当修改表A数据，保存的时候，将修改的记录同步过去。
2. 操作类型：修改记录，意为去修改表B的数据，区别上一小结中新增表B的单据操作。
3. 筛选条件：表A.编码=表B.编码，这里就要精确匹配。因为这样可以明确知道当修改A表单中的内容时，究竟B表单中的哪一条记录信息要被修改。
4. 填充方式：将除唯一编码以外的其它可能修改的字段进行一一填充。
5. 修改的回写公式必须要匹配具体修改哪一条记录，这样需要两边有一个能确定唯一属性的编码字段，同时该编码是不可被修改的。

​![](https://dochelp.bn100.com/download/attachments/46498277/image2019-6-17_9-28-33.png?version=1&modificationDate=1667975393167&api=v2)![](https://dochelp.bn100.com/download/attachments/46498277/image2019-6-17_9-28-52.png?version=1&modificationDate=1667975393150&api=v2)![](https://dochelp.bn100.com/download/attachments/46498277/image2019-6-17_9-29-3.png?version=1&modificationDate=1667975393080&api=v2)​

#### [回写删除明细](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498281)

在回写公式的第一小节中，我们通过保存时新建的回写公式，新建了回写目标的表单，并将信息填充到了表B的主表字段上。如果还需要将信息新增到表B的扩展表上，首先我们要做的是先将表B中可能残余的表A信息给清除。

备注：回写扩展表数据的方式一般是先删除明细，再以补充明细的方式进行填充。这种方式能够保证在各种情况下修改数据时，两表数据信息能够保持一致。

​![](https://dochelp.bn100.com/download/attachments/46498281/image2019-6-17_10-5-5.png?version=1&modificationDate=1667975393270&api=v2)![](https://dochelp.bn100.com/download/attachments/46498281/image2019-6-17_10-5-22.png?version=1&modificationDate=1667975393247&api=v2)​

#### [回写补充明细](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498284)

补充明细即为将满足条件的信息内容填充到回写目标的扩展表上，因为扩展表一次性可以填充很多条记录，所以称之为补充明细。

备注：1、上一小结，我们学习了删除明细，不难发现，删除明细与补充明细在执行时机和筛选条件上是一致的。

           2、通过删除明细和补充明细的配合使用，能够保证任何形式的修改表单信息，都能够使两边信息一致。

​![](https://dochelp.bn100.com/download/attachments/46498284/image2019-6-17_10-7-10.png?version=1&modificationDate=1667975393470&api=v2)![](https://dochelp.bn100.com/download/attachments/46498284/image2019-6-17_10-7-23.png?version=1&modificationDate=1667975393380&api=v2)![](https://dochelp.bn100.com/download/attachments/46498284/image2019-6-17_10-7-44.png?version=1&modificationDate=1667975393327&api=v2)​

#### [回写删除表单](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498288)

回写删除表单的目的是当前表单被删除时，之前新建的表单也要被一并删除，这样通过新建表单---修改表单----删除表单(回写主表)    或者   新建表单---删除明细---补充明细----删除表单(回写主表+扩展表) 的过程，能够实现不同的两个模板数据一致。

​![](https://dochelp.bn100.com/download/attachments/46498288/image2019-6-17_10-12-52.png?version=1&modificationDate=1667975393553&api=v2)![](https://dochelp.bn100.com/download/attachments/46498288/image2019-6-17_10-13-5.png?version=1&modificationDate=1667975393530&api=v2)​

#### [回写公式小结](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498291)

1. 要实现某一项回写需求的时候，一般是多个回写公式组合使用，回写公式的执行顺序是按照排列顺序从上到下依次执行；同时新建表单的回写公式优先执行。
2. 要通过回写公式保持两表数据一致，需要先从保存时新建表单的回写公式开始。主表必须要有一个唯一编码字段，填充的时候需要勾选唯一约束来避免数据重复生成。
3. 强调小结2，主表一定要有一个唯一编码字段，这个字段一般是通过自动编码生成，且不可被手动编辑修改的字段。
4. 要实现两表数据同步一致，一般是通过多个回写公式配合使用，同时要考虑要回写的表在新增，修改，删除三种操作状态下，该如何让两表数据保持一致。
5. 扩展表的修改情况很多，比如对扩展表进行删行，增行，替换原有数据记录等，所以要保持扩展表数据一致的，一般是借助主表唯一编号相等，先删除明细，然后补充明细。
6. 回写公式筛选条件的逻辑相对比较简单，但是不要随便使用    本表.字段<>来源表.字段   当来源表数据部分满足部分不满足的时候，这种条件也会成立，所以为了保证回写数据不重复，可以在填充的时候勾选唯一约束字段。
7. 回写目标的模板必须要确定唯一编码的主表字段，所以设计的模板只有扩展表字段时，需要增加主表字段，并设置编码字段。

回写方法小结：

1. 批量导入数据到主表：当前表是扩展表，回写目标表是主表：此时不需要利用回写公式，通过系统批量导入功能即可
2. 批量导入数据到主从表：当前表是主表+扩展表(如果当前表没有主表字段，需要自定义主表的自动编码字段)，回写目标是主表+扩展表，此时需要利用回写公式：保存时新增表单+保存时删除明细+保存时补充明细+删除时删除表单四个回写公式组合使用完成，其中在保存时新增表单的回写公式需要勾选唯一约束。
3. 通过回写公式保证两主表数据一致：当前表是主表，回写目标表也是主表。此时需要利用回写公式：保存时新增表单+保存时修改表单+删除时删除表单三个回写公式组合使用完成，其中主表需要有一个唯一编码字段，不可重复，不可编辑。
4. 通过回写公式让两个主从表的数据一致：同回写方法小结2

## [3.8 数据规范](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796365)

数据规范是指用户操作表单录入数据时，除了手动编辑输入之外，其他的录入表现形式。比如录入性别可用下拉筛选，录入人员信息可用列表选择，录入状态可用浮选框，还有自动生成当前时间。当前人员姓名，自动编号等等，不同的录入形式有不同的特点，通过数据规范能够使数据以更加规范、标准的形式流转。

不同形式的数据规范都可以在Workfine设计器中以先建立后绑定的方式进行实现。

​![](https://dochelp.bn100.com/download/attachments/40796365/image2022-6-3_11-48-10.png?version=1&modificationDate=1654228090973&api=v2)​

### [3.8.1 系统变量](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796388)

系统变量是指业务系统根据用户登录信息保留的一些内容等，比如当前的日期，用户，部门，角色等信息。

设计器中可以在数据规范界面直接关联来实现系统变量的绑定。

如下，是业务员字段绑定系统变量中的用户信息信息

​![](https://dochelp.bn100.com/download/attachments/40796388/image2022-6-3_11-50-32.png?version=1&modificationDate=1654228668427&api=v2)​

### [3.8.2 日期选择器](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796391)

由于日期有多种格式，在定义日期字段后，需要再去绑定对应的日期规范，如下，为定义订单日期字段后，绑定一个年月日的数据规范。

​![](https://dochelp.bn100.com/download/attachments/40796391/image2022-6-3_12-11-12.png?version=1&modificationDate=1654229472133&api=v2)​

### [3.8.3 自动编号](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796397)

绑定自动编号的过程是先建立再绑定，在建立时可以根据情况设置编码是否进行废号回收。

绑定后，默认主表字段是新建时生成，可以【绑定】按钮右侧的设置项中设置保存时生成和新建时生成两种时机

              默认扩展表的自动编号是保存时生成，因为扩展表的自动编号是根据扩展表的行数进行生成的，在保存前，系统无法判断用户最终要生成的数据量。

​![](https://dochelp.bn100.com/download/attachments/40796397/image2022-6-3_12-17-12.png?version=1&modificationDate=1654230214420&api=v2)![](https://dochelp.bn100.com/download/attachments/40796397/image2022-6-3_12-18-32.png?version=1&modificationDate=1654230214387&api=v2)​

自动编号跳号说明：

workfine是依托浏览器使用，workfine本身是无法监听到浏览器行为的，当浏览器刷新时，会产生主表自动编码跳号情况

### [3.8.4 下拉](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796408)

下拉的建立过程是新建在绑定的过程，新建下拉分为建立固定值的下拉和建立数据源的下拉

建立固定值的下拉是直接在下拉项中设置好下拉内容

建立数据源的下拉是下拉的内容可以调用某个数据表的值，同时我们也可以对下拉的内容进行排序和筛选

建立的过程如下：

固定值下拉的新建：                                                                                                                                         

​![](https://dochelp.bn100.com/download/attachments/40796408/image2022-6-3_12-38-56.png?version=1&modificationDate=1654231888880&api=v2)​

数据源下拉的新建：

​![](https://dochelp.bn100.com/download/attachments/40796408/image2022-6-3_12-43-16.png?version=1&modificationDate=1654231888863&api=v2)​

下拉的绑定：

​![](https://dochelp.bn100.com/download/attachments/40796408/image2022-6-3_12-46-18.png?version=1&modificationDate=1654231888847&api=v2)​

数据源下拉的绑定设置，数据源的下拉在绑定后，还可以进行绑定设置，

例如：设置为多选下拉  或者  对下拉的内容进行二次筛选等

​![](https://dochelp.bn100.com/download/attachments/40796408/image2022-6-3_12-47-36.png?version=1&modificationDate=1654231888833&api=v2)![](https://dochelp.bn100.com/download/attachments/40796408/image2022-6-3_12-50-8.png?version=1&modificationDate=1654231888817&api=v2)​

### [3.8.5 级联](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796414)

级联的建立过程是新建在绑定的过程

建立级联的过程就是调用某些数据表的值

建立的过程如下：

​![](https://dochelp.bn100.com/download/attachments/40796414/image2022-6-3_12-55-50.png?version=1&modificationDate=1654232466113&api=v2)![](https://dochelp.bn100.com/download/attachments/40796414/image2022-6-3_12-56-49.png?version=1&modificationDate=1654232466097&api=v2)​

绑定的过程如下

​![](https://dochelp.bn100.com/download/attachments/40796414/image2022-6-3_12-59-3.png?version=1&modificationDate=1654232466080&api=v2)![](https://dochelp.bn100.com/download/attachments/40796414/image2022-6-3_13-0-3.png?version=1&modificationDate=1654232466067&api=v2)​

### [3.8.6 列表](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796418)

整个列表的建立过程也是先建立后绑定的过程

建立过程如下：

​![](https://dochelp.bn100.com/download/attachments/40796418/image2022-6-3_13-4-44.png?version=1&modificationDate=1654232684730&api=v2)![](https://dochelp.bn100.com/download/attachments/40796418/image2022-6-3_13-5-49.png?version=1&modificationDate=1654232749533&api=v2)​

绑定过程如下：

​![](https://dochelp.bn100.com/download/attachments/40796418/image2022-6-3_13-7-3.png?version=1&modificationDate=1654232823867&api=v2)![](https://dochelp.bn100.com/download/attachments/40796418/image2022-6-3_13-14-3.png?version=1&modificationDate=1654233243427&api=v2)​

### [3.8.7 开关](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796428)

开关的新建：                                                                                                                                                      

​![](https://dochelp.bn100.com/download/attachments/40796428/image2022-6-3_13-17-3.png?version=1&modificationDate=1654233582623&api=v2)​

开关的绑定：

​![](https://dochelp.bn100.com/download/attachments/40796428/image2022-6-3_13-19-2.png?version=1&modificationDate=1654233582593&api=v2)​

## [3.9 链接](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796433)

​![](https://dochelp.bn100.com/download/attachments/40796433/image2022-6-3_13-25-27.png?version=1&modificationDate=1654234033287&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796433/image2022-6-3_13-26-14.png?version=1&modificationDate=1654234033273&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796433/image2022-6-3_13-26-48.png?version=1&modificationDate=1654234033240&api=v2)​

## [3.10 操作约束](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796440)

操作约束指在满足某些条件后，不允许对表单，或者某些字段进行操作，这样能够防止一些不合理的操作造成数据差异

操作约束主要分为字段约束，表单约束和锁定条件

​![](https://dochelp.bn100.com/download/attachments/40796440/image2022-6-3_13-28-34.png?version=1&modificationDate=1654234889857&api=v2)​

字段操作约束设置

​![](https://dochelp.bn100.com/download/attachments/40796440/image2022-6-3_13-33-57.png?version=1&modificationDate=1654234889857&api=v2)​

表单操作约束：

​![](https://dochelp.bn100.com/download/attachments/40796440/image2022-6-3_13-38-33.png?version=1&modificationDate=1654234889840&api=v2)![](https://dochelp.bn100.com/download/attachments/40796440/image2022-6-3_13-40-12.png?version=1&modificationDate=1654234889823&api=v2)​

锁定条件：

​![](https://dochelp.bn100.com/download/attachments/40796440/image2022-6-3_13-41-16.png?version=1&modificationDate=1654234889797&api=v2)​

## [3.11 移动端](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796473)

注：移动端使用时，移动端网络必须跟服务器所属同一个网络，或者有固定的对外IP

移动端应用方式：

Workfine移动端的应用可通过以下几种方式：手机浏览器，钉钉集成，企业微信集成，企业公众号集成

手机浏览器访问方式：应用端地址/app   如应用端地址为192.168.2.52:80  则移动端访问地址为为192.168.2.52:80/app  可通过手机浏览器生成快捷桌面的方式直接使用

钉钉集成方式：[https://help.bn100.com/static/articlehtml/c21a8f05b03b41f19c5a3014af54b83c/20220428150111.html](https://help.bn100.com/static/articlehtml/c21a8f05b03b41f19c5a3014af54b83c/20220428150111.html)

企业微信集成方式：[https://help.bn100.com/static/articlehtml/e877e1f534a7457b83bfa88827b61780/20220428150048.html](https://help.bn100.com/static/articlehtml/e877e1f534a7457b83bfa88827b61780/20220428150048.html)

微信服务号集成方式：[https://help.bn100.com/static/articlehtml/0ee75eaff5464d8c99676a1d511a5168/20220428150132.html](https://help.bn100.com/static/articlehtml/0ee75eaff5464d8c99676a1d511a5168/20220428150132.html)

移动端发布：

wrokfine电脑应用端与移动端是一套设计模式，只是展示方式不同而已，移动端使用只需要发布就能够立即使用，同时提供自定义的排班模式。

​![](https://dochelp.bn100.com/download/attachments/40796473/image2022-6-6_10-27-41.png?version=1&modificationDate=1654482462053&api=v2)![](https://dochelp.bn100.com/download/attachments/40796473/image2022-6-6_10-29-21.png?version=1&modificationDate=1654482561767&api=v2)​

移动端发布过程中的设置说明：

1、布局模式：布局模式分为自适应和自定义，自适应模式下，系统会自动按照手机端合适的展示方式生成布局，自定义模式下，用户可根据自身布局需要，自定义排版布局

                         移动端自适应布局：[https://help.bn100.com/static/articlehtml/0262d46247464cdd9dbe29eb9cfa213a/20220427091014.html](https://help.bn100.com/static/articlehtml/0262d46247464cdd9dbe29eb9cfa213a/20220427091014.html)

                        移动端自定义布局：[https://help.bn100.com/static/articlehtml/cd9faa21caac410e8221984db7e397cc/20220427160233.html](https://help.bn100.com/static/articlehtml/cd9faa21caac410e8221984db7e397cc/20220427160233.html)

2、点击行为：点击行为指用户在点击移动端的模板图标时的默认行为，默认移动端点击模板图标时，是显示该表单对应的历史数据，也可以设置【单据填报】，此时，当点击表单图标时，直接进入新增状态

3、字段公式：workfine移动端的使用不支持excel公式，因此，在移动端使用时，需要通过编写字段公式来替换模板上excel公式的功能

4、默认形式：是扩展表打开时的显示方式，默认是列表方式，在具体场景下可以切换为表格方式

## [3.12 打印](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796483)

本小节分为普通的纸张打印和标签打印

### [3.12.1 普通打印](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796489)

普通打印设置的第一步是设置打印区域，如下：

打印区域设置：

1、鼠标框选要打印的区域，然后鼠标右键选择设置打印区域即可

2、打印区域设置完成后，在设计器左上角别名区域会显示PrintArea信息，即是我们的定义区域，删除该别名，能够删除对应的打印区域设置

​![](https://dochelp.bn100.com/download/attachments/40796489/image2022-6-6_11-13-25.png?version=1&modificationDate=1654486012337&api=v2)![](https://dochelp.bn100.com/download/attachments/40796489/image2022-6-6_11-14-20.png?version=1&modificationDate=1654486012257&api=v2)​

打印主要分为

### [3.12.2 标签打印](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713911)

暂空

## [3.13 条码](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713741)

暂空

## [3.14 按钮/事件](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713745)

功能说明：按钮/事件功能是能够自定义按钮，同时绑定各种按钮事件来触发动作，能够通过按钮触发的动作包括：

提取公式，回写公式，存储过程，链接，动态样式，打印，发起流程，表单控制，翻页以及邮件等。

1、默认按钮说明：

点击按钮/事件界面时，会有默认的查询按钮，该按钮是为手动执行的取数公式自动生成的，当有手动执行的取数公式时，表单上会自动显示【查询】按钮，

当有多个手动执行的取数公式时，该按钮默认是将多个手动执行的取数公式从上到下依次执行。

**注意：不要去修改默认按钮的时间和显示等，如果不需要多个手动取数公式依次执行，可将默认按钮停用。**

​![](https://dochelp.bn100.com/download/attachments/41713745/image2022-6-10_15-13-51.png?version=1&modificationDate=1654845230813&api=v2)![](https://dochelp.bn100.com/download/attachments/41713745/image2022-6-10_15-21-34.png?version=1&modificationDate=1654845693320&api=v2)​

2、新建自定义按钮/事件：

新建自定义按钮事件时，主要是确定按钮的样式，显示位置，按钮的执行事件三个部分：

1、按钮样式可以设置名称，图标，大小，颜色等，同时可以设置按钮切换，来丰富按钮的展示方式

2、显示位置主要是来历史记录和表单上两部分，设置表单内部时，还需要在模板的单元格上右键绑定按钮

3、时间指点击按钮可以执行的动作，包括提取公式，回写公式，存储过程，链接，动态样式，打印，发起流程，

      表单控制，翻页以及邮件等。

      注：一个按钮可以绑定多个事件，事件执行的顺序是依次执行，上一个事件执行完成后，进行下一个事件的执行

             每个事件可以单独设立执行的筛选条件，确定满足条件下才执行

             每个事件可以单独设置提示语，来进行对应的提示

​![](https://dochelp.bn100.com/download/attachments/41713745/image2022-6-10_15-33-24.png?version=1&modificationDate=1654846403997&api=v2)​

## [3.15 分级预览](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713747)

如下，进行分级预览后，能够在应用端历史记录界面对数据进行分析

​![](https://dochelp.bn100.com/download/attachments/41713747/image2022-6-10_14-51-43.png?version=1&modificationDate=1654843902507&api=v2)​

## [3.16 动态样式](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713749)

暂空

## [3.17 消息](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713751)

workfine中的消息提醒指站内提醒，在业务发生时，可在应用端查看对应的消息内容，如果绑定企业微信和钉钉，也可以通过手机消息的方式进行推送

​![](https://dochelp.bn100.com/download/attachments/41713751/image2022-6-10_15-53-31.png?version=1&modificationDate=1654847610607&api=v2)​

1、消息的设置：

消息的设置如下，需要设置消息的触发时机，接受人，以及消息内容基础设置完成后，就能够进行消息推送

​![](https://dochelp.bn100.com/download/attachments/41713751/image2022-6-10_15-48-43.png?version=1&modificationDate=1654847323127&api=v2)​

2、消息的筛选，指在满足触发条件后，消息才会触发执行

​![](https://dochelp.bn100.com/download/attachments/41713751/image2022-6-10_15-56-27.png?version=1&modificationDate=1654847786717&api=v2)​

3、消息的关联模板

应用端消息除了查看，可以触发两个动作，一是查看产生消息的表单，默认在消息设置时有勾选项；还有个动作是新增一个其他的表单，并且可以将产生消息的 表单的值传递过去

​![](https://dochelp.bn100.com/download/attachments/41713751/image2022-6-10_15-59-11.png?version=1&modificationDate=1654847950717&api=v2)![](https://dochelp.bn100.com/download/attachments/41713751/image2022-6-10_15-59-51.png?version=1&modificationDate=1654847991040&api=v2)​

如下为设置打开消息的关联模板：

选择关联模板后，可通过设置传递字段，新增一个关联表单，同时将相应的字段内容传递过去

​![](https://dochelp.bn100.com/download/attachments/41713751/image2022-6-10_16-4-8.png?version=1&modificationDate=1654848247970&api=v2)​

## [3.18 邮件](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713753)

1、邮件功能的使用需要先进行邮箱绑定设置，

邮箱绑定设置说明如下：

​![](https://dochelp.bn100.com/download/attachments/41713753/image2022-6-10_14-29-4.png?version=1&modificationDate=1654842543213&api=v2)​

2、邮件内容设置；

如下，设置邮件内容，包括邮件接收人，邮件主题，正文，附件等

​![](https://dochelp.bn100.com/download/attachments/41713753/image2022-6-10_14-36-6.png?version=1&modificationDate=1654842965387&api=v2)​

3、邮件发送人：

默认邮件发送人是第一步配置的邮件服务器

在配置邮件服务器后，用户也可以在应用端设置个人的发送邮箱，此时，邮件发送人将是当前用户的个人邮箱

​![](https://dochelp.bn100.com/download/thumbnails/41713753/image2022-6-10_14-39-5.png?version=1&modificationDate=1654843144433&api=v2)![](https://dochelp.bn100.com/download/attachments/41713753/image2022-6-10_14-40-1.png?version=1&modificationDate=1654843200617&api=v2)​

4、主题和正文表达式

​![](https://dochelp.bn100.com/download/attachments/41713753/image2022-6-10_14-46-12.png?version=1&modificationDate=1654843571607&api=v2)​

5、邮件的筛选

是否要发送邮件可以在邮件的设置中通过筛选条件在筛选

如下，只对采购类型是订单采购的单据进行邮件发送

​![](https://dochelp.bn100.com/download/attachments/41713753/image2022-6-10_14-47-24.png?version=1&modificationDate=1654843643237&api=v2)​

## [3.19 存储过程](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713756)

存储过程是数据库中程序的一种编写方式：主要是在处理复杂的数字化业务时可以通过调用存储过程来处理

存储过程的使用主要分为三步

1、在workfine中建立存储过程的数据模板

2、在数据库中编辑好对应的存储过程

3、在workfine模板中绑定存储过程

4、在按钮/事件中调用存储过程

​![](https://dochelp.bn100.com/download/attachments/41713756/image2022-6-10_16-9-27.png?version=1&modificationDate=1654848566627&api=v2)​

## [3.20 数据字典](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713758)

每个模板在定义以后，就会有对应的数据字典，数据字典表明了前端表字段与后端数据库一一对应的关系，在需要使用存储过程，或者进行数据库层级的管理时，

可以通过数据字典查找对应的表和字段在数据库中对应的管理

​![](https://dochelp.bn100.com/download/attachments/41713758/image2022-6-10_15-39-24.png?version=1&modificationDate=1654846763957&api=v2)![](https://dochelp.bn100.com/download/attachments/41713758/image2022-6-10_15-39-38.png?version=1&modificationDate=1654846777223&api=v2)​

## [3.21 清除数据](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713760)

如下，通过模板中的清除数据功能能够清除该模板对应的数据表所有数据。

注：清除数据功能不触发任何提取或者回写公式，不受任何权限或者约束控制，主要是在数据初始化，或者系统上线时数据清理使用

​![](https://dochelp.bn100.com/download/attachments/41713760/image2022-6-10_14-26-21.png?version=1&modificationDate=1654842380737&api=v2)​

# [四、决策分析](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796272)

## [4.1 决策模板](https://dochelp.bn100.com/pages/viewpage.action?pageId=3506226)

workfine提供可视化的决策模板，通过在决策模板上添加资源框和元素的形式，建立数据可视化方案。

决策模板犹如一张画布，设计者可以发挥自己的想象力，尽可能的做出高大上的可视化展示。通过决策模板设计可视化展示，

极大的降低了用户的学习门槛，使不懂代码的人也能够设计出可视化的图表。

​![](https://dochelp.bn100.com/download/attachments/3506226/image2019-10-30_14-27-26.png?version=1&modificationDate=1572416844000&api=v2)​

### [4.1.1 决策模板规划](https://dochelp.bn100.com/pages/viewpage.action?pageId=3506236)

 在建立决策模板之前，需要确定决策模板的展现效果，我们可以找到很多种形式的数据可视化展示，通过这些展示，

分析可视化展示的基本结构，下图提供了几种可视化的展示，以及通过决策模板设计的可视化结构样式。

**图一轻快型的展示和设计：**

​![](https://dochelp.bn100.com/download/attachments/3506236/image2019-8-7_11-26-11.png?version=1&modificationDate=1565148369000&api=v2)![image2019-10-30_14-36-39.png](http://help.bossietech.com:8098/download/attachments/3506226/image2019-10-30_14-36-39.png?version=1&modificationDate=1572417397000&api=v2)​

**图二商务型的展示和设计：**

​![](https://dochelp.bn100.com/download/attachments/3506236/image2019-8-7_11-26-35.png?version=1&modificationDate=1565148394000&api=v2)![](https://dochelp.bn100.com/download/attachments/3506236/image2019-10-30_14-43-4.png?version=1&modificationDate=1572417782000&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/3506236/image2019-10-30_17-20-51.png?version=1&modificationDate=1572427254000&api=v2)![](https://dochelp.bn100.com/download/attachments/3506236/image2019-10-30_17-24-30.png?version=1&modificationDate=1572427472000&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/3506236/image2019-11-2_16-12-30.png?version=1&modificationDate=1572682352000&api=v2)![](https://dochelp.bn100.com/download/attachments/3506236/image2019-11-2_16-16-58.png?version=1&modificationDate=1572682620000&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/3506236/image2019-11-2_16-17-23.png?version=1&modificationDate=1572682645000&api=v2)![](https://dochelp.bn100.com/download/attachments/3506236/image2019-11-2_16-19-51.png?version=1&modificationDate=1572682793000&api=v2)​

### [4.1.2 建立决策模板](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796276)

与模板管理类似，在建立决策模板之前，需要先建立决策模板的分类，以区分每个决策模板属于哪块分类之下。

入口：决策分析

​![](https://dochelp.bn100.com/download/attachments/40796276/image2022-6-2_17-8-42.png?version=1&modificationDate=1654160922840&api=v2)​

具体操作：1、点击【+】按钮；2、选择【新增分组】或【新增角色】；输入【决策分类名称】后即可。

​![](https://dochelp.bn100.com/download/attachments/40796276/image2022-6-2_17-34-5.png?version=1&modificationDate=1654162445693&api=v2)​

### [4.1.3 决策模板背景色](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796278)

入口：决策分析

操作：选择右侧设置区域；选择【背景-方式】，用户可以根据自己的喜好选择模式。

​![](https://dochelp.bn100.com/download/attachments/40796278/image2022-6-6_9-12-42.png?version=1&modificationDate=1654477962860&api=v2)​

用户也可以跟据自己的喜欢选择背景特效。

​![](https://dochelp.bn100.com/download/attachments/40796278/image2022-6-6_9-14-17.png?version=1&modificationDate=1654478057550&api=v2)​

### [4.1.4 决策模板背景图片](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796280)

1、入口：决策分析

2、具体操作：模板中心中的设置选项中，找到【背景-方式】功能，选择【图片】点击【上传图片】，可将背景图片做铺满和取消铺满操作;

用户可根据个人喜好选择官方默认图片，也可以选择本地自定义上传图片。

​![](https://dochelp.bn100.com/download/attachments/40796280/image2022-6-6_9-43-59.png?version=1&modificationDate=1654479839410&api=v2)​

## [4.2 资源框设置](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796460)

### [4.2.1 添加资源框](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796465)

1、入口：决策分析

2、具体操作：点击【增加资源框】按钮，新增资源框，点住左下角方框，可拖动资源框大小。

​![](https://dochelp.bn100.com/download/attachments/40796465/image2022-6-6_11-15-8.png?version=1&modificationDate=1654485308663&api=v2)​

### [4.2.2 设置资源框透明色](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796467)

1、入口：决策分析

2、具体操作：将鼠标光标移动到资源框，在资源框右上方出现【属性】按钮并点击，右侧出现资源框属性。

并在【背景-方式】中选择【透明】方式。

设置透明色可以使多个图表形成重叠的立体效果，这样会得到更好的展示效果。

​![](https://dochelp.bn100.com/download/attachments/40796467/image2022-6-6_13-29-8.png?version=1&modificationDate=1654493348603&api=v2)​

### [4.2.3 移动资源框层级](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796470)

当多个资源框设置了透明或者重叠效果后，还可以设置资源框的层级，已确定资源框内元素摆放的前后顺序。

​![](https://dochelp.bn100.com/download/attachments/40796470/image2022-6-6_13-38-1.png?version=1&modificationDate=1654493881687&api=v2)​

### [4.2.4 删除资源框](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796499)

1、入口：决策分析

2、具体操作：选择已经添加的资源框，将鼠标的光标移动到该资源框中，右上角出现❌图标后，点击该图表，就可以将添加的资源框删除。

​![](https://dochelp.bn100.com/download/attachments/40796499/image2022-6-6_13-50-34.png?version=1&modificationDate=1654494635267&api=v2)​

## [4.3 添加元素](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796505)

前几节我们介绍了如何添加决策模板，并在决策模板中添加资源框。这一节，我们将学习在资源框中添加元素，当资源框中元素添加完成后，我们的决策模板基本就设置完成了。

需要注意的是，在资源框中添加图表元素时，同一个决策模板内的图表名称是不允许重复。

### [4.3.1 添加文字元素](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796507)

1、入口：决策分析

2、具体操作：点击【添加资源框】，新建一个新的资源框，点击【插入文字】，调整文字类型，字号，位置等信息，点击保存即可。

3、返回应用端查看效果，此时首页出现设置的文字。

​![](https://dochelp.bn100.com/download/attachments/40796507/image2022-6-6_15-20-22.png?version=1&modificationDate=1654500022710&api=v2)​

### [4.3.2 添加图表元素](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796509)

#### [添加KPI√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796535)

​![](https://dochelp.bn100.com/download/attachments/40796535/image2022-6-6_16-37-49.png?version=1&modificationDate=1654504669667&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796535/image2022-6-7_8-51-20.png?version=1&modificationDate=1654563080620&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796535/image2022-6-7_8-55-20.png?version=1&modificationDate=1654563320720&api=v2)​

#### [添加K线图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796553)

​![](https://dochelp.bn100.com/download/attachments/40796553/image2022-6-6_16-37-49.png?version=1&modificationDate=1656036797547&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796553/image2022-6-24_10-33-55.png?version=1&modificationDate=1656038035167&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796553/image2022-6-24_10-42-42.png?version=1&modificationDate=1656038562413&api=v2)​

来源数据（以某支股票日k为例）：

​![](https://dochelp.bn100.com/download/attachments/40796553/image2022-6-24_13-13-54.png?version=1&modificationDate=1656047634873&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796553/image2022-6-24_13-35-59.png?version=1&modificationDate=1656048959913&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796553/image2022-6-24_13-50-22.png?version=1&modificationDate=1656049823267&api=v2)​

#### [添加饼图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796525)

​![](https://dochelp.bn100.com/download/attachments/40796525/image2022-6-7_10-54-55.png?version=1&modificationDate=1654570495283&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796525/image2022-6-6_16-37-49.png?version=1&modificationDate=1654569554190&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796525/image2022-6-7_10-39-9.png?version=1&modificationDate=1654569549440&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796525/image2022-6-7_11-12-48.png?version=1&modificationDate=1654571568343&api=v2)​

#### [添加甘特图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796559)

​![](https://dochelp.bn100.com/download/attachments/40796559/image2022-6-6_16-37-49.png?version=1&modificationDate=1656636507013&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796559/image2022-7-1_9-22-49.png?version=1&modificationDate=1656638570257&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796559/image2022-7-1_9-32-0.png?version=1&modificationDate=1656639120903&api=v2)​

来源数据（以旅游计划数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796559/image2022-7-1_9-5-41.png?version=1&modificationDate=1656637541923&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796559/image2022-7-1_10-42-9.png?version=1&modificationDate=1656643329507&api=v2)​

展示效果图：

​![](https://dochelp.bn100.com/download/attachments/40796559/image2022-7-1_10-43-44.png?version=1&modificationDate=1656643424243&api=v2)​

#### [添加关系图](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796531)

暂空

#### [添加河流图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796555)

​![](https://dochelp.bn100.com/download/attachments/40796555/image2022-6-6_16-37-49.png?version=1&modificationDate=1656644453530&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796555/image2022-7-1_13-33-23.png?version=1&modificationDate=1656653603470&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796555/image2022-7-1_13-56-58.png?version=1&modificationDate=1656655018897&api=v2)​

来源数据（以各大热门城市各时段人流量数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796555/image2022-7-1_13-58-47.png?version=1&modificationDate=1656655128013&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796555/image2022-7-1_14-5-21.png?version=1&modificationDate=1656655521643&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/40796555/image2022-7-1_14-6-38.png?version=1&modificationDate=1656655598577&api=v2)​

#### [添加矩形树X](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796547)

​![](https://dochelp.bn100.com/download/attachments/40796547/image2022-6-6_16-37-49.png?version=1&modificationDate=1656464256217&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796547/image2022-6-24_10-33-55.png?version=1&modificationDate=1656464256477&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796547/image2022-6-24_10-42-42.png?version=1&modificationDate=1656464256527&api=v2)​

来源数据（以某支股票日k为例）：

​![](https://dochelp.bn100.com/download/attachments/40796547/image2022-6-24_13-13-54.png?version=1&modificationDate=1656464256557&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796547/image2022-6-24_13-35-59.png?version=1&modificationDate=1656464256630&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796547/image2022-6-24_13-50-22.png?version=1&modificationDate=1656464256667&api=v2)​

#### [添加雷达图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796543)

​![](https://dochelp.bn100.com/download/attachments/40796543/image2022-6-6_16-37-49.png?version=1&modificationDate=1656469269287&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796543/image2022-6-29_14-31-40.png?version=1&modificationDate=1656484300627&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796543/image2022-6-29_14-39-40.png?version=1&modificationDate=1656484781020&api=v2)​

来源数据（以某公司综合实力数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796543/image2022-6-29_14-45-9.png?version=1&modificationDate=1656485109227&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796543/image2022-6-29_15-11-36.png?version=1&modificationDate=1656486696523&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796543/image2022-6-29_15-13-56.png?version=1&modificationDate=1656486836863&api=v2)​

#### [添加漏斗图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796527)

​![](https://dochelp.bn100.com/download/attachments/40796527/image2022-6-6_16-37-49.png?version=1&modificationDate=1656493722957&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796527/image2022-6-29_17-11-54.png?version=1&modificationDate=1656493914227&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796527/image2022-6-29_17-19-57.png?version=1&modificationDate=1656494397580&api=v2)​

来源数据（以某公司招聘数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796527/image2022-6-30_10-16-22.png?version=1&modificationDate=1656555382300&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796527/image2022-6-30_13-51-43.png?version=1&modificationDate=1656568303380&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796527/image2022-6-30_13-54-24.png?version=1&modificationDate=1656568464903&api=v2)​

#### [添加热力地图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796557)

​![](https://dochelp.bn100.com/download/attachments/40796557/image2022-6-6_16-37-49.png?version=1&modificationDate=1656659530957&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796557/image2022-7-1_15-16-10.png?version=1&modificationDate=1656659770757&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796557/image2022-7-1_15-24-33.png?version=1&modificationDate=1656660273430&api=v2)​

来源数据（以某区道路交通数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796557/image2022-7-1_15-29-35.png?version=1&modificationDate=1656660575807&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796557/image2022-7-1_15-43-14.png?version=1&modificationDate=1656661395077&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796557/image2022-7-1_15-49-40.png?version=1&modificationDate=1656661780897&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/40796557/image2022-7-1_15-52-25.png?version=1&modificationDate=1656661945780&api=v2)​

#### [添加热力图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796541)

​![](https://dochelp.bn100.com/download/attachments/40796541/image2022-6-6_16-37-49.png?version=1&modificationDate=1656662180227&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796541/image2022-7-8_13-22-23.png?version=1&modificationDate=1657257744290&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796541/image2022-7-8_13-25-52.png?version=1&modificationDate=1657257953247&api=v2)​

来源数据（以某天某个时间段数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796541/image2022-7-8_13-29-2.png?version=1&modificationDate=1657258142480&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796541/image2022-7-8_14-2-56.png?version=1&modificationDate=1657260176387&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796541/image2022-7-8_14-4-59.png?version=1&modificationDate=1657260299743&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/40796541/image2022-7-8_14-6-1.png?version=1&modificationDate=1657260361287&api=v2)​

#### [添加日历图](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796551)

暂空

#### [添加散点图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796521)

​![](https://dochelp.bn100.com/download/attachments/40796521/image2022-6-6_16-37-49.png?version=1&modificationDate=1656900965070&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796521/image2022-7-4_13-56-57.png?version=1&modificationDate=1656914217797&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796521/image2022-7-4_14-5-33.png?version=1&modificationDate=1656914733307&api=v2)​

来源数据（以某公司公众号平台粉丝增长数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796521/image2022-7-4_14-23-33.png?version=1&modificationDate=1656915813180&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796521/image2022-7-4_14-28-10.png?version=1&modificationDate=1656916090090&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796521/image2022-7-4_14-29-43.png?version=1&modificationDate=1656916183850&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/40796521/image2022-7-4_14-30-21.png?version=1&modificationDate=1656916221887&api=v2)​

#### [添加桑基图](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796533)

​![](https://dochelp.bn100.com/download/attachments/40796533/image2022-6-6_16-37-49.png?version=1&modificationDate=1664335090123&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796533/image2022-9-28_11-24-0.png?version=1&modificationDate=1664335440883&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796533/image2022-9-28_14-43-21.png?version=1&modificationDate=1664347401597&api=v2)​

来源数据（以上下级数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796533/image2022-9-28_11-12-54.png?version=1&modificationDate=1664335090200&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796533/image2022-9-28_11-15-2.png?version=1&modificationDate=1664335090233&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/40796533/image2022-9-29_13-34-39.png?version=1&modificationDate=1664429679493&api=v2)​

#### [添加树形√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796545)

​![](https://dochelp.bn100.com/download/attachments/40796545/image2022-6-6_16-37-49.png?version=1&modificationDate=1661589772390&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796545/image2022-9-28_10-40-32.png?version=1&modificationDate=1664332832520&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796545/image2022-9-28_11-10-54.png?version=1&modificationDate=1664334654107&api=v2)​

来源数据（以上下级数据为例）：

​![](https://dochelp.bn100.com/download/attachments/40796545/image2022-9-28_11-12-54.png?version=1&modificationDate=1664334774350&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796545/image2022-9-28_11-15-2.png?version=1&modificationDate=1664334902960&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/40796545/image2022-9-28_11-15-37.png?version=1&modificationDate=1664334937973&api=v2)​

#### [添加图形KPI√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796537)

​![](https://dochelp.bn100.com/download/attachments/40796537/image2022-6-6_16-37-49.png?version=1&modificationDate=1654741606683&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796537/image2022-6-14_14-6-32.png?version=1&modificationDate=1655186793123&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796537/image2022-6-8_9-38-5.png?version=1&modificationDate=1654741607217&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796537/image2022-6-8_10-12-58.png?version=1&modificationDate=1654741607293&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796537/image2022-6-8_10-57-12.png?version=1&modificationDate=1654741607310&api=v2)​

#### [添加箱线图](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796539)

暂空

#### [添加旭日图](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796549)

暂空

#### [添加仪表盘√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796523)

​![](https://dochelp.bn100.com/download/attachments/40796523/image2022-6-6_16-37-49.png?version=1&modificationDate=1654675613557&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796523/image2022-6-8_16-35-57.png?version=1&modificationDate=1654677357630&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796523/image2022-6-9_9-18-54.png?version=1&modificationDate=1654737534617&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796523/image2022-6-9_9-25-54.png?version=1&modificationDate=1654737954830&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796523/image2022-6-9_9-39-11.png?version=1&modificationDate=1654738751987&api=v2)​

#### [添加折线图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796519)

​![](https://dochelp.bn100.com/download/attachments/40796519/image2022-6-6_16-37-49.png?version=1&modificationDate=1654586523667&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796519/image2022-6-7_16-8-26.png?version=1&modificationDate=1654589307137&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796519/image2022-6-7_16-30-43.png?version=1&modificationDate=1654590644167&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796519/image2022-6-7_16-34-29.png?version=1&modificationDate=1654590870177&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796519/image2022-6-7_16-46-13.png?version=1&modificationDate=1654591573320&api=v2)​

#### [添加柱形图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796517)

​![](https://dochelp.bn100.com/download/attachments/40796517/image2022-6-6_16-37-49.png?version=1&modificationDate=1654591689580&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796517/image2022-6-7_16-50-30.png?version=1&modificationDate=1654591830293&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796517/image2022-6-7_17-22-29.png?version=1&modificationDate=1654593749977&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796517/image2022-6-7_17-27-33.png?version=1&modificationDate=1654594054017&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796517/image2022-6-7_17-32-3.png?version=1&modificationDate=1654594324067&api=v2)​

#### [添加字符云√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796529)

​![](https://dochelp.bn100.com/download/attachments/40796529/image2022-6-6_16-37-49.png?version=1&modificationDate=1654649976343&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796529/image2022-6-8_9-29-16.png?version=1&modificationDate=1654651757077&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796529/image2022-6-8_9-38-5.png?version=1&modificationDate=1654652285633&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796529/image2022-6-8_10-12-58.png?version=1&modificationDate=1654654378920&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796529/image2022-6-8_10-57-12.png?version=1&modificationDate=1654657033070&api=v2)​

#### [添加组合图√](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796515)

​![](https://dochelp.bn100.com/download/attachments/40796515/image2022-6-6_16-37-49.png?version=1&modificationDate=1654664833083&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796515/image2022-6-8_13-33-52.png?version=1&modificationDate=1654666432787&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796515/image2022-6-8_13-38-43.png?version=1&modificationDate=1654666723940&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796515/image2022-6-8_14-54-0.png?version=1&modificationDate=1654671240993&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796515/image2022-6-8_15-11-42.png?version=1&modificationDate=1654672302777&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/40796515/image2022-6-8_15-23-0.png?version=1&modificationDate=1654672980627&api=v2)​

### [4.3.3 添加图片元素](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796511)

​![](https://dochelp.bn100.com/download/attachments/40796511/image2022-7-4_14-40-26.png?version=1&modificationDate=1656916826127&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/40796511/image2022-7-4_14-43-34.png?version=1&modificationDate=1656917014897&api=v2)​

### [4.3.4 添加其他元素](https://dochelp.bn100.com/pages/viewpage.action?pageId=40796513)

#### [添加工具集（时钟）](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714764)

​![](https://dochelp.bn100.com/download/attachments/41714764/image2022-7-4_14-52-38.png?version=1&modificationDate=1656917558617&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714764/image2022-7-4_14-54-54.png?version=1&modificationDate=1656917695043&api=v2)​

#### [添加流程（流程统计、流程列表）](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714758)

流程统计教程：

​![](https://dochelp.bn100.com/download/attachments/41714758/image2022-7-4_15-56-54.png?version=1&modificationDate=1656921414707&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/41714758/image2022-7-4_15-58-11.png?version=1&modificationDate=1656921491393&api=v2)​

流程列表教程：

​![](https://dochelp.bn100.com/download/attachments/41714758/image2022-7-4_16-0-35.png?version=1&modificationDate=1656921636047&api=v2)​

展示效果：

​![](https://dochelp.bn100.com/download/attachments/41714758/image2022-7-4_16-2-44.png?version=1&modificationDate=1656921764317&api=v2)​

#### [添加数据规范（日期、下拉、浮选框、列表）](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714756)

日期教程：日期配合【联动】使用；通过日期选择来联动其他图表。

​![](https://dochelp.bn100.com/download/attachments/41714756/image2022-7-4_16-11-33.png?version=1&modificationDate=1656922293337&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714756/image2022-7-4_16-15-52.png?version=1&modificationDate=1656922553027&api=v2)​

下拉、浮选框、列表教程同上。

#### [添加业务（导航、数据列表）](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714760)

导航教程：

​![](https://dochelp.bn100.com/download/attachments/41714760/image2022-7-4_16-40-59.png?version=1&modificationDate=1656924059263&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714760/image2022-7-4_16-47-58.png?version=1&modificationDate=1656924478673&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714760/image2022-7-4_16-55-47.png?version=1&modificationDate=1656924947380&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714760/image2022-7-4_16-58-14.png?version=1&modificationDate=1656925094353&api=v2)​

数据列表教程：

​![](https://dochelp.bn100.com/download/attachments/41714760/image2022-7-4_17-14-46.png?version=1&modificationDate=1656926087040&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714760/image2022-7-4_17-16-49.png?version=1&modificationDate=1656926210160&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714760/image2022-7-4_17-18-57.png?version=1&modificationDate=1656926337897&api=v2)​

# [五、流程审批](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713914)

## [5.1 建立工作流审批](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714805)

工作流的设置都需要在设计器–流程管理中进行，流程设置的过程很简单，理解了流程设置的大致过程，以及流程属性的用途，就能够设置出工作流了。

​![](https://dochelp.bn100.com/download/attachments/41714805/image2022-7-5_10-21-7.png?version=1&modificationDate=1656987667973&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/41714805/image2022-7-5_10-25-33.png?version=1&modificationDate=1656987933387&api=v2)​

## [5.2 流程属性说明](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714807)

|属性类型|属性名称|属性内容|是否必填项|属性说明|
| --------------| ----------------------------| --------------| --------------------------------------------------------| ----------|
|节点属性<br />|任务名称||**是**|当前节点的任务名称，可以取名某某申请，某某审批等|
||回退方式|上一步/发起人||是否允许当前操作人回退待办流程，并且指定回退的方式|
||允许撤销|是/否||是否允许上一步已经提交的流程，当下一步还没有办理时，撤销上一步的提交任务|
||处理方式|抢先/会签/并列|**是**|执行流程节点的处理方式是抢先，会签还是并列。抢先：满足接收条件的办理人，任意一个先办理，即可流转到下一步；会签：满足条件的办理人不分先后顺序同时办理完成后，可流转到下一步；并列：满足条件的办理人，办理任务后，会将原有任务分裂为多个任务分别流向下一步。|
||流转方式|普通/转填|**是**|当前流程节点对应的表单与上一步节点是否一致，一致则为普通，当前节点处理的表单与上一节点处理的表单不一致，则为转填。|
||提交意见|字段内容||可将当前表单的字段内容传递到流程进度中，显示流程的意见和说明。<br />|
||意见说明|字段内容|||
||允许删除|是/否||设置是否允许用户删除自己操作过的流程。|
||允许批量审批|是/否||设置是否允许用户批量审批自己的待办流程|
||消息提醒|下一步/上一步/发起人||设置流程推送消息的接收人|
||发起权限|选择角色|**是**|有发起权限的角色才能够发起该工作流|
||选择模板|选择模板|**是**|绑定流程节点的模板|
||执行人|人工指定人/指定角色/流程发起人/上一步填报人/本模板字段|**是**|设置流程节点的接收人|
||操作字段|字段内容||设置当前流程节点可以操作的字段|
||隐藏字段|字段内容||设置当前流程节点不可见的字段内容|
||摘要描述|字段内容||设置流程摘要信息|
|连接线属性<br />|筛选条件|表达式||编辑流程流转的条件|
||传参|字段内容||转填方式下设置上一步节点传递给下一步节点的字段内容|

## [5.3 流程流转说明](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714809)

以下为工作流流转说明的图解，设计者可参照自身业务，确定选择何种形式的流程流转形式

​![](https://dochelp.bn100.com/download/attachments/41714809/%E6%B5%81%E7%A8%8B.png?version=1&modificationDate=1656997420157&api=v2)​

## [5.4 发起权限](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714811)

设计流程时，并不是所有的用户都能够操作该流程，必须给流程发起节点相应的发起权限，拥有发起权限的角色才能够

参与发起该流程。流程的发起权限指的是能够发起该流程的角色。只有指定了发起角色的用户，才能够发起相应的流程。

​![](https://dochelp.bn100.com/download/attachments/41714811/image2022-7-5_13-28-5.png?version=1&modificationDate=1656998885333&api=v2)​

## [5.5 发起节点绑定模板](https://dochelp.bn100.com/pages/viewpage.action?pageId=689319)

在发起工作流的时候，一般是伴随着一些表单信息的流转，所以在发起节点，需要设计者去绑定相应的模板。

操作：1、流程管理，点击发起节点，右侧属性面板弹出，点击绑定模板--选择模板

​![](https://dochelp.bn100.com/download/attachments/689319/image2022-7-5_13-43-40.png?version=1&modificationDate=1656999820610&api=v2)​

## [5.6 流程的操作字段](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714815)

设置流程的可操作字段，能够确定节点的操作人在当前节点上，只能够操作相应的字段，而对其他字段没有操作权限。

​![](https://dochelp.bn100.com/download/attachments/41714815/image2022-7-5_14-22-27.png?version=1&modificationDate=1657002147920&api=v2)​

## [5.7 流程的隐藏字段](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714817)

流程字段隐藏与可操作字段类似，设置了隐藏字段后，该节点将无法查看到相应字段的内容信息。

​![](https://dochelp.bn100.com/download/attachments/41714817/image2022-7-5_17-16-58.png?version=1&modificationDate=1657012618167&api=v2)​

## [5.8 流程工作流说明](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714819)

设置工作流说明后，对应办理流程的人员能够对流程对应的表单信息有一个粗略的理解，帮助他们了解工作流信息。

工作流说明设计：

​![](https://dochelp.bn100.com/download/attachments/41714819/555.jpg?version=1&modificationDate=1657012791830&api=v2)​

工作流说明应用：

​![](https://dochelp.bn100.com/download/attachments/41714819/444.jpg?version=1&modificationDate=1657012791860&api=v2)​

## [5.9 回退方式](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714821)

回退方式指流程接收人，接收流程后，因为某种原因不往下办理，需要将流程退回到之前步骤。在workfine设计器中，默认能够让流程接收人将任务回退都上一步，或者直接回退给发起人。

​![](https://dochelp.bn100.com/download/attachments/41714821/image2022-7-6_9-11-58.png?version=1&modificationDate=1657069919017&api=v2)​

## [5.10 处理方式](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714823)

流程的处理方式分为**抢先、并列和会签**三种方式，三种方式的理解如下：

1、抢先式处理是指当某一节点的流程接收人有多个时，其中任何一个人办理完成，该流程就可以流向下一个节点；

2、会签式处理是指某一个节点的流程接收人有多个时，多个人可以不分先后顺序办理，当多个接收人都办理完成后，该流程可以流向下一个节点。

                                   会签式流程有亮点需要注意，1、多个人审核不分先后顺序，当审核过程需要区分先后顺序时，不能够使用会签。

                                                                                   2、多个接收人同时审批完成后才能够流转到下一步。

3、并列式处理指当接收人有多个人的时候，会将上一步发起人的表单信息分裂为多份，不同的接收人填写不同的信息，最终数据库会存储多份表单信息。并列式处理多用于一些问卷，数据搜集等业务。

​![](https://dochelp.bn100.com/download/attachments/41714823/image2022-7-6_9-58-52.png?version=1&modificationDate=1657072732333&api=v2)​

流程处理方式理解导图：

​![](https://dochelp.bn100.com/download/attachments/41714823/image2019-6-15_10-0-12.png?version=1&modificationDate=1657070973567&api=v2)​

## [5.11 流向方式](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714825)

当流程设计有分叉的时候，具体的流程实例会需要根据条件判断来确定流向。如：当请款金额小于2000、2000到5000，大于5000分别是不同的审批流向，这样就需要在流向线上设置流向条件。

当某一个具体的流程实例同时满足多条流向的时候，需要提交人手动选择具体的下一步流向。

​![](https://dochelp.bn100.com/download/attachments/41714825/image2022-7-6_10-5-26.png?version=1&modificationDate=1657073126697&api=v2)​

## [5.12 执行人](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714827)

### [5.12.1 人工指定人](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714829)

人工指定人指当前节点的接收人不固定，是一个范围，具体流程提交的时候，需要当事人手动选择下一步骤能够办理的人员信息。

如下：在设计器中人工指定接收人，并且设置接收人的范围：

​![](https://dochelp.bn100.com/download/attachments/41714829/image2022-7-6_13-23-7.png?version=1&modificationDate=1657084987587&api=v2)​

流程提交的时候，能够在设置范围内自主选择下一步要提交的人：

​![](https://dochelp.bn100.com/download/attachments/41714829/image2022-7-6_13-31-1.png?version=1&modificationDate=1657085461397&api=v2)​

### [5.12.2 指定角色](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714831)

指定角色指当上一步节点任务提交后，满足相应角色设置的人将自动接收流程任务，变为自己的待办任务。

指定角色的设置需注意如下：

1、角色的选择可以指定到角色部门

2、指定角色后，还可以指定接收的角色与上一步提交人的关系：同部门，上级部门或者下级部门

​![](https://dochelp.bn100.com/download/attachments/41714831/image2022-7-6_14-48-55.png?version=1&modificationDate=1657090135863&api=v2)​

指定角色后，再指定角色对应的部门：

​![](https://dochelp.bn100.com/download/attachments/41714831/image2022-7-6_14-58-18.png?version=1&modificationDate=1657090698763&api=v2)​

### [5.12.3 流程发起人](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714833)

流程发起人，顾名思义，就是当前步骤的接收人为发起流程的当事人

​![](https://dochelp.bn100.com/download/attachments/41714833/image2022-7-6_15-41-34.png?version=1&modificationDate=1657093294637&api=v2)​

### [5.12. 4上一步填报人](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714835)

与流程发起人类似，上一步填报人，指当前流程任务的接收人就是上一步流程任务的提交人。

例如：流程流转到财务经理，在审核过程中财务发现单据有问题，他将流程退回到”上一步填报人“，此时”上一步填报人“为部门主管。

​![](https://dochelp.bn100.com/download/attachments/41714835/image2022-7-6_15-42-56.png?version=1&modificationDate=1657093377087&api=v2)​

### [5.12.5 来自本模板字段](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714837)

来自本模板字段指，当前流程的接收人时模板的某个字段，当模板的某个字段内容与系统用户姓名相同时，该用户将自动接收到流程任务。

​![](https://dochelp.bn100.com/download/attachments/41714837/image2022-7-6_15-45-24.png?version=1&modificationDate=1657093524387&api=v2)​

## [5.13 流转方式](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714839)

### [5.13.1 普通](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714841)

普通流转指当前流转任务与上一步流转任务操作的是同样的表单，不同的流程节点对应的是同一个模板的表单信息。

​![](https://dochelp.bn100.com/download/attachments/41714841/image2022-7-6_16-32-39.png?version=1&modificationDate=1657096359907&api=v2)​

### [5.13.2 转填](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714843)

转填指在不同的流程节点上，填报不同的模板表单信息。例如下图，在一个离职审批流程中，发起人先填写离职申请单---人事部门审核(此时还是在离职申请单上审核)---**财务审批(此时会跳转到一张新的财务结算单)**---结束任务。

其中流程的第三步节点就是一个转填流程，到转填流程时，会新增填报一张新的表单信息。**同时可以将上一步的表单信息传递到转填的表单信息中。**

​![](https://dochelp.bn100.com/download/attachments/41714843/image2019-6-15_10-25-33.png?version=1&modificationDate=1657093236323&api=v2)​

步骤一：设置转填节点：

​![](https://dochelp.bn100.com/download/attachments/41714843/image2022-7-6_16-34-23.png?version=1&modificationDate=1657096463477&api=v2)​

步骤二：点击转填的上一步连接线，设置转填传递字段

​![](https://dochelp.bn100.com/download/attachments/41714843/image2022-7-6_16-37-12.png?version=1&modificationDate=1657096632147&api=v2)​

# [六、数据集成](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713916)

## [6.1 视图](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714530)

视图可以理解为一个虚拟的数据表，视图的作用是对最基础的数据进行一定形式的处理，使其满足不同业务的要求。比如我们需

要将部门信息表和人员信息表组合成为一个部门人员信息表；或者将入库信息和出库信息组合形成一个库存信息表。

视图分为常规视图和组合视图，常规视图是对数据表的横向组合，组合视图是对数据表的纵向组合。

**常规视图如下：**

​![](https://dochelp.bn100.com/download/attachments/41714530/image2021-11-2_9-19-51.png?version=1&modificationDate=1655695386793&api=v2)​

**组合视图如下：**

​![](https://dochelp.bn100.com/download/attachments/41714530/image2021-11-4_8-48-25.png?version=1&modificationDate=1655695386760&api=v2)​

## [6.2 外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714536)

本节主要介绍通过设计器功能，如何连接外部系统数据，本节讲解过程将以连接SQLserver数据为实例给大家讲解。

链接的过程其实是挑选数据信息的过程，链接之前我们需要弄清楚对应的数据库结构，以及每个数据表对应的字段含义。

不同类型的数据源，链接过程稍有不同，请大家参照各自的外联数据库类型，进行不同的链接。

     1、登陆设计器，点击数据集成--外部数据源—新增，弹出外部数据源的新增界面。

     2、在新增外部数据源界面填写外联名称和数据源名称，选择数据源类型(图二1)；编辑输入数据源链接信息(图二2)；

输入安全验证的用户名和密码(图二3)；如果验证通过，则可以选择该数据源下对应的数据库(图二五)；链接完成，保存即可。

**不同的数据库链接方式会有不同，可参照下节内容，对具体数据库做具体配置。**

​![](https://dochelp.bn100.com/download/attachments/41714536/image2022-6-20_11-25-1.png?version=1&modificationDate=1655695513510&api=v2)![](https://dochelp.bn100.com/download/attachments/41714536/image2019-10-29_9-20-59.png?version=1&modificationDate=1655695513540&api=v2)​

### [6.2.1 链接外部数据](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714538)

#### [1.2.7.1 SQL Server外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713977)

见10.7节

#### [1.2.7.2 MySQL外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713979)

见10.7节

# [七、组织用户](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497895)

本节内容：

       在Workfine开发平台中，组织用户和角色权限两个功能模块是为了在最终用户应用系统时，相应的人员能有各自的账户登陆系统，并且可以根据账户分配不同的权限。

     本章节将先介绍组织用户的基本概念，然后介绍组织用户的操作，最后讲解如何批量导入组织用户，以及通过LDAP,钉钉,企业微信等方式进行数据同步。学习者可以根据需要选择相应的组织用户建立方式。

      Workfine建立组织用户的形式实用又简单，除了基本的组织用户增删改，用户还能够通过Workfine的进行批量导入。也可以通过数据同步的形式实现LDAP、企业微信、钉钉的组织用户数据同步。

在学习操作Workfine的组织用户之前，我们先来学习什么是企业中的组织和用户。

	**一、组织**：

 **企业组织就是我们通常所说的单位或者部门**。  企业是以系统组织形式存在的，结构多以扁平化或者层次化的形式存在，没有任何一个企业组织是以离散的形式存在。企业大多以公司+部门的形式组成，不同规模的单位，组织形式会有所不同。最简单的组织形式是只有一个单位主体；一般的组织形式是一个单位下包含多个下级部门；如果是集团型的组织形式，可能是一个集团下包含多个事业部，事业部下面包含不同的子单位，子单位下又包含不同的部门，部门下可能还包含不同的班组等。

    像这种既包含组织信息，又包含组织间相互关系的图我们称之为组织架构图。

​![](https://dochelp.bn100.com/download/attachments/46497895/%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84.jpg?version=1&modificationDate=1667367564977&api=v2)​

       但不管组织结构多么复杂，它都会满足一些基本条件，最终的组织形式会形成一个树形结构。树形结构的组织满足两个条件：1、组织中有且只有一个根级组织，它没有所属的上级部门。2、除根级组织外，其余组织都会有自己唯一的上级部门。      

	所以我们在workfine中建立组织信息时，不仅要确定组织的名称等属性信息，还需要确定组织的从属关系，知道当前组织的上级组织信息，最终形成一个树形的组织结构。

**​     二、用户：**

        用户是指企事业单位中各种用工形式的人员，包括固定工、合同工、临时工，以及代训工和实习生等，用户不是孤立存在的。他是依托在企业组织下，用户除了有自己的姓名外，还需要指定用户的所属部门，岗位等信息。

      在Workfine中建立企业用户，最终是为了让相应的人员能够通过账户登陆系统，并且分配给他们相应的权限。这样不同的人员在登陆系统后，就可以根据权限访问自身的岗位职能下的业务工作。

       小结：企业业务数字化管理平台，就是将企业的实际业务抽象成数字化方式进行管理，在建立业务系统之前，也需要像组建公司一样，建立对应的组织，用户以及岗位权限等信息。

## [7.1 组织管理](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497902)

**本节内容**

    前面我们讲过，组织就是通常所说的部门或者单位，我们不仅要建立组织信息，还需要建立组织之间的相互关系。在本章节中，我们会将企业中的事业部，单位，部门或者班组等企业组成统称为组织。

   在讲解基本操作之前，我们需要了解建立组织的几个基本规则：

1、一个组织架构中有且只有一个根级组织，他可以是单位，也可以是集团，根级组织代表组织架构中最高级别的组织。

2、除根级组织外，其余组织都有且只有一个上级组织，

3、为了使组织与组织间有所区别，所有同级别的组织名称不允许重复。同级别是指有相同上级的组织名称不允许重复。

4、组织全称是包含该组织及所有上级组织的信息组合，组织架构中企业全称的信息需要唯一。

​![](https://dochelp.bn100.com/download/attachments/46497902/%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%842.jpg?version=1&modificationDate=1667367565903&api=v2)​

      本节主要讲解组织的基本设置，包括组织的新增，修改，删除，以及如何调整组织间的所属关系。在学习基本操作的同时，大家可以同时通过workfine设计器来设计练习，以便加深印象。同时需要指出的是，默认账套中的根级部门就是我们所要开发企业业务系统中的最高等级的部门，大家在学习之前可以先将根级部门的信息修改为当前所属单位。

### [7.1.1 新增](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497905)

图解：

1、将鼠标移动至【新增】按钮；

2、输入组织名称；

3、输入组织编号；

4、点击【保存】按钮，新增组织成功

​![](https://dochelp.bn100.com/download/attachments/46497905/%E6%96%B0%E5%A2%9E%E7%BB%84%E7%BB%87%E5%90%88%E5%B9%B6.png?version=1&modificationDate=1667367566070&api=v2)​

gif演示：

​![](https://dochelp.bn100.com/download/attachments/46497905/%E6%96%B0%E5%A2%9E%E7%BB%84%E7%BB%87.gif?version=1&modificationDate=1667367566140&api=v2)​

### [7.1.2 修改](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497908)

图解：

1、将鼠标移动到【修改】按钮；

2、输入组织名称

3、输入组织编号

4、点击【保存】按钮修改成功。

​![](https://dochelp.bn100.com/download/attachments/46497908/%E6%96%B0%E5%BB%BA%E7%BB%84%E7%BB%87%E5%90%88%E6%88%902.png?version=1&modificationDate=1667367574913&api=v2)​

gif操作：

​![](https://dochelp.bn100.com/download/attachments/46497908/%E4%BF%AE%E6%94%B9%E7%BB%84%E7%BB%87.gif?version=1&modificationDate=1667367569523&api=v2)​

### [7.1.3 删除](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497912)

在进行组织删除操作之前，必须确定已经解除了组织相应关联关系，如果不事先解除，删除的时候会给出提醒，与组织产生关

联关系的内容主要有组织下用户，下级组织，以及组织绑定的角色。所有在删除组织前一定要确定以下三点：

1、确定该组织下没有相应的用户，如果有，先删除或者移动该组织下的用户。

​![](https://dochelp.bn100.com/download/attachments/46497912/image2020-6-2_10-7-15.png?version=1&modificationDate=1667367582273&api=v2)​

2、确定该组织下没有相应的角色，如果有，先删除或者移动该组织下的角色。

​![](https://dochelp.bn100.com/download/attachments/46497912/image2020-6-2_10-7-31.png?version=1&modificationDate=1667367582257&api=v2)​

3、确定该组织下没有相应的下级组织，如果有，先删除或者移动该组织的下级组织。

​![](https://dochelp.bn100.com/download/attachments/46497912/image2020-6-2_10-7-49.png?version=1&modificationDate=1667367582243&api=v2)​

解除以上三个关联关系后，就可以进行组织的删除操作了。

图解：

1、将鼠标移动到【删除】按钮；

2、点击【确认】按钮即可删除。

​![](https://dochelp.bn100.com/download/attachments/46497912/%E5%88%A0%E9%99%A4%E7%BB%84%E7%BB%87%E5%90%88%E5%B9%B6.png?version=1&modificationDate=1667367582443&api=v2)​

gif演示：

​![](https://dochelp.bn100.com/download/attachments/46497912/%E5%88%A0%E9%99%A4%E7%BB%84%E7%BB%87.gif?version=1&modificationDate=1667367582473&api=v2)​

### [7.1.4 移动层级关系](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497924)

通过移动层级关系，可以修改组织与组织间的相对位置，从属关系等。移动操作比较简单，只需要鼠标单击需要移动的组织，然后上下移动即可。

图解：

将鼠标点中需要移动的组织上下拖拽即可。

​![](https://dochelp.bn100.com/download/attachments/46497924/%E7%A7%BB%E5%8A%A8%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E5%85%B3%E7%B3%BB.png?version=1&modificationDate=1667367590433&api=v2)​

gif演示：

​![](https://dochelp.bn100.com/download/attachments/46497924/%E7%A7%BB%E5%8A%A8%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7.gif?version=1&modificationDate=1667367587580&api=v2)​

### [7.1.5 组织属性](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497927)

组织属性指企业组织中相应的部门名称，部门编号，或者是否为单位属性，本节将对这三个属性做相应讲解：

        1、组织名称：组织名称就是我们通常所指的部门名称或者单位名称，在一个组织架构中，有相同上级的所有组织名称不允许重复。在简单的组织架构中，我们尽量遵循组织名称不要重复的原则。在复杂的组织架构中，不同的单位下可能有相同的组织名称，此时我们可以通过组织全称进行数据或者权限的比对。

       2、组织编号：在整个组织架构中，组织编号不允许重复。设计者增加组织信息时，如果不编辑组织编号，系统将自动分为一个唯一性的组织编号。设计者也可以在此基础上进行适当调整，但调整的原则需要是组织编号不允许重复。

       3、是否为单位：是否为单位，是为了标注组织的单位属性。一般普通的组织只有一个根级组织为单位属性，大型的集团型组织，会有多个单位。将组织标注为单位，是为了在分配权限的时候，可以以用户的所属单位为基点进行权限分配 (通常情况下的权限分配都是用户的所属部门为权限分配的基点)。

**​       图解操作如下：**

​![](https://dochelp.bn100.com/download/attachments/46497927/image2019-10-23_13-50-20.png?version=1&modificationDate=1667367590510&api=v2)![](https://dochelp.bn100.com/download/attachments/46497927/image2019-10-23_13-51-8.png?version=1&modificationDate=1667367590527&api=v2)​

## [7.2 批量导入组织](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497931)

本节将介绍通过批量导入的方式，进行组织的导入。导入的形式主要有两种，excel导入和CSV导入，不管是何种形式的导入，导入过程都分为四个步骤：

1、修改根级组织名称；  
2、下载导入模板(excel或者CSV)；  
3、整理需要导入的数据；  
4、上传整理好的组织信息文件。

      其中在整理导入数据信息时，可以按照以下规则进行：

a、将根级部门调整为当前的单位信息  
b、根级部门信息不用出现在导入资料的"部门名称"列中。  
c、上级部门名称必须是"部门名称"列，或者为根级部门信息。  
d、有相同上级的部门名称不能够重复

### [7.2.1 excel导入](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497942)

**具体操作图解：**

1、将鼠标光标移动至左下方并点击【批量导入】按钮；

2、点击【excel导入】；

3、点击【下载模板】需要根据下载的模板将数据按照规则输入；

​![](https://dochelp.bn100.com/download/attachments/46497942/%E6%88%AA%E5%B1%8F2020-06-03%20%E4%B8%8B%E5%8D%883.52.15.png?version=1&modificationDate=1667367597697&api=v2)​

**下载的导入模板填报数据的规则需按照以下规则填写：**

**1）部门名称不应该包含根级组织；
2）相同上级部门的部门名称不允许重复；
3）上级部门名称应该为根级部门或者出现在部门名称中的信息。**

​![](https://dochelp.bn100.com/download/attachments/46497942/%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E7%94%A8%E6%88%B73.png?version=1&modificationDate=1667367639783&api=v2)​

4、选取填报后的导入模板，点击【保存】按钮即可成功导入用户数据。

​![](https://dochelp.bn100.com/download/attachments/46497942/%E6%88%AA%E5%B1%8F2020-06-03%20%E4%B8%8B%E5%8D%884.23.37.png?version=1&modificationDate=1667367597667&api=v2)​

**gif演示**：

​![](https://dochelp.bn100.com/download/attachments/46497942/%E6%89%B9%E9%87%8F%E5%AF%BC%E5%85%A5%E9%83%A8%E9%97%A8%E7%BB%84%E7%BB%87.gif?version=1&modificationDate=1667367597737&api=v2)​

### [7.2.2 csv导入](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497955)

**csv导入图解：**

1、将鼠标移动至左下角并点击【批量导入】；

2、点击【csv导入】；

3、选择默认分类；

4、选择【+】按钮，添加需要新增的组织及上下级；

5、手动输入【部门编号】【部门名称】【上级部门名称】；

6、点击【保存】成功创建组织。

​![](https://dochelp.bn100.com/download/attachments/46497955/csv%E5%AF%BC%E5%85%A5%E5%90%88%E5%B9%B6.png?version=1&modificationDate=1667367648813&api=v2)​

**gif演示：**

​![](https://dochelp.bn100.com/download/attachments/46497955/csv%E5%AF%BC%E5%85%A5.gif?version=1&modificationDate=1667367644413&api=v2)​

## [7.3 用户管理](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497961)

**本节内容**

       本节我们将介绍用户的相关操作，因为在用户的设置中，有相应角色的设置，我们可以在后面"角色权限"的模块中绑定用户，完成用户角色的设置，也可以先学习完"角色权限"模块后，再来建立用户信息，以便直接进行角色绑定。

   在讲解基本操作之前，我们需要了解建立用户的几个基本规则：

1、用户需要有相应的用户名，登陆名，和密码，其中登陆名在整个系统中不允许重复  
2、用户需要有自己唯一的所属部门，不允许有多个所属部门  
3、用户可以兼任本部门的多个角色，也可以兼任其他部门的角色(一个人在一家公司可以有多个岗位)  
4、用户的邮件信息可以在以后的邮件管理中应用

      本节主要讲解用户的基本设置，包括用户的新增，修改，删除，以及用户的相关属性讲解。在学习基本操作的同时，大家可以同时通过workfine设计器来设计练习，以便加深印象。同时需要指出的是，默认账套超级管理员用户是系统的最高权限账户，大家在操作的时候应该牢记超级管理员密码，同时尽量不要对超级管理员用户做删除，修改角色的操作。

### [7.3.1 用户新增](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497964)

建立用户过程中需要满足以下基本条件：

1、用户需要有相应的用户名，登陆名，和密码，其中登陆名在整个系统中不允许重复。  
2、用户需要有自己唯一的所属部门，不允许有多个所属部门。  
3、用户可以兼任本部门的多个角色，也可以兼任其他部门的角色(一个人在一家公司可以有多个岗位)。  
4、用户的邮件信息可以在以后的邮件管理中应用。

操作图解：

1、在组织用户模块点击【新增】按钮，进行新用户创建；

2、填写相应的【用户姓名】【所属部门】【登录名称】【登录密码】【移动电话】【邮箱】等信息。以上信息填写要求如下。

   a、用户姓名，所属部门，登陆名必填，登陆名在系统内部允许重复；  
   b、所属部门为组织架构中的相应部门；  
   c、电话要按照现有电话11位的规则填写；  
   d、邮箱也需要根据正确格式填写。

3、勾选部门角色。选择用户所属部门后，用户建立框右侧会显示该部门下的所有角色。

   a、勾选本部门角色：可以勾选一个或者多个为当前用户的角色。  
   b、勾选其它部门的兼职角色：如果该用户还有兼职其它部门的角色，可以点击右上角的圆形+符号，进行兼职角色的选择。

4、以上设置完成后，点击【新建】按钮，创建用户成功。

​![](https://dochelp.bn100.com/download/attachments/46497964/%E6%96%B0%E5%BB%BA%E7%94%A8%E6%88%B7%E5%90%88%E5%B9%B6.png?version=1&modificationDate=1667367657207&api=v2)​

gif演示：

​![](https://dochelp.bn100.com/download/attachments/46497964/%E7%94%A8%E6%88%B7%E6%96%B0%E5%A2%9E.gif?version=1&modificationDate=1667367651330&api=v2)​

### [7.3.2 用户修改](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497967)

图解：

选中需要修改的记录，在操作区域点击【编辑】按钮即可修改保存后的数据。

​![](https://dochelp.bn100.com/download/attachments/46497967/%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7.png?version=1&modificationDate=1667367657287&api=v2)​

### [7.3.3 用户删除](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497969)

删除用户之前，需要解除用户与角色的关联关系，可以先将用户对应的角色信息解除掉，然后再进行用户的删除操作。

如果不进行用户角色的绑定解除操作，在删除用户时会有如下提示：

​![](https://dochelp.bn100.com/download/attachments/46497969/%E7%94%A8%E6%88%B7%E4%B8%8D%E5%85%81%E8%AE%B8%E5%88%A0%E9%99%A4.png?version=1&modificationDate=1667367663747&api=v2)​

原因：删除的该用户已经与已有角色绑定，不能删除；  
解决方法：在角色权限中找到对应角色点击【绑定用户】，将绑定的用户反选即可。

图解：

1、勾选需要删除的用户；

2、点击【删除】按钮即可删除用户。

​![](https://dochelp.bn100.com/download/attachments/46497969/%E6%88%AA%E5%B1%8F2020-06-03%20%E4%B8%8A%E5%8D%889.49.23.png?version=1&modificationDate=1667367663763&api=v2)​

gif演示：

​![](https://dochelp.bn100.com/download/attachments/46497969/%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7.gif?version=1&modificationDate=1667367657380&api=v2)​

### [7.3.4 用户停用](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497973)

图解：

1、选择需要停用的用户，在操作区域中点击【编辑】按钮；

2、选择启用按钮反选停用该用户。

​![](https://dochelp.bn100.com/download/attachments/46497973/%E5%90%AF%E7%94%A8%E5%81%9C%E7%94%A8%E7%94%A8%E6%88%B7.png?version=1&modificationDate=1667367663843&api=v2)​

### [7.3.5 用户属性](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497975)

本节将主要对用户相关设置过程中的相关属性进行讲解，以便大家在进行用户设置时，对用户信息有更全面的认识：

用户头像：用户头像是指用户在应用端登陆后可以显示的头像信息，可以通过设计器上传，也可以在用户登陆应用端后自主上传。

用户签名：用户在业务开展中，需要进行签名时，可以通过数据规范直接调用当前用户的签名字段。

用户姓名：用户姓名指登陆系统的人名。

用户所属部门：用户所属部门指当前用户的所属部门，选择所属部门后，右侧将显示该部门下的所有角色信息。

登陆名：登陆名指用户登录系统时的账户信息，整个业务系统中，登陆名不允许重复。

密码：密码指用户登陆系统时的密码，登陆密码与设置密码出现偏差，将不允许登入系统。

电话：用户电话信息

邮箱：用户邮箱信息，正确配置邮箱信息，可以为后期邮件的发送和找回密码做铺垫。

是否启用：只有启用的用户才可以正常通过应用端登陆。

用户角色：用户选择所属部门后，可以选择

用户兼职角色：除可以选择当前用户所属部门的角色外，还可以勾选其它部门角色为当前用户的兼职角色。

**说明：workfine是通过给予相应用户的角色来给予用户的权限信息的。**

​![](https://dochelp.bn100.com/download/attachments/46497975/%E6%88%AA%E5%B1%8F2020-06-04%20%E4%B8%8A%E5%8D%8810.03.15.png?version=1&modificationDate=1667367663927&api=v2)​

### [7.3.6 搜索用户](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497977)

**备注：当在搜索栏中不输入任何信息点击刷新，将搜索到所有的用户信息。**

1、入口：组织用户→右上角搜索功能  
2、操作：进入【组织用户】菜单，在整体界面的右上角搜索栏中输入需要搜索的内容，Workfine平台还支持模糊搜索。

​![](https://dochelp.bn100.com/download/attachments/46497977/3%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7-3%E6%90%9C%E7%B4%A2%E7%94%A8%E6%88%B7.gif?version=1&modificationDate=1667367664080&api=v2)​

## [7.4 批量导入用户](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497979)

**用户批量导入说明：**

       本节将介绍通过批量导入的方式，进行用户的导入。导入的形式主要有两种：excel导入和CSV导入。不管是何种形式的导入，导入

过程都分为三个步骤：

1、下载导入模板(excel或者CSV)；

2、整理需要导入的数据；

3、上传整理好的组织信息文件。

      其中在整理导入数据信息时，导入信息需要满足以下规则：

a、用户的名称，登陆名，所属部门必填，登陆名必须唯一。  
b、用户的所属部门需与系统组织中的部门信息一致。  
c、用户角色需与系统中的角色信息一致。

### [7.4.1 excel导入用户](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497983)

**excel批量导入用户图解：**

1、点击【批量导入】按钮；

2、选择【excel导入】；

3、点击【下载模板】自动下载导入格式；

​![](https://dochelp.bn100.com/download/attachments/46497983/%E6%88%AA%E5%B1%8F2020-06-03%20%E4%B8%8B%E5%8D%884.55.46.png?version=1&modificationDate=1667367674093&api=v2)​

**下载批量导入模板后，需要整理相应的用户信息，在整理过程中，需要注意以下几点：**

**1、批量导入的部门名称，角色名称需要与系统中建立的部门名称，角色名称一致，如果角色名称前期没有确定可以不填**

**2、整理的用户姓名和登陆名不允许重复，如果有重复将会导致导入失败。**

​![](https://dochelp.bn100.com/download/attachments/46497983/%E5%AF%BC%E5%85%A5%E7%94%A8%E6%88%B7.png?version=1&modificationDate=1667367689833&api=v2)​

4、选择已经填写完成的模板；

5、点击【保存】按钮即可完成批量导入。

​![](https://dochelp.bn100.com/download/attachments/46497983/%E6%88%AA%E5%B1%8F2020-06-03%20%E4%B8%8B%E5%8D%884.23.37.png?version=1&modificationDate=1667367674077&api=v2)​

**gif演示：**

​![](https://dochelp.bn100.com/download/attachments/46497983/excel%E5%AF%BC%E5%85%A5%E7%94%A8%E6%88%B7.gif?version=1&modificationDate=1667367674117&api=v2)​

### [7.4.2 csv导入用户](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497990)

本章节讲一下如何使用csv导入用户：

csv导入和excel导入一样支持文件导入，也同样支持手动增加用户。本文以手动增加用户为例做详细讲解。文件导入教程请参照**[7.2.1excel导入](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497942)**。

图解：

1、点击【批量导入】按钮；

2、选择【csv】导入；

3、选择【默认分类】；

4、点击【+】按钮，手动添加用户信息；

5、手动输入【部门id】【部门名称】【名称】【登录密码】【移动电话】等信息；

6、点击【保存】按钮即可导入用户。

​![](https://dochelp.bn100.com/download/attachments/46497990/%E6%88%AA%E5%B1%8F2020-06-03%20%E4%B8%8B%E5%8D%881.21.43.png?version=1&modificationDate=1667367695563&api=v2)​

**gif图解：**

​![](https://dochelp.bn100.com/download/attachments/46497990/csv.gif?version=1&modificationDate=1667367689957&api=v2)​

## [7.5 数据同步](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497993)

	本节将主要讲解通过ldap，企业微信，或者钉钉自动同步组织和用户信息，通过同步组织用户信息，不仅能够实现组织用户信息与外源数据一致，还能够实现用户的单点登陆。

### [7.5.1 LDAP](https://dochelp.bn100.com/display/WD3/7.5.1LDAP)

图解：

1、将鼠标移动至左下方并点击【同步数据】按钮；

2、点击【LDAP】按钮；

​![](https://dochelp.bn100.com/download/attachments/46497994/%E6%88%AA%E5%B1%8F2020-06-04%20%E4%B8%8A%E5%8D%8810.51.19.png?version=1&modificationDate=1667367695763&api=v2)​

3、进入LDAP设置，输入【来源地址】【用户名】【密码】；

4、点击下一步按钮，进行其他项的设置；

​![](https://dochelp.bn100.com/download/attachments/46497994/%E6%88%AA%E5%B1%8F2020-06-04%20%E4%B8%8A%E5%8D%8811.11.35.png?version=1&modificationDate=1667367695783&api=v2)​

### [7.5.2 钉钉](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498000)

图解：

1、将鼠标光标移动至左下角并点击【同步数据】按钮；

2、点击【钉钉】；

​![](https://dochelp.bn100.com/download/attachments/46498000/%E6%88%AA%E5%B1%8F2020-06-04%20%E4%B8%8A%E5%8D%8811.27.44%202.png?version=1&modificationDate=1667367695920&api=v2)​

3、输入【corpid】【appkey】【agentid】【appsecret】；

4、点击【下一步】按钮继续设置同步信息；

​![](https://dochelp.bn100.com/download/attachments/46498000/%E6%88%AA%E5%B1%8F2020-06-04%20%E4%B8%8A%E5%8D%8811.28.57.png?version=1&modificationDate=1667367695900&api=v2)​

### [7.5.3 企业微信](https://dochelp.bn100.com/pages/viewpage.action?pageId=46497997)

图解：

1、将鼠标光标移动到左下角并点击【同步数据】按钮；

2、点击【企业微信】进行下一步设置；

​![](https://dochelp.bn100.com/download/attachments/46497997/%E6%88%AA%E5%B1%8F2020-06-04%20%E4%B8%8A%E5%8D%8811.27.44.png?version=1&modificationDate=1667367695850&api=v2)​

3、输入【corpid】【agenid】【corpSecret】；

4、点击【下一步】继续设置同步信息；

​![](https://dochelp.bn100.com/download/attachments/46497997/%E6%88%AA%E5%B1%8F2020-06-04%20%E4%B8%8A%E5%8D%8811.28.43.png?version=1&modificationDate=1667367695833&api=v2)​

# [八、角色权限](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498003)

本节内容：

角色与岗位有类似之处，不同的角色代表着不同的职责权限，通过给员工设置不同的角色，从而使不同的员工有了不同的权限，员工获得权限的过程如下：

1、建立组织架构关系，即一个企业有哪些组织组成(上章节内容)。

2、建立角色信息，角色还需要对应不同的组织，从而建立了角色部门的对应信息。下图中的第一部分，在建立角色，绑定部门的时候就建立了部门与角色的对应关系。

3、建立用户信息，建立用户的过程需要指定用户的所属部门，以及用户角色信息，建立过程中允许用户兼任其他部门的角色。

4、将业务的操作权限赋予给相应的角色。

5、根据第四步和第五步，系统内的每个用户就有了业务的相应权限；这样人员登入系统后，就根据他的角色来划分指定的权限。

**用户赋权逻辑导图**

​![](https://dochelp.bn100.com/download/attachments/46498003/%E7%94%A8%E6%88%B7%E8%B5%8B%E6%9D%83%E9%80%BB%E8%BE%91%E5%AF%BC%E5%9B%BE.png?version=1&modificationDate=1667367718530&api=v2)​

​![](https://dochelp.bn100.com/download/attachments/46498003/%E4%BA%A7%E5%93%81%E9%85%8D%E5%9B%BE2-%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90.png?version=1&modificationDate=1667367718550&api=v2)​

## [8.1 建立角色](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498010)

1、入口：角色权限→【新建】按钮  
2、操作：进入【角色权限】菜单，点击左侧右上角的“+”，在新增界面输入角色名称，选择角色所属的部门，保存即可。

Workfine支持同时勾选下级的功能。

​![](https://dochelp.bn100.com/download/attachments/46498010/2%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2.gif?version=1&modificationDate=1667367718780&api=v2)​

## [8.2 绑定用户](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498013)

1、入口：角色权限→【绑定用户】  
2、操作：进入【角色权限】菜单，选中角色，点击【绑定用户】按钮，勾选该角色对应的用户，点击右上角“+”可添加此角色的兼职用户，保存。

​![](https://dochelp.bn100.com/download/attachments/46498013/4%E9%80%9A%E8%BF%87%E6%A8%A1%E6%9D%BF%E8%B5%8B%E6%9D%83-1%E8%A7%92%E8%89%B2%E6%89%B9%E9%87%8F%E7%BB%91%E5%AE%9A%E7%94%A8%E6%88%B7.gif?version=1&modificationDate=1667367719893&api=v2)​

## [8.3 绑定模板(权限)](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498015)

在设计器的角色权限模块，我们可以将某一个角色部门批量绑定多个模板，并赋予相应的权限；这样可以快速的赋予某个角色的权限。

**当同一个角色，不同的部门权限相同时，也可以直接将某一个角色部门的权限批量的复制到其它的角色部门上，达到批量复制的目的。**

1、入口：角色权限→【绑定模板】  
2、操作：进入【角色权限】菜单，选中角色，点击【绑定模板】按钮，点击右上角“+”添加模板，选择该角色相关的模板。设置该角色对模板的相关权限，鼠标指向列头可进行批量操作。

​![](https://dochelp.bn100.com/download/attachments/46498015/4%E9%80%9A%E8%BF%87%E6%A8%A1%E6%9D%BF%E8%B5%8B%E6%9D%83-2%E8%A7%92%E8%89%B2%E6%89%B9%E9%87%8F%E7%BB%91%E5%AE%9A%E6%A8%A1%E6%9D%BF%E6%9D%83%E9%99%90.gif?version=1&modificationDate=1667367721220&api=v2)​

# [九、系统设置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713922)

## [9.1 替换系统logo图标](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713926)

workfine设计端提供系统图标的替换，替换后，在应用端可不显示任何与workfine和本牛信息相关的信息

注：1、logo的替换只限于应用端

        2、logo替换后，清除一下浏览器缓存再进行登录查看

​![](https://dochelp.bn100.com/download/attachments/41713926/image2022-6-10_17-0-31.png?version=1&modificationDate=1654851734977&api=v2)​

## [9.2 登录集成](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713930)

登录集成指可以通过集成实现第三方账户与workfine的单点登录

具体配置方式如下：

​![](https://dochelp.bn100.com/download/attachments/41713930/image2022-6-10_17-4-10.png?version=1&modificationDate=1654851865060&api=v2)​

## [9.3 定时任务](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713934)

定时任务指通过定时功能，定时的触发某些任务的执行，设置定时任务主要设置定时时机和任务。

1、定时时机可以设置天，周，月的循环或者单次

​![](https://dochelp.bn100.com/download/attachments/41713934/image2022-6-10_17-5-33.png?version=1&modificationDate=1654852113783&api=v2)​

2、任务可以设置定时数据回写，定时短信同时，定时的视图采集，以及定时的组织架构同步

​![](https://dochelp.bn100.com/download/attachments/41713934/image2022-6-10_17-5-59.png?version=1&modificationDate=1654852113753&api=v2)​

## [9.4 预警](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713939)

通过设置预警，能够让某些业务得到及时提醒

操作如下：

1、新增预警，确定预警的接收人，提醒内容，预警的触发间隔，以及预警的数据表

​![](https://dochelp.bn100.com/download/attachments/41713939/image2022-6-10_17-11-48.png?version=1&modificationDate=1654852796240&api=v2)​

2、设置预警的触发条件，有满足条件的数据，将会得到预警提醒

​![](https://dochelp.bn100.com/download/attachments/41713939/image2022-6-10_17-18-7.png?version=1&modificationDate=1654852796223&api=v2)​

3、设置预警字段，有满足条件的内容触发预警后，点击预警提醒，可以看到对应的信息

​![](https://dochelp.bn100.com/download/attachments/41713939/image2022-6-10_17-19-14.png?version=1&modificationDate=1654852796193&api=v2)​

## [9.5 开发者授权](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713942)

开发者授权指在设计端可以将模板的权限进行区分，实现各开发者即协同，又独立开发的模式。

默认开发者权限是关闭的，此时系统管理员角色和模板设计者权限的用户进入设计端能够操作系统内的所有模板，视图等数据

当开启开发者权限时，默认只有建立模板的开发者才能够操作自己的模板，其它开发者只能够看到整体结构，但无法操作和调用其他人的模板

此时，需要经过模板建立者授权后，才能够进行操作。

​![](https://dochelp.bn100.com/download/attachments/41713942/image2022-6-10_17-22-2.png?version=1&modificationDate=1654853216363&api=v2)​

## [9.6 安全策略](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713945)

安全策略是指应用端用户在登录时，对密码的复杂度要求，默认是关闭状态，当启用后，可设置对应的安全策略

​![](https://dochelp.bn100.com/download/attachments/41713945/image2022-6-10_17-27-48.png?version=1&modificationDate=1654853308840&api=v2)​

## [9.7 系统日志](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713948)

系统日志反映整个软件应用过程中的运行情况，当在设计或者应用过程中出现问题时，可通过系统日志来追查问题

当出现系统性的问题时，服务人员会要求使用者下载一份系统日志出来，可通过一下方式下载系统日志，然后交给技术人员分析问题

​![](https://dochelp.bn100.com/download/attachments/41713948/image2022-6-10_17-29-3.png?version=1&modificationDate=1654853423727&api=v2)​

## [9.8 在线用户](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713953)

​![](https://dochelp.bn100.com/download/attachments/41713953/image2022-6-10_17-31-24.png?version=1&modificationDate=1654853808103&api=v2)​

# [十、高级安装部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543336)

本章讲述workfine开发环境部署，主要内容如下

## [10.1 私有化部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543496)

本章节主要指将workfine产品部署到企业内部的服务器或者自主购买的云服务器上。以完成workfine在本地服务器上的运行目的，从而达到更好的安全性要求。

服务器要求配置参考,安装前请先准备相应的服务器资源。

如果使购买云服务器，请操作购买云服务器的章节，事先购买好对应的服务器。

​![](https://dochelp.bn100.com/download/attachments/24543496/image2021-5-24_11-29-58.png?version=1&modificationDate=1621826998767&api=v2)​

**3点核心内容：**

* Workfine 安装完以后，服务能够正常启动运行；
* Workfine 安装完以后，能正常连接并访问所配置的数据库；
* Workfine 安装完以后，网络端口要对外开放，以便公司内部网络客户端能正常访问；

1、Workfine服务器硬件要求：

* 服务器硬盘**空间充足。**
* 支持**64位CPU**处理器。
* 服务器**内存4GB以上。**

2、Workfine支持的操作系统：

* **Windows：**Windows 7/8/10/2012/2016/2019/2020 。
* **Linux：**Redhad Linux 7/8、Centos 7/8。
* **IOS：**苹果操作系统。

### [10.1.1 Windows 部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543681)

* 我们以 Windows 10 企业版为例，讲述一键安装过程：（一键安装，是指同时安装好Workfine开发平台+微软的 MS SQL Express 2014 基础版）
* Workfine 支持 Win7及以上的64位版本，也支持 Windows 2008R2及以上的64位版本。从Workfine4.0开始，我们也对Win11的arm版本进行了兼容处理，用户可以在使用了arm处理器的Win11中进行安装体验。
* 本节我们主要讲述在 Windows 平台下面一键快速安装部署，如果你是刚刚接触 Workfine ，建议认真看完本节内容。

**前期准备工作：**

* **Workfine 基于BS架构，支持谷歌，火狐，360,等主流浏览器，其中谷歌浏览器兼容性最出色。**
* **安装前请先关闭杀毒软件,如关闭360杀毒软件和360安全卫士。**

以安装 Windows 10 企业版为例，其它系统如：Window 7/8/2012/2016/2019/2020 安装方法类同。

1、在Workfine官网中下载Windows版本的安装包（[https://www.bn100.com/a/download/](https://www.bn100.com/a/download/)）

​![](https://dochelp.bn100.com/download/thumbnails/24543681/worddava5ced0c2c1b30239342a4635c00cf349.png?version=1&modificationDate=1654844195833&api=v2)​

2、下载完毕后双击打开安装包

​![](https://dochelp.bn100.com/download/attachments/24543681/worddave8e17949b986a47aab1ce2f09cbc76ea.png?version=1&modificationDate=1654844195847&api=v2)​

3、如系统弹出安全控制，请点击是

​![](https://dochelp.bn100.com/download/attachments/24543681/worddavb9d08d1ecd599d2af399b91e04f545b6.png?version=1&modificationDate=1654844195863&api=v2)​

4、建议阅读许可协议，选择同意并点击下一步

​![](https://dochelp.bn100.com/download/attachments/24543681/worddav37c69fbd1017550324cb55d7378c798d.png?version=1&modificationDate=1654844195897&api=v2)​

5、查看选择Workfine安装目录，点击下一步

​![](https://dochelp.bn100.com/download/attachments/24543681/worddav93535b572a4206560e1d70f0209450ea.png?version=1&modificationDate=1654844195910&api=v2)​

6、初次安装时建议保持全选不变，点击下一步

​![](https://dochelp.bn100.com/download/attachments/24543681/worddavab84767f885161e8bd2a99823eaa5f19.png?version=1&modificationDate=1654844195943&api=v2)​

7、设置Workfine在开始菜单中的分类名称，点击下一步

​![](https://dochelp.bn100.com/download/attachments/24543681/worddav46d3a1533274d4452f37a57faad75e1d.png?version=1&modificationDate=1654844195957&api=v2)​

8、确定是否需要在桌面创建快捷方式，点击下一步

​![](https://dochelp.bn100.com/download/attachments/24543681/worddav40e6bf92c3daa710cbd7e794cfd3a5c6.png?version=1&modificationDate=1654844195973&api=v2)​

9、点击安装开始进入安装流程

​![](https://dochelp.bn100.com/download/attachments/24543681/worddavdc758c4bd4a9d5266e446466e8e84a48.png?version=1&modificationDate=1654844195990&api=v2)​

10、等待安装完成

​![](https://dochelp.bn100.com/download/attachments/24543681/worddav3e640463bf141942e0ef238fc4121793.png?version=1&modificationDate=1654844196007&api=v2)​

11、点击完成结束安装

​![](https://dochelp.bn100.com/download/attachments/24543681/worddavcf5293e8d2c4305531f6297a471d6376.png?version=1&modificationDate=1654844196020&api=v2)​

12、访问Workfine

在本机浏览器中输入以下网址即可分别访问需要的位置

|端点|地址|
| --------| ------|
|应用端|[http://localhost:5000](http://localhost:5000/)|
|设计端|[http://localhost:5000/designer](http://localhost:5000/designer)|
|移动端|[http://localhost:5000/app](http://localhost:5000/app)|
|控制台|[http://localhost:5000/admin](http://localhost:5000/admin)|

#### [登录与admin账户](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543844)

**一、**Workfine是基于BS架构，推荐采用谷歌浏览器，在系统登录之前，务必要先下载并安装好谷歌浏览器。

* **默认系统账户：admin    密码：无，不需要填写**
* **默认系统账套：Workfine System**

二、Workfine安装结束以后，在桌面上会出现2个快捷图标，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543844/image2021-5-3_1-9-13.png?version=1&modificationDate=1619975353423&api=v2)​

* Workfine设计器：就是说，我们要设计的管理系统，必须要用设计器来开发，这个就是Workfine无代码开发平台的入口；
* Workfine应用：就是说，用设计器开发好了管理系统后，必须从这里来进行应用系统的访问。

二、双击Workfine设计器，浏览器的网址指向为：[http://localhost:5000/designer/index.html#/login](http://localhost:5000/designer/index.html#/login) ，显示界面如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543844/image2021-5-3_1-22-40.png?version=1&modificationDate=1619976160397&api=v2)​

**三、双击Workfine设计器，浏览器的网址指向为：**​**[http://localhost:5000/index.html#/login?redirect=%2Fdashboard](http://localhost:5000/index.html#/login?redirect=%2Fdashboard)**​**​ ，显示界面如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24543844/image2021-5-3_1-26-50.png?version=1&modificationDate=1619976410427&api=v2)​

#### [系统常见故障](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543842)

##### [非64位的操作系统](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543902)

1、Windwos必须是64位操作系统，若为32位，在双击运行安装包的时候，会有以下错误提示，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543902/image2021-5-3_13-52-20.png?version=1&modificationDate=1620021139473&api=v2)​

2、解决办法：重新安装64位的 Windows 操作系统；

##### [服务没有正常启动](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543888)

在 Win10 下一键安装成功后，双击运行 Workfine设计器，有时候会出现以下提示：

​![](https://dochelp.bn100.com/download/attachments/24543888/image2021-5-3_2-2-10.png?version=1&modificationDate=1619979320563&api=v2)​

这时候，我们需要将Win10 【**Workfine Windows Service**】这个服务重新启动一次。

**操作步骤如下：**

1、同时按住键盘上面的 Win+R 键，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543888/image2021-5-3_1-50-50.png?version=1&modificationDate=1619979320583&api=v2)​

2、在运行窗口中输入 Services.msc ，并单击【确定】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543888/image2021-5-3_1-51-24.png?version=1&modificationDate=1619979320603&api=v2)​

3、在服务列表中找到【 Workfine Windows Serive】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543888/image2021-5-3_1-57-27.png?version=1&modificationDate=1619979320623&api=v2)​

4、鼠标右键，选择【启动】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543888/image2021-5-3_1-57-0.png?version=1&modificationDate=1619979320643&api=v2)​

5、服务启动后，会看到【 Workfine Windows Serive】的状态为【正在运行】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543888/image2021-5-3_1-58-49.png?version=1&modificationDate=1619979320660&api=v2)​

6、回到桌面，双击运行 Workfine 设计器测试，登录界面正常显示。

7、如果以上操作后还出现同样的错误提示，同样找到 Workfine Windows Serive】服务，右键选择【重新启动】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543888/image2021-5-3_2-9-43.png?version=1&modificationDate=1619979320670&api=v2)​

8、通过以上操作后，仍然不能正常访问，请与我们联系：

* [0510-83220399](tel:0510-83220399)
* [工作日: 9:00-11:00, 13:00-17:00](mailto:business@bossietech.com)

#### [Workfine 版本升级](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543910)

* Workfine 升级安装。一方面，是为了解决平台里面的bug问题；另一方面，是新版本中增加了许多新的功能；
* 升级前，需要进行数据备份操作，防止升级过程中对原数据库进行破坏而无法恢复；
* 升级时，直接运行新版本的安装包文件即可；

##### [升级准备](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543931)

升级前，一定要做好相关安全准备工作，主要是包含2项内容：

* 停止服务
* 备份数据

**详细操作步骤如下：**

一、打开 Workfine 的安装路径，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543931/image2021-5-3_14-9-0.png?version=1&modificationDate=1620023483670&api=v2)​

**其中：**

**【blob】文件夹**，是用于保存上传的 Office 文档、图片、PDF、压缩文件以及其它文件；

**【data】文件夹**，是用于保存基于MS SQL Express 基础版本的账套数据库文件；

**二、升级前准备工作：需要做好2件事情：**

**1、停止【Workfine Windows Service】服务。**

同时按住键盘上面的 Win+R 键，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543931/image2021-5-3_1-50-50.png?version=1&modificationDate=1620023483687&api=v2)​

在运行窗口中输入 Services.msc ，并单击【确定】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543931/image2021-5-3_1-51-24.png?version=1&modificationDate=1620023483697&api=v2)​

在服务列表中找到【 Workfine Windows Serive】，**鼠标右键，将服务停止。如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24543931/image2021-5-3_14-29-42.png?version=1&modificationDate=1620023483780&api=v2)​

**2、将 blob 和 data 文件夹进行备份。**

备份方法：可将blob和data文件夹复制到计算机另外的磁盘或是目录路径中。

若复制过程中出现提示信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543931/image2021-5-3_14-23-44.png?version=1&modificationDate=1620023483797&api=v2)​

请回到上面找到【Workfine Windows Service 】服务，将服务先停掉，再进行进行复制和粘贴操作。

复制备份成功以后，请将【Workfine Windows Service 】再启动一次，恢复正常运行。

##### [升级安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543941)

我们已经安装了 Workfine 3.3.0 在 Windows 10 企业版中，现在以安装新版本 3.4.0 为例，操作步骤如下：

一、通过加入官方QQ群，QQ群号是：772383629。

二、进入QQ群，找到文件，并下载最新版本 3.4.0，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-50-21.png?version=1&modificationDate=1620024621013&api=v2)​

三、下载 3.4.0 版本后，双击运行，单击【我授权协议】，再单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-51-40.png?version=1&modificationDate=1620024699847&api=v2)​

四、显示安装组件，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-52-46.png?version=1&modificationDate=1620024766110&api=v2)​

五、提示是否需要创建桌面快捷方式，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-53-18.png?version=1&modificationDate=1620024797250&api=v2)​

六、提示准备完毕，单击【安装】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-53-54.png?version=1&modificationDate=1620024833520&api=v2)​

七、安装包会检查之前是否有安装过Workfine，出现以下界面，可能需要很长时间，请耐心等待，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-55-0.png?version=1&modificationDate=1620024899617&api=v2)​

八、当出现安装进度的时候，请耐心等待至安装完毕，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-56-0.png?version=1&modificationDate=1620024959183&api=v2)​

九、当新版本安装完成以后，会显示安装结束的提示，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_14-56-50.png?version=1&modificationDate=1620025010070&api=v2)​

十、单击【结束】，新版本升级完成。

十一、登录Workfine设计器，查看最新版本信息：

找到顶部【系统设置】菜单，再单击左侧【版本信息】，出现如下图所示界面：

​![](https://dochelp.bn100.com/download/attachments/24543941/image2021-5-3_15-5-36.png?version=1&modificationDate=1620025535447&api=v2)3.

看到升级的最新版本为： 3.4.0

十二、升级完成以后，还要测试一下 Workfine 应用 ，看看原来设计的表单Excel公式、提取公式和回写公式是否能够正常运行。若报错，请与我们及时联系。

### [10.1.2 CentOS部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713821)

Workfine 2.3.8及后续版本支持在CentOS7和CentOS8中安装，本文以CentOS7终端模式为例，介绍CentOS下Workfine的安装过程。

1、依赖软件包  
在CentOS中安装时，Workfine默认会自动获取依赖的软件包。如服务器无法联网或默认源缺少指定依赖，则需要用户提前手动下载并使用yum安装

Workfine需要的依赖项如下

* lttng-ust
* libcurl
* openssl-libs
* krb5-libs
* libicu
* zlib

*相关说明请参考[在 CentOS 上安装 .NET - .NET | Microsoft Docs](https://docs.microsoft.com/zh-cn/dotnet/core/install/linux-centos)  
*可以使用诸如阿里云镜像，腾讯云镜像，网易云镜像等，来提高软件包的下载速度。

2、获取Workfine安装包

登录Workfine官网（[https://www.bn100.com/a/download/](https://www.bn100.com/a/download/)），根据CentOS的版本选择下载链接（可通过“cat /etc/redhat-release”获取当前大版本）

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_11-0-7.png?version=1&modificationDate=1654844404560&api=v2)​

3、安装Workfine软件包  
3.1、将安装包发送到CentOS的文件系统中，如/home，使用命令定位到安装包所在文件夹

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_11-18-53.png?version=1&modificationDate=1654844404607&api=v2)​

3.2、运行sudo yum -y localinstall Workfine-centos-7-installer-latest.rpm开始安装进程

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_11-21-27.png?version=1&modificationDate=1654844404637&api=v2)​

3.3、如果安装过程中依旧提示缺少依赖，可以参照第2步手动解决依赖的问题或执行sudo rpm -Uvh --force --nodeps Workfine-centos-7-installer-latest.rpm进行强制安装

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_13-22-18.png?version=1&modificationDate=1654844404653&api=v2)​

3.4、安装完毕后，Workfine默认在/opt/workfine目录下

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_13-25-11.png?version=1&modificationDate=1654844404683&api=v2)  
各个目录用处如下  
blob/                     存储图片附件内容  
config/                  配置文件  
scripts/                  脚本文件  
server/                   Workfine服务应用  
workfine.service   Workfine服务配置文件

4、控制Workfine  
查看服务  systemctl status workfine

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_13-27-33.png?version=1&modificationDate=1654844404700&api=v2)  
启动服务  sudo systemctl start   workfine  
停止服务  sudo systemctl stop   workfine  
重启服务  sudo systemctl restart   workfine  
5、添加控制台访问权限

默认情况下Workfine控制台仅支持本机通过http://localhost/admin进行访问，centos终端模式下没有GUI，无法使用浏览器进行登录管理操作。我们需要将可操作控制台的电脑IP添加到白名单中

5.1进入Workfine安装目录(/opt/workfine)，在server目录下找到appsettings.json文件

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_13-29-6.png?version=1&modificationDate=1654844404717&api=v2)​

5.2使用“vim appsettings.json”命令打开appsettings.json文件

5.3在配置文件中添加“SafeIpList”属性，内容为需要操作控制台的电脑ip，如果有多台，通过分号(;)进行连接

​![](https://dochelp.bn100.com/download/attachments/41713821/image2022-6-10_13-48-38.png?version=1&modificationDate=1654844404730&api=v2)​

*特别注意截图中的逗号，不能缺失

5.4保存后重启Workfine服务即可通过http://服务器IP:5000/admin访问控制台，默认用户名和密码均为admin

6、打开防火墙端口

Workfine安装时会打开CentOS默认防火墙的5000端口，如果本地安装了新防火墙，请使用命令打开5000端口的访问权限  

7、访问Workfine

在内网电脑浏览器中输入http://服务器IP:5000/即可打开Workfine应用端登录页进行访问

### [10.1.3 Ubuntu部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713877)

Workfine 2.3.8及后续版本支持在Ubuntu中安装，最低支持Ubuntu 16.04。本文以Ubuntu18为例，介绍Ubuntu下Workfine的安装过程。

1、依赖软件包  
在正式安装前，需要确认依赖是否已经安装，若缺少，可通过apt-get进行安装

Workfine需要的依赖项如下

* liblttng-ust0
* libcurl3 (for 14.x and 16.x)
* libcurl4 (for 18.x)
* libssl1.0.0
* libkrb5-3
* zlib1g
* libicu52 (for 14.x)
* libicu55 (for 16.x)
* libicu57 (for 17.x)
* libicu60 (for 18.x)

*相关说明请参考[在 Ubuntu 上安装 .NET - .NET | Microsoft Docs](https://docs.microsoft.com/zh-cn/dotnet/core/install/linux-ubuntu)  
*可以使用诸如阿里云镜像，腾讯云镜像，网易云镜像等，来提高软件包的下载速度。

2、获取Workfine安装包

登录Workfine官网（[https://www.bn100.com/a/download/](https://www.bn100.com/a/download/)），选择Linux下载通用安装包

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-11-54.png?version=1&modificationDate=1654847568260&api=v2)​

3、安装Workfine软件包  
3.1、将安装包发送到Ubuntu的文件系统中，如/opt，使用命令定位到安装包所在文件夹

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-18-24.png?version=1&modificationDate=1654847568277&api=v2)​

3.2、运行tar -xzvf Workfine-linux-installer-latest.tar.gz，将Workfine解压到当前目录下

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-20-9.png?version=1&modificationDate=1654847568293&api=v2)​

3.3、使用cd workfine进入刚才解压的文件夹，其中各个目录用处如下  
blob/                     存储图片附件内容  
config/                  配置文件  
scripts/                  脚本文件  
server/                   Workfine服务应用  
workfine.service   Workfine服务配置文件

3.4、使用cd scripts进入脚本文件所在文件夹中

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-21-39.png?version=1&modificationDate=1654847568307&api=v2)​

3.5、运行sudo ./setup_service.sh，安装Workfine系统服务

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-24-48.png?version=1&modificationDate=1654847568323&api=v2)​

3.6、安装完毕后，运行sudo systemctl start workfine启动Workfine服务，并通过systemctl status workfine查看启动结果

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-29-46.png?version=1&modificationDate=1654847568340&api=v2)  
4、控制Workfine  
查看服务  systemctl status workfine

启动服务  sudo systemctl start   workfine

停止服务  sudo systemctl stop   workfine

重启服务  sudo systemctl restart   workfine

5、添加控制台访问权限

默认情况下Workfine控制台仅支持本机通过http://localhost/admin进行访问，centos终端模式下没有GUI，无法使用浏览器进行登录管理操作。我们需要将可操作控制台的电脑IP添加到白名单中

5.1进入Workfine安装目录，在server目录下找到appsettings.json文件

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-31-13.png?version=1&modificationDate=1654847568357&api=v2)​

5.2使用“sudo vim appsettings.json”命令打开appsettings.json文件

5.3在配置文件中添加“SafeIpList”属性，内容为需要操作控制台的电脑ip，如果有多台，通过分号(;)进行连接

​![](https://dochelp.bn100.com/download/attachments/41713877/image2022-6-10_14-32-5.png?version=1&modificationDate=1654847568370&api=v2)​

*特别注意截图中的逗号，不能缺失

5.4保存后重启Workfine服务即可通过http://服务器IP:5000/admin访问控制台，默认用户名和密码均为admin

6、打开防火墙端口

Ubuntu默认ufw或其他防火墙如果打开了，请使用相关命令打开5000端口的访问权限  

7、访问Workfine

在内网电脑浏览器中输入http://服务器IP:5000/即可打开Workfine应用端登录页进行访问

### [10.1.4 macOS部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713889)

Workfine 2.3.8及后续版本支持在macOS中安装，最低支持10.13 High Sierra。兼容rosetta2，M1系列及以上处理器的mac可以直接安装使用。本文以支持ARM架构的12.4 Monterey为例，介绍macOS下Workfine的安装过程。

1、获取Workfine安装包

登录Workfine官网（[https://www.bn100.com/a/download/](https://www.bn100.com/a/download/)），在Mac分类里下载安装包

​![](https://dochelp.bn100.com/download/thumbnails/41713889/image2022-6-10_14-37-33.png?version=1&modificationDate=1654847592667&api=v2)​

2、双击安装包开始安装

​![](https://dochelp.bn100.com/download/thumbnails/41713889/image2022-6-10_14-42-59.png?version=1&modificationDate=1654847592713&api=v2)​

3、如果有身份不明的开发者提示，请按图2顺序进行操作，重新打开

​![](https://dochelp.bn100.com/download/thumbnails/41713889/image2022-6-10_14-43-18.png?version=1&modificationDate=1654847592697&api=v2)![](https://dochelp.bn100.com/download/attachments/41713889/image2022-6-10_14-47-37.png?version=1&modificationDate=1654847592760&api=v2)​

4、点击继续，开始安装

​![](https://dochelp.bn100.com/download/attachments/41713889/image2022-6-10_14-48-3.png?version=1&modificationDate=1654847592747&api=v2)​

5、确认许可协议，点击继续

​![](https://dochelp.bn100.com/download/attachments/41713889/image2022-6-10_14-48-20.png?version=1&modificationDate=1654847592793&api=v2)​

6、确认安装位置，不建议修改默认位置，点击安装。中途可能出现权限验证窗口，使用指纹或密码完成

​![](https://dochelp.bn100.com/download/attachments/41713889/image2022-6-10_14-48-56.png?version=1&modificationDate=1654847592777&api=v2)​

7、等待安装完成

​![](https://dochelp.bn100.com/download/attachments/41713889/image2022-6-10_14-49-36.png?version=1&modificationDate=1654847592807&api=v2)​

8、点击关闭退出

​![](https://dochelp.bn100.com/download/attachments/41713889/image2022-6-10_14-50-18.png?version=1&modificationDate=1654847592807&api=v2)​

9、访问Workfine

在本机浏览器中输入以下网址即可分别访问需要的位置

|端点|地址|
| --------| ------|
|应用端|[http://localhost:5000](http://localhost:5000)|
|设计端|[http://localhost:5000/designer](http://localhost:5000/designer)|
|移动端|[http://localhost:5000/app](http://localhost:5000/app)<br />|
|控制台|[http://localhost:5000/admin](http://localhost:5000/admin)|

## [10.2 系统部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543684)

比如：有些公司开发绝对保密的系统，只希望搭建在内部局域网中来使用（且局域网不得上外网）；

**比如：有些公司采用更安全的 https 协议来搭建 Workfine 系统；**

比如：有些公司已经有了独立的数据库（MSSQL、MySQL、Oracle等等），可以集成到Workfine平台。

**本章讲述 Workfine 部署过程中的一些操作要点，主要内容如下：**

* [1.3.2.1 云服务器部署](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543720&src=contextnavpagetreemode)
* [1.3.2.2 局域网部署](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543722&src=contextnavpagetreemode)
* [1.3.2.3 广域网部署](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543724&src=contextnavpagetreemode)
* [1.3.2.4 花生壳内网穿透](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543726&src=contextnavpagetreemode)
* [1.3.2.5 IIS部署](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543728&src=contextnavpagetreemode)
* [1.3.2.6 https部署](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543730&src=contextnavpagetreemode)
* [1.3.2.7 分离部署](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544475&src=contextnavpagetreemode)

### [10.2.1 云服务器部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543720)

**云服务器**（Elastic Compute Service, **ECS**）是一种简单高效、安全可靠、处理能力可弹性伸缩的计算服务。

比如我们要配置一台服务器，CPU是什么型号？内存多大？硬盘多大？需要多大的带宽？在云平台上直接选择配置就可以了。而不需要关心这些硬件在哪里，是如何搭建的。

像华为、阿里、腾讯公司等知名公司，都有自己多个异地同步数据中心，安装了成千上万台的服务器，通过虚拟化技术，可以快速定制化服务器，直接配置就可以使用。

一方面是可以快速搭建服务器，另一方面是24小时安全、稳定、可靠运行。

**本章节内容如下：**

* [云服务器购买](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544538&src=contextnavpagetreemode)
* [云服务器安装](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544540&src=contextnavpagetreemode)

#### [云服务器购买](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544538)

**国内著名云服务供应商：**

华为云官网：[https://activity.huaweicloud.com/](https://activity.huaweicloud.com/)

阿里云官网：[https://www.aliyun.com/](https://www.aliyun.com/)

腾迅云官网：[https://cloud.tencent.com/](https://cloud.tencent.com/)

**Workfine 云服务器推荐配置：**

​![](https://dochelp.bn100.com/download/attachments/24544538/image2021-5-11_8-41-12.png?version=1&modificationDate=1620701579590&api=v2)​

**备注：**

* 推荐配置主要参考对应并发可能面对的业务规模，用户可以视自身实际情况进行增减。
* 如果需要进行大量数据查询，建议配置更高的内存用于数据库自动建立调整缓存。
* 硬盘容量视具体业务规模，如需存储大量数据，则建议参考最高标准。推荐的硬盘空间不包含备份所占用空间。

**切记：**

* 保管好云平台登录账号和密码；
* 保管好云服务器的公网IP地址；
* 保管好云服务器操作系统账号 Administraor 和密码；

##### [阿里云](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544557)

1、打开阿里云官网：[https://www.aliyun.com/](https://www.aliyun.com/)，点击右上角【立即注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_1-45-19.png?version=1&modificationDate=1620755117700&api=v2)​

2、设置会员名，输入手机号并获取验证码，设置登录密码（两次输入要相同），单击【同意并注册】，打勾【《阿里....条款】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_1-47-30.png?version=1&modificationDate=1620755249410&api=v2)​

3、输入自己刚刚注册的账号和密码，单击【登录】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_1-53-26.png?version=1&modificationDate=1620755604950&api=v2)​

4、提示账号要绑定电子邮箱，单击【立即绑定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_1-54-53.png?version=1&modificationDate=1620755692297&api=v2)​

5、验证身份，选择通过手机验证码，单击【立即验证】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_1-55-58.png?version=1&modificationDate=1620755757277&api=v2)​

6、输入手机验证码后，单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_1-56-58.png?version=1&modificationDate=1620755816880&api=v2)​

7、输入绑定的邮箱，然后单击【免费获取校验码】，需要打开邮箱，把验证码填写下图的编辑框中，再单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_1-58-11.png?version=1&modificationDate=1620755890553&api=v2)​

8、提示修改安全邮箱成功，即绑定邮箱成功，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_2-0-46.png?version=1&modificationDate=1620756045547&api=v2)​

9、返回登录界面，用刚刚注册的账号和秘密登录，选择右上角的【控制台】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_2-4-50.png?version=1&modificationDate=1620756289370&api=v2)​

10、在右上角，单击三个横线菜单，再选择【云服务器 ECS】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_2-6-0.png?version=1&modificationDate=1620756359353&api=v2)​

11、单击【创建我的ECS】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-25-7.png?version=1&modificationDate=1620779106247&api=v2)​

12、选择【自定义购买】，下面的【付费模式】、【地域及可用区】采用默认值，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-27-43.png?version=1&modificationDate=1620779261950&api=v2)​

13、可以根据【分类选型】来选择通用型的配置规格，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-30-25.png?version=1&modificationDate=1620779424057&api=v2)​

14、也可以选择【场景化选型】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-31-29.png?version=1&modificationDate=1620779488910&api=v2)​

15、然后配置镜像系统、存储配置，以及【增加一块数据盘】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-33-28.png?version=1&modificationDate=1620779607080&api=v2)​

16、单击【增加一块数据盘】，可以选择不同等级的云盘，IOPS指每秒能处理的I/O个数，表示块存储处理读写（输出/输入）的能力，单位为次。

高效云2120 IOPS，ESSD云盘380 IOPS、SSD云盘300 IPOS ,根据业务和想要达到的性能来配置，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-39-27.png?version=1&modificationDate=1620779966307&api=v2)​

17、选择购买时长，并单击【下一步：网络和安全组】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-43-58.png?version=1&modificationDate=1620780237497&api=v2)![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-44-28.png?version=1&modificationDate=1620780267820&api=v2)​

18、接下来是提示进行实名认证，如果已完成，单击【继续购买】如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-45-49.png?version=1&modificationDate=1620780348627&api=v2)​

19、根据不同的认证类型来选择，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-48-25.png?version=1&modificationDate=1620780504237&api=v2)​

20、个人实名认证如下：推荐选择用【个人支付宝授权认证】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-50-18.png?version=1&modificationDate=1620780617427&api=v2)​

21、单击【同意...用于身份认证】，并单击【提交】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-52-16.png?version=1&modificationDate=1620780735333&api=v2)​

22、手机支付宝扫二维码，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-53-43.png?version=1&modificationDate=1620780822817&api=v2)​

23、手机上确定通过后，填写下面的信息后，单击【确认】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-56-27.png?version=1&modificationDate=1620780986893&api=v2)​

24、个人实名认证成功，会显示如下信息，如下图所示：

        备注：企业或其它认证，根据提示操作即可。

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-57-50.png?version=1&modificationDate=1620781069300&api=v2)​

25、认证成功以后，回到上面第17步，单击【下一步，网络和安全组】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-43-58.png?version=1&modificationDate=1620780237497&api=v2)![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_8-44-28.png?version=1&modificationDate=1620780267820&api=v2)​

26、选择分配公网、带宽值和安全组端口，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_9-4-7.png?version=1&modificationDate=1620781446903&api=v2)​

27、全部确认以后，单击【确认订单】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_9-6-28.png?version=1&modificationDate=1620781587083&api=v2)​

28、选择同意ECS服务条款，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_9-8-21.png?version=1&modificationDate=1620781701953&api=v2)​

29、确认不需要更改了，单击【确认下单】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_9-9-26.png?version=1&modificationDate=1620781765867&api=v2)​

30、通过支付宝购买即可，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544557/image2021-5-12_9-11-57.png?version=1&modificationDate=1620781915960&api=v2)​

31、到此，云服务器配置与购买成功！相关云服务器平台的其它操作，可直接联系官方客服经理。

**备注：**

* 牢记阿里云后台的管理账号和密码；
* 牢记云服务器这台电脑的固定IP地址；
* 牢记云服务器操作系统的用户名和密码。

##### [华为云](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544555)

1、打开华为云官网：[https://activity.huaweicloud.com/](https://activity.huaweicloud.com/)，点击右上角【注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_8-50-8.png?version=1&modificationDate=1620694207800&api=v2)​

2、输入自己手机号，并获取验证码，然后设置好登录密码（两次输入要相同），单击【注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_8-54-4.png?version=1&modificationDate=1620694443980&api=v2)​

3、输入自己刚刚注册的手机号和密码，单击【登录】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_8-56-28.png?version=1&modificationDate=1620694587310&api=v2)​

4、单击菜单【弹性云服务器 ECS】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-29-40.png?version=1&modificationDate=1620696580217&api=v2)​

5、单击右上角【购买弹性云服务器】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-31-1.png?version=1&modificationDate=1620696661190&api=v2)​

6、计费模式、区域、可用区可以选择，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-32-16.png?version=1&modificationDate=1620696735787&api=v2)​

7、CPU架构，选择【X86计算】，可以根据自己的业务来选择CPU系列，通常是选择【通用计算机增强型】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-35-59.png?version=1&modificationDate=1620696958710&api=v2)​

8、镜像是指云服务器为我们安装的操作系统，可以选择公共镜像【windows】操作系统，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-37-59.png?version=1&modificationDate=1620697078817&api=v2)​

9、在右侧，可以选择自己想要的操作系统的版本，推荐【Windows  Server 2019 数据中心睡到64位简体中文】，如下图所示 ：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-38-49.png?version=1&modificationDate=1620697129000&api=v2)​

10、可以单击【增加一块数据盘】，来做为日后 Workfine  的数据存储盘，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-40-12.png?version=1&modificationDate=1620697212277&api=v2)​

11、可以在编辑框中输入自己想要的数据盘空间大小 ，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-40-48.png?version=1&modificationDate=1620697247780&api=v2)​

12、确认好以后，单击右下角【下一步：网络配置】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-41-42.png?version=1&modificationDate=1620697301803&api=v2)​

13、网络和安全组选项，选择默认值即可，如下图所示 ：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-43-5.png?version=1&modificationDate=1620697384390&api=v2)​

14、弹性公网IP，选择【现在购买】，可以为服务器配置这个公网IP地址，带宽大小，可以根据并发数来调整，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-44-38.png?version=1&modificationDate=1620697477687&api=v2)​

15、以上信息确认好以后，单击右下角【下一步：高级配置】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-45-38.png?version=1&modificationDate=1620697537357&api=v2)​

16、要为登录的云服务器设置管理员 Administrator 的密码，请注意设置的秘密规则要符合要求，云备份，按业务需求可以暂不购买。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-52-53.png?version=1&modificationDate=1620697972927&api=v2)​

17、以上信息设置好以后，单击右下角【下一步，确认配置】，会提示先进行实名认证，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-53-51.png?version=1&modificationDate=1620698031047&api=v2)​

18、配置好购买3年（根据自己需要来购买时长）云服务器，并单击【我已经阅读并同意】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-54-57.png?version=1&modificationDate=1620698096827&api=v2)​

19、单击右下角【立即购买】，如果手机未认证，则会显示以下信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-55-39.png?version=1&modificationDate=1620698138337&api=v2)​

20、选择扫码认证，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-56-34.png?version=1&modificationDate=1620698193873&api=v2)​

21、打开手机微信，扫一扫下面的二维码，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_9-57-29.png?version=1&modificationDate=1620698248517&api=v2)​

22、手机端下载华为云APP，安装好以后，用华为云APP来扫一扫上面的二维码，进行实名认证。如下图认证成功的截图：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_14-44-48.png?version=1&modificationDate=1620715487493&api=v2)​

在PC网页端，显示的实名认证信息如下：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_14-47-43.png?version=1&modificationDate=1620715663287&api=v2)​

23、实名认证成功以后，回到第18步，生成云服务订单，单击【去在线支付】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_14-50-25.png?version=1&modificationDate=1620715825150&api=v2)​

24、这里可以选择通过支付宝或是微信进行支付，单击【确认支付】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_14-52-12.png?version=1&modificationDate=1620715932107&api=v2)​

25、打开支付宝或是微信，支付订单金额后，然后单击【已完成支付】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_14-53-27.png?version=1&modificationDate=1620716007077&api=v2)​

26、登录华为云官网后，从网页右下角单击【控制台】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_15-32-16.png?version=1&modificationDate=1620718335810&api=v2)​

27、在【关注资源】选项中带数字的，表示已经购买的资源数，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_15-34-29.png?version=1&modificationDate=1620718468513&api=v2)​

28、单击已经购买的【云耀服务器 HECS 1】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_15-37-16.png?version=1&modificationDate=1620718635420&api=v2)​

29、可以看到购买的云服务器相关配置信息：IP地址、可以重置系统密码，和其它相关操作，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544555/image2021-5-11_15-45-55.png?version=1&modificationDate=1620719154390&api=v2)​

30、到此，云服务器配置与购买成功！相关云服务器平台的其它操作，可直接联系官方客服经理。

**备注：**

* 牢记华为云后台的管理账号和密码；
* 牢记云服务器这台电脑的固定IP地址；
* 牢记云服务器操作系统的用户名和密码。

##### [腾讯云](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544559)

1、登录腾讯云官方网站：[https://cloud.tencent.com/](https://cloud.tencent.com/) ，单击右上角的【免费注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-26-18.png?version=1&modificationDate=1620797177323&api=v2)​

2、打开手机端微信，扫一扫下面的二维码，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-29-56.png?version=1&modificationDate=1620797395860&api=v2)​

3、如果以前扫码注册过，系统会显示【前往登录】即可，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-32-33.png?version=1&modificationDate=1620797551990&api=v2)​

4、如果以前微信没有注册过，扫码以后，点击手机右上角的【关注】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-35-48.png?version=1&modificationDate=1620797747280&api=v2)​

5、回到官网，选择【注册新账号】，打勾【我已阅...隐私声音】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-38-34.png?version=1&modificationDate=1620797913443&api=v2)​

6、单击【去实名认证】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-39-51.png?version=1&modificationDate=1620797990740&api=v2)​

7、选择认证类型，单击【开始个人认证】如下图所示：（企业认证，请单击【开始企业认证】）

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-41-41.png?version=1&modificationDate=1620798100527&api=v2)​

8、根据提示，完善下面的信息录入，并进行手机验证，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-43-52.png?version=1&modificationDate=1620798231347&api=v2)​

9、确定信息实名，单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-47-14.png?version=1&modificationDate=1620798433563&api=v2)​

10、选择【微信扫码】扫描图中的二维码，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-50-53.png?version=1&modificationDate=1620798652127&api=v2)​

11、手机端会出现授权认证的姓名与身份证号，确认无误后，单击【前往授权】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-53-6.png?version=1&modificationDate=1620798785870&api=v2)​

12、打勾【你已阅读...授权协议》】，单击【授权】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-54-54.png?version=1&modificationDate=1620798893697&api=v2)​

13、手机端显示实名成功！如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-56-8.png?version=1&modificationDate=1620798967177&api=v2)​

14、同时，在官方网站上会显示认证成功的信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-52-2.png?version=1&modificationDate=1620798721593&api=v2)​

15、单击官网【产品】菜单，再单击【热门】，选择【云服务器】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-58-29.png?version=1&modificationDate=1620799108563&api=v2)​

16、单击【立即选购】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_13-59-32.png?version=1&modificationDate=1620799171450&api=v2)​

17、选择【自定义配置】，以下均选择默认值即可，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-1-14.png?version=1&modificationDate=1620799273110&api=v2)​

18、这里有多个类型选择，根据业务需要来进行配置即可，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-3-31.png?version=1&modificationDate=1620799410470&api=v2)​

19、配置操作系统、系统盘、数据盘和系统带宽，单击【下一步：设置主机】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-6-3.png?version=1&modificationDate=1620799562457&api=v2)​

20、设置好登录操作系统 Administrator 用户的密码，单击【下一步：确认配置信息】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-10-21.png?version=1&modificationDate=1620799820460&api=v2)​

21、选择安全组和设置管理员密码，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-14-27.png?version=1&modificationDate=1620800066123&api=v2)​

22、配置成功以后，打勾【同意...规则》】，单击【立即购买】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-17-11.png?version=1&modificationDate=1620800230467&api=v2)​

23、确认配置信息后，单击【提交订单】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-18-15.png?version=1&modificationDate=1620800294720&api=v2)​

24、选择在线支付，单击【下一步】，如下图所示 ：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-20-55.png?version=1&modificationDate=1620800454887&api=v2)​

25、选择支付方式进行支付，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544559/image2021-5-12_14-21-45.png?version=1&modificationDate=1620800503947&api=v2)​

26、到此，云服务器配置与购买成功！相关云服务器平台的其它操作，可直接联系官方客服经理。

**备注：**

* 牢记腾讯云后台的管理账号和密码；
* 牢记云服务器这台电脑的固定IP地址；
* 牢记云服务器操作系统的用户名和密码。

#### [云服务器安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544540)

**云服务器上部署 Workfine：**

购买云服务器以后，各厂商都会分配云服务器一个固定 IP 地址，比如：101.172.XXX.18，若此服务器选择镜像安装为 Windows 操作系统，我们就可以通过微软的远程桌面来访问。操作步骤如下：

1、点击【开始】菜单，找到【windows  附件】，单击【远程桌面连接】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544540/image2021-5-10_14-26-5.png?version=1&modificationDate=1620634658160&api=v2)​

2、在远程桌面输入云服务器的公网IP地址，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544540/image2021-5-10_15-19-45.png?version=1&modificationDate=1620634658173&api=v2)​

3、再输入管理员账户 Administrator 对应的密码，然后单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544540/image2021-5-10_14-29-55.png?version=1&modificationDate=1620634658183&api=v2)​

4、最后，直接在云服务器上安装部署 Workfine，可参见章节内容，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544540/image2021-5-10_14-34-36.png?version=1&modificationDate=1620634658193&api=v2)​

5、到此，云服务器的购买与部署完成！

**特别说明：**

云服务器选择配置采购时，各家的操作界面略有不同，可以拨打官方服务热线来指导相关操作。

### [10.2.2 局域网部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543722)

局域网通常是指局部地区形成的一个区域网络，分布范围可大可小，大到一栋建筑楼 与相邻建筑之间的连接，小到可以是办公室之间的联系。

如某一局域网中服务器的IP地址为 192.168.1.100，可以在这台服务器上同时安装 Workfine 和数据库。如下图（1）所示：

​![](https://dochelp.bn100.com/download/attachments/24543722/image2021-5-12_14-50-52.png?version=1&modificationDate=1620802251697&api=v2)​

                                                                       图（1）-Workfine和 MS SQL Server 同台部署

也可以将Workfine和数据库（以微软SQL Server为例）安装在不同的两台服务器上面，在同一个局域内，并且能正常访问。如下图（2）所示：

​![](https://dochelp.bn100.com/download/attachments/24543722/image2021-5-12_15-6-40.png?version=1&modificationDate=1620803199127&api=v2)​

                                                                       图（2）-Workfine和 MS SQL Server 分开部署

客户端通过浏览器来直接访问：

Workfine 设计端：[http://192.168.1.100:5000/designer](http://192.168.1.100:5000/designer)  
Workfine 应用端：[http://192.168.1.100:5000/](http://192.168.1.100:5000/)

**注意事项：**

1、Workfine 安装好以后，记得关闭 192.168.1.100 这台服务器的防火墙或者开放默认的 5000 端口。

2、Workfine 默认的5000端口也可以更改，请参见【修改 Workfine 默认端口】章节内容。

### [10.2.3 广域网部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543724)

**广域网**（英语：Wide Area Network，缩写为 WAN），又称**广域网**、**外网**、**公网**。是连接不同地区[局域网](https://baike.baidu.com/item/%E5%B1%80%E5%9F%9F%E7%BD%91)或[城域网](https://baike.baidu.com/item/%E5%9F%8E%E5%9F%9F%E7%BD%91)计算机通信的远程网。

通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个地区、城市和国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。

如下图所示：

在北京有一台服务器，固定IP地址为：101.69.XXX.206 ，该台服务器通过防火墙接入Internet；

在杭州有3台客户端，通过防火墙，也接入了Internet。

这样，3台客户端，就可以通过Internet来进行登录访问  Workfine 服务器了。

​![](https://dochelp.bn100.com/download/attachments/24543724/image2021-5-10_16-5-22.png?version=1&modificationDate=1620633922647&api=v2)​

**最典型的应用：**

1、就是直接将 Workfine 部署在云服务器上，然后客户端登录 Internet 进行访问。

2、公司或是企业自建机房，把 Workfine 安装在机房服务器上，并接入 Internet 。

### [10.2.4 花生壳内网穿透](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543726)

**花生壳是什么？**

花生壳是款具备内网穿透功能的软件。是通过云服务器快速与内网服务器建立连接，同时把内网端口映射到云端，实现各类基于域名的互联网应用服务。花生壳能够实现反向代理应用，支持TCP、HTTP、HTTPS协议，端到端的TLS加密通信，黑白名单防黑验证等；支持外网设备穿透各种复杂的路由和防火墙访问到内网的设备。

**花生壳的工作原理是什么？**

拨号宽带每次拨号上网所获得的IP地址每次都是不同的，这样就需要我们每次访问服务器都输入新的ip地址，而花生壳起到的作用就是方便用户访问我们的服务器（只需要输入域名便可），而不用每次都输入IP地址那么麻烦（因为我们也不可能每次重新拨号上网后，又去告诉用户现在的服务器的IP地址什么）。

#### **花生壳典型应用**

举例，公司的局域网有一台服务器，IP地址是192.168.1.50，安装了workfine，现在要让外网能访问Workfine，就需要在192.168.1.50的这台服务器上安装花生壳软件，最终达到的目的就是让公司以外的其它地方接入Internet可以成功访问这台服务器。

要实现上面的操作，步骤如下：

1、进入官网 [https://hsk.oray.com/](https://hsk.oray.com/) 下载花生壳，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_8-25-36.png?version=1&modificationDate=1620865535213&api=v2)​

2、下载安装包 HskDDNS_5.3.0.34889.exe 双进进行安装，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-24-22.png?version=1&modificationDate=1620872661487&api=v2)​

3、单击【安装】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-26-6.png?version=1&modificationDate=1620872765780&api=v2)​

4、单击【立即进入】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-26-31.png?version=1&modificationDate=1620872790597&api=v2)​

5、在使用之前，用微信扫一扫进行注册，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-32-14.png?version=1&modificationDate=1620873133923&api=v2)​

6、手机端需要关注微信公众号，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-36-4.png?version=1&modificationDate=1620873363317&api=v2)​

7、单击【关注】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-37-51.png?version=1&modificationDate=1620873470067&api=v2)​

8、关注以后，用微信再次扫描第5步的二维码，选择【生成新的子账号】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-40-55.png?version=1&modificationDate=1620873654237&api=v2)​

9、生成子账号成功，单击【授权登录】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-46-21.png?version=1&modificationDate=1620873980073&api=v2)​

10、出现花生壳主界面，单击【免费激活】，根据相关操作即可。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_10-44-17.png?version=1&modificationDate=1620873856670&api=v2)​

11、回到主界面，单击下右角的“加号”，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-11-58.png?version=1&modificationDate=1620875517473&api=v2)​

12、输入应用名称，应用类型选择 http 或  https ，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-18-50.png?version=1&modificationDate=1620875929927&api=v2)​

13、单击 http ，会提示立即认证，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-17-50.png?version=1&modificationDate=1620875869627&api=v2)​

14、出现产品购买界面，单击【去下单】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-22-50.png?version=1&modificationDate=1620876169700&api=v2)​

15、单击【立即购买】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-24-38.png?version=1&modificationDate=1620876277000&api=v2)​

16、微信扫码支付，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-27-2.png?version=1&modificationDate=1620876421457&api=v2)​

17、手机端单击【确认支付】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-28-43.png?version=1&modificationDate=1620876522697&api=v2)​

18、输入应用名称，选择应用类型为 HTTP，选择内网主机 127.0.0.1，内网端口为：5000，单击【保存】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-31-1.png?version=1&modificationDate=1620876660883&api=v2)​

19、最后完成自定义映射，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543726/image2021-5-13_11-32-36.png?version=1&modificationDate=1620876755140&api=v2)​

20、外网浏览器输入 [http://396fe17804.qicp.vip](http://396fe17804.qicp.vip/) 就等同于访问 [http://127.0.0.1:5000](http://127.0.0.1:5000/) 。

        这样，就实现了从外网来访问公司内部局域网安装了 Workfine 的这台服务器了。

**备注：**

* 本节主要是针对 Workfine 内网穿透的配置来讲解，比如，当你更改了默认端口5000，上面的端口也会变更。
* 更多的功能，可以参见官网 [https://hsk.oray.com/](https://hsk.oray.com/) 。

### [10.2.5 IIS部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543728)

**IIS是什么？**  
IIS是缩写，全称Internet Information Services ( IIS,互联网信息服务 ),是由微软公司提供的基于运行Microsoft Windows的互联网基本服务。

**IIS的作用？**

IIS是指World Wide Web server服务，IIS是一种Web（网页）服务组件，专业的说，IIS可以赋予一部主机电脑一组以上的IP地址，而且还可以有一个以上的域名作为Web网站。  
制作好了网站怎么才能让别人浏览，就是通过网站服务器来实现的。IIS是windows开设web网页服务的组件，用来搭载网站运行程序的平台的。还能提供FTP，SMTP等服务。

**IIS在Windows Server 2019 操作系统中的配置步骤：**

1、单击【开始】菜单，单击【服务器管理器】，如下图示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-20-22.png?version=1&modificationDate=1620951620400&api=v2)​

2、单击【添加角色和功能】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-18-43.png?version=1&modificationDate=1620951521560&api=v2)​

3、单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-22-26.png?version=1&modificationDate=1620951745147&api=v2)​

4、单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-23-2.png?version=1&modificationDate=1620951781303&api=v2)​

5、单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-23-38.png?version=1&modificationDate=1620951816417&api=v2)​

6、打勾【Web 服务器（IIS）】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-24-44.png?version=1&modificationDate=1620951882700&api=v2)​

7、打勾[ .NET Framework 3.5  功能]，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-26-15.png?version=1&modificationDate=1620951973950&api=v2)​

8、单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-26-56.png?version=1&modificationDate=1620952015143&api=v2)​

9、单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-28-47.png?version=1&modificationDate=1620952126040&api=v2)​

10、单击【安装】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-29-19.png?version=1&modificationDate=1620952157380&api=v2)​

11、开始安装，请耐心等待安装完成，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_8-46-42.png?version=1&modificationDate=1620953200893&api=v2)​

12、安装成功以后，打开谷歌浏览器，输入 [http://127.0.0.1](http://127.0.0.1/) 即出现 IIS的界面，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543728/image2021-5-14_9-30-23.png?version=1&modificationDate=1620955821583&api=v2)​

13、到此，IIS  安装成功！

**提示：**

* IIS 只能安装在Windows操作系统之上，不能在Linux之下安装；
* 在Windows  Server 2008/2012/2016 之上安装IIS，步骤和上面相同；

### [10.2.6 https部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543730)

**HTTP和HTTPS的基本概念**

　　HTTP：是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。

　　HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。

　　HTTPS协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。

**Workfine 安装好以后，默认采用的是 http 协议。**

**如果要采用 https 来访问，需要在 IIS中来配置 https 协议。**

本章讲述如何在 IIS 中来配置https协议，在操作之前，要先掌握如何安装IIS，请参见教程【[1.2.2.5 IIS部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543728)】章节教程。

本章讲述https配置，满足的前提条件是：

* 申请好名；
* 下载SSL证书；
* 通过IIS来配置Workfine和安装SSL证书；

#### [域名申请与备案](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544792)

申请域名与备案，有两个途径：

一、联系代理商公司办理注册和备案；

二、直接登录华为、阿里、腾讯云官网注册并办理备案。

以腾讯云网站为例，简单讲一下相关步骤：

1、打开官网 [https://cloud.tencent.com/](https://cloud.tencent.com/) ，单击【域名注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-12-23.png?version=1&modificationDate=1621037540993&api=v2)

2、输入想创建的哉名，比如输入“love-workfine”后，单击查询，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-15-29.png?version=1&modificationDate=1621037726933&api=v2)​

3、系统出现许多条查询结果，选择自己喜欢的域名，如【love-workfine.com】，单击【加入购物车】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-19-12.png?version=1&modificationDate=1621037950543&api=v2)​

4、由于查询结果条数比较多，在查询结果的最底端，单击【立即购买】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-31-20.png?version=1&modificationDate=1621038678293&api=v2)​

5、选择购买的时间是几年，再打勾【我已阅读...隐私声明》】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-33-14.png?version=1&modificationDate=1621038792493&api=v2)​

6、最后，单击【提交订单】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-34-56.png?version=1&modificationDate=1621038894657&api=v2)​

7、选择支付方式，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-36-6.png?version=1&modificationDate=1621038964887&api=v2)​

8、微信扫码支付，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544792/image2021-5-15_8-36-53.png?version=1&modificationDate=1621039011533&api=v2)​

到此，注册并购买域名成功！

相关的备案操作，请与腾讯官网客服联系。

#### [下载SSL证书](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544794)

本章讲述从腾讯云官网下载免费一年的SSL证书为例。

1、以登录腾讯云为例。登录官网 [https://cloud.tencent.com/](https://cloud.tencent.com/) （未注册的，一定要先注册才能登录）。

     找到【产品】->【企业应用】->【SSL证书】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_16-37-46.png?version=1&modificationDate=1620982485490&api=v2)​

2、单击【立即选购】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_16-40-46.png?version=1&modificationDate=1620982485507&api=v2)​

3、我们申请可以免费用一年的SSL证书，选择【自定义配置】->【证书种类】->【域名型免费版】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_16-45-2.png?version=1&modificationDate=1620982485517&api=v2)​

4、选择【快速免费申请】后，需要填写提交相关资料，事先注册的域名、邮箱等信息，填写好以后，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_17-0-26.png?version=1&modificationDate=1620982825103&api=v2)​

5、选择验证方式【自动添加DNS验证】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_17-1-22.png?version=1&modificationDate=1620982881290&api=v2)​

6、单击【查看域名验证状态】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_17-5-14.png?version=1&modificationDate=1620983112403&api=v2)​

7、证书详情的基本信息，如下图所示：（1年免费）过期以后，可以再重新申请。

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_17-6-48.png?version=1&modificationDate=1620983206353&api=v2)​

8、单击【下载证书】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_17-7-28.png?version=1&modificationDate=1620983247047&api=v2)​

9、打开下载的证书压缩文件【iworkfine.cn.zip】，双击打开压缩包，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544794/image2021-5-14_17-8-23.png?version=1&modificationDate=1620983301317&api=v2)​

10、从上图中可以看出来，下载的SSL证书，支持的有：Apache、IIS、Nginx、Tomcat。每个文件夹下面，都对应了相应的SSL证书文件。

到此，SSL证书下载完成！

#### [IIS中安装SSL](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544796)

本章内容，以 Windows Server 2019 操作系统为例，准备工作如下：

* 安装好Workfine；
* 安装好IIS；
* 域名已经申请，并且做好域名解析A记录；（域名解析A记录就是把已经注册并购买的域名，指向一个固定服务器的IP地址）。

假定上面的准备工作已经完成，在IIS中安装SSL，操作步骤如下：

**1、禁用Workfine系统服务；**

1.1、直接按下 Win+R 组合键，输入Services.msc，单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-32-3.png?version=1&modificationDate=1621236724397&api=v2)​

1.2、在服务里找到【Workfine Windows Service】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-30-21.png?version=1&modificationDate=1621236622107&api=v2)​

1.3、双击后，选择启动类型【禁用】，单击【停止】，再单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-34-30.png?version=1&modificationDate=1621236871350&api=v2)​

**2、安装SSL证书；**

2.1、把下载的SSL证书压缩包里的文件夹IIS，整个复制到Workfine安装目录下面

​![](http://dochelp.bn100.com:82/download/attachments/24544794/image2021-5-14_17-8-23.png?version=1&modificationDate=1620983301317&api=v2)​

2.2、如下图所示：把IIS，整个复制到Workfine安装目录下面，做好准备。

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-46-57.png?version=1&modificationDate=1621237617563&api=v2)​

打开IIS目录：一个是证书文件，一个是密码文件，打开密码文件，并记下该密码。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-50-36.png?version=1&modificationDate=1621237836807&api=v2)​

2.3、单击【开始】菜单，选择【Windows 管理工具】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-37-12.png?version=1&modificationDate=1621237032937&api=v2)​

2.4、双击运行 IIS  管理器，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-38-30.png?version=1&modificationDate=1621237110430&api=v2)​

2.5、双击左侧本地服务器名称以后，在右侧双击【服务器证书】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-40-4.png?version=1&modificationDate=1621237205150&api=v2)​

2.6、单击【导入...】，然后选择Workfine目录IIS下面的证书文件，和输入密码文件里的密码，单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-52-45.png?version=1&modificationDate=1621237966083&api=v2)​

到此，证书添加成功！

**3、添加新的网站**

3.1、在IIS中，右键【网站】，单击【添加网站...】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_15-57-0.png?version=1&modificationDate=1621238220633&api=v2)​

3.2、填写网站名称、物理路径、绑定https、主机名和SSL证书后，再单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-8-2.png?version=1&modificationDate=1621238883083&api=v2)​

单击上图中的【连接为...】,重新指定特定用户，输入管理员账号和密码，以保证 ...\workfine\server 整个目录要授权访问，如下图所示 ：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-48-33.png?version=1&modificationDate=1621241313593&api=v2)​

单击【测试连接】后，需要看到结果：路径可访问要打勾才算授权成功，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-51-5.png?version=1&modificationDate=1621241465487&api=v2)​

3.3、单击【应用程序池】，选中【workfine】,再单击【高级设置...】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-11-36.png?version=1&modificationDate=1621239096587&api=v2)​

3.4、对照更改三个选项的值 ，单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-15-30.png?version=1&modificationDate=1621239330417&api=v2)​

3.5、从 workfine 官方QQ群（772383629）中下载【 https部署（IIS）.rar】  这个压缩包，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-19-8.png?version=1&modificationDate=1621239548957&api=v2)​

3.6、压缩包解开，有详细的安装说明，按顺序操作

1）、复制 web.config 到 ...\workfine\server 下面替换掉原文件；

2）、双击安装【dotnet-hosting-2.2.8-win.exe】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-22-3.png?version=1&modificationDate=1621239723830&api=v2)​

安装采用缺省安装路径就可以了，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-24-34.png?version=1&modificationDate=1621239875203&api=v2)​

3.7、回到IIS管理器，右键本服务器，选择【停止】服务，然后再右键选择【启动】，也就是说先停止，再启动服务，让上面的配置生效，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-39-39.png?version=1&modificationDate=1621240779680&api=v2)​

3.8、找到【网站】->【workfine】->【管理网站】->【浏览】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-41-23.png?version=1&modificationDate=1621240884157&api=v2)​

3.9、可以看到，已经采用网址 [https://mis.iworkfine.cn](https://mis.iworkfine.cn/) 来访问平台了。

​![](https://dochelp.bn100.com/download/attachments/24544796/image2021-5-17_16-45-11.png?version=1&modificationDate=1621241112357&api=v2)​

到此，IIS中来配置 https 完成！

这样，就可以直接通过  https + 80 端口来代替之前的 http + 5000 端口来访问  workfine 应用程序了。

### [10.2.7 分离部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544475)

分离部署，意味着安装 Workfine 和 数据库，要分别安装在不同的服务器上面，但是必须保证 workfine和数据库IP地址在一个网段内或者能通过路由相互访问。

1、安装 Workfine 开发平台；

      请参见[Windows 下载与安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544475#)章节教程。

2、安装数据库（可以是 MS SQL、MySQL、Oracle、PostgreSQL等）；

      请参见[10.5 数据库安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543686)章节教程。

3、分离部署好以后，需要独立来配置账套，如何通过控制台来配置账号，请参见[10.3 控制台（账套管理）](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543692)章节教程。

​![](https://dochelp.bn100.com/download/attachments/24544475/image2021-5-17_17-1-59.png?version=1&modificationDate=1621242119850&api=v2)​

上面是典型的在同一局域网中，Workfine和MS SQL 是独立部署在两台服务器之上的。

* MS SQL   IP地址：192.168.1.200
* Workfine IP地址：192.168.1.100

同一网段中，Workfine 能正常访问数据库 MS  SQL Server。

### [10.2.8 Workfine个人版LocalDB升级至SQL Server](https://dochelp.bn100.com/pages/viewpage.action?pageId=46498516)

Workfine个人版使用安装便捷的LocalDB作为默认数据库服务。从2.5.0开始，个人版也支持SQLServer全版本，

本文主要介绍如何将Workfine的账套从LocalDB数据库迁移到SQLServer其他版本。

#### 数据库基础简介

LocalDB是SQLServer数据库的一种发行版本，全称为Microsoft SQLServer Express LocalDB，具有部署方便快捷、无需特意管理等优点，一直被Workfine个人版作为默认数据库服务。

以SQLServer2016为例，分为Enterprise、Standard、Developer、Express等版本，各版本区别：[https://docs.microsoft.com/zh-cn/sql/sql-server/editions-and-components-of-sql-server-2016?view=sql-server-ver15](https://docs.microsoft.com/zh-cn/sql/sql-server/editions-and-components-of-sql-server-2016?view=sql-server-ver15)。

其中，我们建议个人及小规模用户继续使用LocalDB，对数据库服务有进阶管理需求及未来希望升级至Workfine企业版的用户建议使用Enterprise版本。

**注意：Express LocalDB账套升级到其他版本后，将无法直接降级！强烈建议升级前对原始数据库文件（MDF和LDF）进行备份。**

      Workfine目前支持SQLServer 2014及以上版本。其中，个人版提供的LocalDB版本为2014，所以只能迁移升级到SQLServer 2014及以上版本。本文以2016版本为例，讲解LocalDB账套升级至SQLServer 2016 Enterprise并重

新与Workfine服务绑定，其他版本大同小异。

#### 数据库安装

##### 数据库实例

* 挂载SQLServer 2016 Enterprise安装镜像，双击exe，打开安装中心。
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-24-53.png?version=1&modificationDate=1669191893533&api=v2)​
* 点击安装中心左侧【安装】分类，选择【全新SQL Server独立安装或向现有安装添加功能】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-29-15.png?version=1&modificationDate=1669192155793&api=v2)​
* 等待安装程序检查完毕，选择不检查更新，点击【下一步】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-30-54.png?version=1&modificationDate=1669192255233&api=v2)​
* 等待第二次检查，点击【下一步】继续
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-31-7.png?version=1&modificationDate=1669192267840&api=v2)​
* 选择【执行SQL Server2016的全新安装】，点击【下一步】继续
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-31-20.png?version=1&modificationDate=1669192280820&api=v2)​
* 输入从经销商处购买的正版Enterprise密钥，请勿使用指定版本的方式，点击【下一步】继续
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-31-32.png?version=1&modificationDate=1669192293080&api=v2)​
* 检查许可条款中显示的密钥版本是否正确，选择【我接受许可条款】，点击【下一步】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-31-43.png?version=1&modificationDate=1669192303897&api=v2)​
* 功能列表中滚动滚动条，选择【数据库引擎服务】和【SQL客户端连接SDK】，确定需要安装的目录，点击【下一步】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-31-55.png?version=1&modificationDate=1669192316130&api=v2)​
* 等待检查完成，实例配置中所有设置保持默认，点击【下一步】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-32-7.png?version=1&modificationDate=1669192327327&api=v2)​
* 将SQL Server代理的启动类型调整为【自动】，排序规则标签页中的设置项必须确认为“Chinese_PRC_CI_AS”，点击【下一步】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-32-18.png?version=1&modificationDate=1669192339007&api=v2)​
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-32-30.png?version=1&modificationDate=1669192350390&api=v2)​
* 登录验证方式选择【混合模式】，输入一个强密码；点击【添加当前用户】按钮。点击【下一步】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-32-40.png?version=1&modificationDate=1669192361183&api=v2)​
* 等待安装程序检查完毕，点击【安装】并等待安装完成即可。
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-32-51.png?version=1&modificationDate=1669192371737&api=v2)​

##### 数据库管理器

从最近发布的版本开始，SQLServer安装镜像默认不再提供SQL Server Management Studio（简称SSMS）组件，需要至[https://docs.microsoft.com/zh-cn/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-2017](https://docs.microsoft.com/zh-cn/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-2017)根据提示手动下载安装程序。

1、双击运行下载的SSMS-Setup-CHS.exe安装包，选择一个合适的安装路径，点击【安装】

​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-33-8.png?version=1&modificationDate=1669192388960&api=v2)​

2、等待安装完毕即可

#### 附加LocalDB数据库文件

* 登录Workfine控制台，将需要升级到SQLServer的帐套停用

 ![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-34-28.png?version=1&modificationDate=1669192468570&api=v2)​

* 打开安装的SSMS（Microsoft SQL Server Management Studio 18，以下简称SSMS）
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-34-42.png?version=1&modificationDate=1669192482877&api=v2)​
* 在新建连接界面中，服务器名称输入“localhost”，身份验证方式选择【Windows 身份验证】，点击【连接】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-35-4.png?version=1&modificationDate=1669192504970&api=v2)​
* 在左侧【对象资源管理器】中右击【数据库】，选择【附加…】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-35-20.png?version=1&modificationDate=1669192520383&api=v2)​
* 在附加数据库界面中点击【添加】按钮，选择需要升级迁移的账套文件，点击【确定】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-35-32.png?version=1&modificationDate=1669192532567&api=v2)​
* SQLServer将会检查版本及文件是否被占用。附加数据库列表中【附加为】可以修改调整为方便自己记忆的数据库名称，其他设置请勿调整。点击【确定】
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-35-48.png?version=1&modificationDate=1669192548840&api=v2)​
* 附加完毕后，左侧数据库列表将会出现刚才附加的数据库名称
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-36-5.png?version=1&modificationDate=1669192565937&api=v2)​
* 打开Workfine控制台，修改帐套的数据库设置。数据库类型调整为SQLServer，输入用户名sa和刚才设置的密码。在数据库下拉中找到刚才附加的数据库名称，点击应用并点击启用即可
* ​![](https://dochelp.bn100.com/download/attachments/46498516/image2022-11-23_16-36-20.png?version=1&modificationDate=1669192581167&api=v2)​

## [10.3 控制台（账套管理）](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543692)

**控制台：**是 Workfine 管理后台的核心模块。为了增强安全性，**任何通过远程IP地址访问控制台的，全部拒绝，均不能登录访问！**

**登录控制台有2种方式：**

1、直接在安装了 Workfine 的这台服务器登录（接上鼠标、键盘、显示器）来操作；

2、可以通过微软远程桌面或其它第三方远程连接工具（向日葵、VNC、TeamViwer、Todesk等）远程登录访问；

登录网址：[http://localhost:5000/admin/index.html#/login?redirect=%2Fdashboard](http://localhost:5000/admin/index.html#/login?redirect=%2Fdashboard)

**默认用户：admin**

**默认密码：admin**

登录界面如下图所示：（注意：验证码在输入的时候，可以不区分大小写）

​![](https://dochelp.bn100.com/download/attachments/24543692/image2021-5-10_12-7-57.png?version=1&modificationDate=1620619677487&api=v2)​

本章节讲述 Workfine 控制台以下内容：

* [1.2.3.1 服务启停](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543733&src=contextnavpagetreemode)
* [1.2.3.2 账套管理](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543742&src=contextnavpagetreemode)
* [1.2.3.3 数据备份](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543735&src=contextnavpagetreemode)
* [1.2.3.4 数据还原](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543737&src=contextnavpagetreemode)
* [1.2.3.5 密码恢复](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544507&src=contextnavpagetreemode)

### [10.3.1 服务启停](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543733)

Workfine的WEB服务有两种方式：

* **基于http协议的服务**
* **基于https协议的服务**

大家可以根据实情情况来选择应用。

#### [基于http协议](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544958)

1、Workfine 默认安装用http 协议。同时按住 【Win】+【R】 组合键，输入 【services.msc】后，单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544958/image2021-5-18_14-34-40.png?version=1&modificationDate=1621319680980&api=v2)​

2、左键双击“【Workfine Windows Service 】 ，可以查看服务运行状态，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544958/image2021-5-18_10-52-5.png?version=1&modificationDate=1621319031167&api=v2)​

3、也可以通过右键，选择【启动】或【停止】，对该服务进行操作。

在 Workfine 正常运行的情况下，该项服务的运行状态是【正在运行】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544958/image2021-5-18_10-55-59.png?version=1&modificationDate=1621319031183&api=v2)​

3、在Linux系统中安装的话，有一个服务叫“Workfine Linux Service ”。

例如在 CentOS上，相关服务的命令如下：

* 查看服务  ***systemctl status workfine***
* 启动服务  ***systemctl start   workfine***
* 停止服务  ***systemctl stop   workfine***

#### [基于https协议](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544956)

https是基于别的WEB服务器来部署，如Apache、IIS、Ngix、Tomcat等。

本节我们以IIS为例，讲述一下如何启动或停止 Workfine 服务。

1、单击【开始】菜单，选择【Windows 管理工具】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544956/image2021-5-17_15-37-12.png?version=1&modificationDate=1621320664897&api=v2)​

**2、找到【Internet Information Services】，左键双击打开，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544956/image2021-5-18_14-51-10.png?version=1&modificationDate=1621320671190&api=v2)​

**3、双击本地服务器【WIN-69NT3....】，双击【网站】，展开看到搭建好的基于https协议的【workfine】，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544956/image2021-5-18_15-5-50.png?version=1&modificationDate=1621321550780&api=v2)​

**4、右键【workfine】-&gt;【管理网站】，就可以看到相关服务的【启动】、【停止】操作，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544956/image2021-5-18_15-8-10.png?version=1&modificationDate=1621321691090&api=v2)​

备注：

      基于https协议的部署，一定要禁用http协议的workfine本地服务。具体可以参见 [https部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543730) 章节的内容。

### [10.3.2 账套管理](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543742)

#### [新建帐套](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713952)

Workfine所有业务均以帐套为单位，每个帐套均拥有独立的组织机构、用户、角色权限信息，所有业务也均独立，互不影响。

每个帐套也对应一个数据库实例中的数据库，本教程主要介绍如何在不同数据库实例中新建一个空帐套。

1、登录控制台

在**服务器**上打开Workfine设计端，点击登录按钮右上角“控制台”

​![](https://dochelp.bn100.com/download/attachments/41713952/image2022-6-10_16-32-24.png?version=1&modificationDate=1654853729383&api=v2)​

2、在登录界面输入用户名密码（默认用户名：admin，默认密码：admin）

如忘记密码，可以通过在Workfine安装目录中的data文件夹中，删除workbench.lock文件来重置

​![](https://dochelp.bn100.com/download/thumbnails/41713952/image2022-6-10_16-34-20.png?version=1&modificationDate=1654853729367&api=v2)​

3、点击帐套列表右上方的新增帐套按钮

​![](https://dochelp.bn100.com/download/thumbnails/41713952/image2022-6-10_17-35-15.png?version=1&modificationDate=1654853729337&api=v2)​

4、选择数据库类型为LocalDB

​![](https://dochelp.bn100.com/download/thumbnails/41713952/image2022-6-14_14-3-59.png?version=1&modificationDate=1655186639313&api=v2)​

5、输入帐套名称和数据库名称

其中帐套名称为本帐套在应用端、移动端、设计端展示的名称。数据库路径为帐套数据库文件的名称，可以直接输入名称，Workfine将会在安装目录的data文件夹下创建数据库文件。也可以输入完整路径，用于在指定位置创建。

​![](https://dochelp.bn100.com/download/thumbnails/41713952/image2022-6-14_14-4-25.png?version=1&modificationDate=1655186665970&api=v2)​

6、最后点击确定即可完成创建

​![](https://dochelp.bn100.com/download/attachments/41713952/image2022-6-14_14-6-39.png?version=1&modificationDate=1655186799797&api=v2)​

7、数据库类型为其他数据库类型时（以sqlserver为例）

​![](https://dochelp.bn100.com/download/attachments/41713952/image2022-6-14_14-2-53.png?version=1&modificationDate=1655186573573&api=v2)​

8、根据备注填写数据库相关信息

其中数据库列表需要测试连接后生成，如果需要绑定在一个新数据库中，点击新建数据库即可完成新建过程

​![](https://dochelp.bn100.com/download/attachments/41713952/image2022-6-14_14-8-2.png?version=1&modificationDate=1655186882537&api=v2)​

#### [删除账套](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544901)

##### [删除本地数据库账套](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544940)

1、登录控制台以后，单击对应的本地数据库【Test】列表最右侧的删除图标，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544940/image2021-5-18_13-43-0.png?version=1&modificationDate=1621316580587&api=v2)​

2、输入验证码（不区分大小写），单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544940/image2021-5-18_13-45-5.png?version=1&modificationDate=1621316706243&api=v2)​

3、系统显示删除成功！注意：删除账套以后，对应的原来保存路径文件夹下面的对应数据库文件，也会一并全部删除掉！

      所以，在删除之前，切记谨慎操作！

##### [删除独立数据库账套](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544942)

1、登录控制台以后，单击对应的SQLServer数据库【TestSQL】列表最右侧的删除图标，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544942/image2021-5-18_13-50-16.png?version=1&modificationDate=1621317017153&api=v2)​

2、输入验证码（不区分大小写），单击【确定】，在账套列表里，就删除掉了【TestSQL】。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544942/image2021-5-18_13-51-43.png?version=1&modificationDate=1621317104110&api=v2)​

3、再次用SQL Server 连接工具打开数据库，可以看到【TestSQL】依然存在，还没有被真正的删除掉，如下图所示：

​![image2021-5-18_13-32-49.png](http://dochelp.bn100.com:82/download/attachments/24544924/image2021-5-18_13-32-49.png?version=1&modificationDate=1621315969783&api=v2)​

4、打开存储路径，可以看到，对应的两个数据库文件，依然还存在。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544942/image2021-5-18_13-59-18.png?version=1&modificationDate=1621317558643&api=v2)​

由此可见，通过控制台删除独立数据库账套时，删除的只是连接，而非真正删除掉了数据库文件。

这是和删除本地数据库最大的区别。

#### [LocalDB转MS SQL](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713972)

Workfine个人版使用安装便捷的LocalDB作为默认数据库服务。从2.5.0开始，个人版也支持SQLServer全版本，本文主要介绍如何将Workfine的账套从LocalDB数据库迁移到SQLServer其他版本。

1、安装Microsoft SQL Server

参照[SQL Server 安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544201)，将数据库和管理工具ssms安装在服务器上

2、打开安装的SSMS（Microsoft SQL Server Management Studio 18，以下简称SSMS）

​![](https://dochelp.bn100.com/download/thumbnails/41713972/image2022-6-14_14-15-39.png?version=1&modificationDate=1655187493183&api=v2)​

3、在新建连接界面中，服务器名称输入“localhost”，身份验证方式选择【Windows 身份验证】，点击【连接】

​![](https://dochelp.bn100.com/download/attachments/41713972/image2022-6-14_14-16-1.png?version=1&modificationDate=1655187493163&api=v2)​

4、在左侧【对象资源管理器】中右击【数据库】，选择【附加…】

​![](https://dochelp.bn100.com/download/thumbnails/41713972/image2022-6-14_14-16-28.png?version=1&modificationDate=1655187493143&api=v2)​

5、在附加数据库界面中点击【添加】按钮，选择需要升级迁移的账套文件，点击【确定】

​![](https://dochelp.bn100.com/download/attachments/41713972/image2022-6-14_14-16-31.png?version=1&modificationDate=1655187493127&api=v2)​

6、SQLServer将会检查版本及文件是否被占用。附加数据库列表中【附加为】可以修改调整为方便自己记忆的数据库名称，其他设置请勿调整。点击【确定】

​![](https://dochelp.bn100.com/download/attachments/41713972/image2022-6-14_14-16-35.png?version=1&modificationDate=1655187493110&api=v2)​

7、附加完毕后，左侧数据库列表将会出现刚才附加的数据库名称

​![](https://dochelp.bn100.com/download/thumbnails/41713972/image2022-6-14_14-16-39.png?version=1&modificationDate=1655187493040&api=v2)​

8、参照[新建帐套](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713952)章节，在第8步选择数据库时选择刚才附加的数据库即可

### [10.3.3 数据备份](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543735)

Workfine系统进行备份，主要包括2方面的内容：

1、备份所有附件文件（如相片、Office文档、以及其它文件），文件夹路径为：...\Workfine\blob。

     请将Workfine路径下面【blob】文件夹整个全部备份。

2、数据库账套备份；

      基于本地数据库账套。

      基于独立数据库账套。

本章节重点讲述关于【数据库账套备份】备份操作。

#### [备份计划](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545001)

1、进入Workfine控制台，选中本地账套【Test】，单击【备份设备】，备份路径 【d:\backup】，设置开始时间，间隔时间5小时，保留备份2天数据。单击【保存】配置，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_8-48-55.png?version=1&modificationDate=1621394092460&api=v2)​

2、再单击上图中的【执行日志】，会在【d:\backup】目录下面自动生成备份。（ 格式：backup_年月日时分秒.bak）如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_8-57-31.png?version=1&modificationDate=1621394092477&api=v2)​

**3、注意事项：**

如果【执行日志】按钮单击以后，在【d:\backup】目录下面并没有自动生成备份文件，请设备文件夹【backup】的权限。操作如下：

3.1、右键文件夹【backup】，选择【属性】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_9-50-54.png?version=1&modificationDate=1621394092487&api=v2)​

3.2、点击【编辑】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_9-52-40.png?version=1&modificationDate=1621394092497&api=v2)​

3.3、单击【添加】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_10-50-15.png?version=1&modificationDate=1621394092507&api=v2)​

3.4、单击【高级】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_11-8-59.png?version=1&modificationDate=1621394092517&api=v2)​

3.5、单击【立即查找】，在列表中选中【Everyone]，再单击【确定】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_11-11-12.png?version=1&modificationDate=1621394092533&api=v2)​

3.6、单击【确定】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_11-12-13.png?version=1&modificationDate=1621394092543&api=v2)​

3.7、选中【Everyone】，在权限列表中，选择完全控制，再单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_11-4-49.png?version=1&modificationDate=1621394092553&api=v2)​

3.8、最后单击【确定】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545001/image2021-5-19_11-6-39.png?version=1&modificationDate=1621394092563&api=v2)​

到此，备份文件夹 d:\backup 的权限设置成功！

说明：针对SQL Server 账套的备份计划，操作与上面完全相同。

#### [手动备份](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545003)

1、进入控制台，选中本地账套【Test】，单击【备份设置】，设置好备份路径，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545003/image2021-5-19_11-22-35.png?version=1&modificationDate=1621394555087&api=v2)​

**说明：**

数据库名称【***workfine_db_20210518113139***】是在新增【Test】本地账套时，系统自动生成的数据库名，是不能更改的。

数据库名称【***TestSQL***】是在新增【SQL Server】独立数据库账套时，系统自动生成的数据库名，是不能更改的，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545003/image2021-5-19_11-58-17.png?version=1&modificationDate=1621396697453&api=v2)​

2、以手动备份【Test】本地账套为例 ，单击【开始备份】，显示备份成功，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545003/image2021-5-19_11-24-49.png?version=1&modificationDate=1621394688867&api=v2)​

3、打开文件夹 【d:\backup】，会显示刚刚手动生成的备份文件，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545003/image2021-5-19_11-34-44.png?version=1&modificationDate=1621395284660&api=v2)​

**特别说明：**

* 手动备份【TestSQL】账套，操作方式与上相同。
* 每点击一次【开如备份】，就会在【d:\backup】目录下面生成一个备份文件。
* 若备份文件过多，可以适当的选择删除早期的备份文件，以节省磁盘空间。

### [10.3.4 数据还原](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543737)

1、登录控制台后，选中需要还原的账套【Test】，单击【备份设置】，再入之前备份的数据库名：【d:\backup\backup_20210519180601.bak】，单击【开始还原】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543737/image2021-5-20_8-4-8.png?version=1&modificationDate=1621469048567&api=v2)​

2、单击开始还原后，请耐心等待，如果数据库文件很大，会需要很长时间，成功还原后，会显示如下信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543737/image2021-5-20_8-8-59.png?version=1&modificationDate=1621469339120&api=v2)​

**小技巧：**

**如何准确快速的输入还原的文件名呢？**

1、找到备份文件，鼠标右键，选【属性】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543737/image2021-5-20_8-12-28.png?version=1&modificationDate=1621469548343&api=v2)​

2、单击【安全】选项，全部选中整个文件路径，然后鼠标右键，选择复制，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543737/image2021-5-20_8-13-33.png?version=1&modificationDate=1621469613190&api=v2)​

3、再回到控制台，在【还原备份】的位置鼠标右键，选择【粘贴】，或者直接快捷键【 Ctrl+V】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24543737/image2021-5-20_8-16-24.png?version=1&modificationDate=1621469784257&api=v2)​

**特别说明：**

* 以上操作只是还原了账套的数据库文件。
* 如果Workfine新安装到了另一台服务器上，还要把之前【...\Workfine\blob】 整个备份的文件夹内容，也要还原到同目录下面。
* 只有同时满足以上两点，才算是真正的全部还原。

### [10.3.5 密码恢复](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544507)

Workfine 管理员 admin  密码忘记了，可以重置恢复，恢复以后，密码为空，就是说没有密码，直接输入admin用户就可以登录了。

具体的恢复步骤如下：

1、登录控制台；

2、在控制台的账套列表中，找到对应的账套，然后鼠标右键，单击【重置系统账户】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544507/image2021-5-18_9-33-42.png?version=1&modificationDate=1621301622927&api=v2)​

3、根据提示信息，单击【确认】按钮，如下图所示 ：

​![](https://dochelp.bn100.com/download/attachments/24544507/image2021-5-18_9-34-53.png?version=1&modificationDate=1621301694167&api=v2)​

4、在控制台的右上角，显示系统账号重置成功的提示，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544507/image2021-5-18_9-36-15.png?version=1&modificationDate=1621301776177&api=v2)​

5、回到登录界面，用admin账户登录，没有密码，直接登录。登录成功以后，记得重新设置密码。

到此，admin 用户密码恢复成功！

## [10.4 应用集成配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543690)

Workfine支持移动端使用，包括微信企业号，服务号，钉钉等的集成部署。

移动端部署完成后，并不会立马有内容，还需要在模板管理中对相应的模板进行移动端发布后，才会显示在移动端，请参照【模板管理】->【移动端设置】中的教程。

在进行移动端部署之前，必须保证网络环境通畅，局域网环境下，手机必须与服务器属于同一个网络环境；微信公众号部署必须连通外网环境。

部署移动端之后移动端不仅支持基本的流程审批，数据填报和查询以及决策等，还支持移动端消息推送，扫码，定位，手写签名，邮件发送等功能。

本章节内容如下：

* [1.3.4.1 钉钉集成配置](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543747&src=contextnavpagetreemode)
* [1.3.4.2 企业微信集成配置](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543749&src=contextnavpagetreemode)
* [1.3.4.3 企业公众号集成配置](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543751&src=contextnavpagetreemode)
* [1.3.4.4 端口修改](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24543761&src=contextnavpagetreemode)

### [10.4.1 钉钉集成配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543747)

本章节主要包含以下内容：

1、域名的申请与备案。

2、钉钉注册、下载、登录。

3、钉钉后台添加应用。

4、Workfine钉钉绑定配置。

#### [10.4.1.1 域名的申请与备案](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545049)

请参考[【域名申请与备案】](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544792)章节内容。

#### [10.4.1.2 钉钉注册、下载、登录](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545051)

本章内容的知识点：

* 注册钉钉账户。
* 官方下载钉钉。
* 手机注册钉钉。

##### [10.4.1.2.1 钉钉注册](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545115)

1、在官网，可以点击【注册钉钉】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545115/image2021-5-20_16-46-35.png?version=1&modificationDate=1621501813373&api=v2)​

2、输入手机号，单击【同意协议并注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545115/image2021-5-20_16-47-12.png?version=1&modificationDate=1621501813387&api=v2)​

3、输入验证码后，单击【验证并继续】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545115/image2021-5-20_16-48-45.png?version=1&modificationDate=1621501813397&api=v2)​

4、完善企业信息，单击【同意协议并注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545115/image2021-5-20_16-51-4.png?version=1&modificationDate=1621501813417&api=v2)​

5、注册成功以后，会显示提示信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545115/image2021-5-20_16-52-33.png?version=1&modificationDate=1621501813433&api=v2)​

到此，钉钉注册成功！

[10.4.1.2.2 钉钉下载](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545110)

1、进入阿里钉钉官网：[https://www.dingtalk.com/](https://www.dingtalk.com/)  下载钉钉，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545110/image2021-5-20_16-41-49.png?version=1&modificationDate=1621501768267&api=v2)​

2、根据对应手机系统下载安卓、苹果、Windows PC端，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545110/image2021-5-20_16-43-36.png?version=1&modificationDate=1621501768280&api=v2)​

手机扫描上面的二维码，在安卓或苹果手机中进行下载、安装即可。

到此，钉钉下载安装成功！

##### [10.4.1.2.3 钉钉登录](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545124)

1、打开官网 [https://www.dingtalk.com/](https://www.dingtalk.com/) 单击【企业登录】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545124/image2021-5-20_17-14-1.png?version=1&modificationDate=1621502040853&api=v2)​

2、显示钉钉登录界面，默认是手机钉钉登录扫码，还有一种方式是通过手机验证码登录，需要切换登录方式，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545124/image2021-5-20_17-17-53.png?version=1&modificationDate=1621502272723&api=v2)​

3、输入手机号，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545124/image2021-5-20_17-19-6.png?version=1&modificationDate=1621502346163&api=v2)​

4、输入手机验证码，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545124/image2021-5-20_20-11-42.png?version=1&modificationDate=1621512702137&api=v2)​

5、选择在注册时候输入的企业名称，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545124/image2021-5-20_20-12-37.png?version=1&modificationDate=1621512757643&api=v2)​

6、能看到自己的身份是【主管理员】，说明登录钉钉管理后台成为，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545124/image2021-5-20_20-13-33.png?version=1&modificationDate=1621512812757&api=v2)​

到此，钉钉登录成功！

**说明：**后面教程中涉及在钉钉平台的操作的，全部都是假设大家成功登录到这一步开始讲起！

#### [10.4.1.3 钉钉后台添加应用](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545053)

1、在浏览器地址栏输入 [https://oa.dingtalk.com/](https://oa.dingtalk.com/) 网址登录钉钉后台管理，参见[【钉钉登录】](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545124)章节内容。

2、单击最上方菜单项【工作台】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_15-25-7.png?version=1&modificationDate=1621841107353&api=v2)​

3、在下面找到自建应用，单击【自建应用】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_15-29-12.png?version=1&modificationDate=1621841352567&api=v2)​

4、找到 CorpID，并把它复制出来，会在 Workfine 设计端要用到，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_15-32-1.png?version=1&modificationDate=1621841521827&api=v2)​

5、单击【应用开发】->【企业内部开发】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_15-36-9.png?version=1&modificationDate=1621841770047&api=v2)​

6、找到钉钉应用，单击【H5微应用】->【创建应用】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_15-42-46.png?version=1&modificationDate=1621842166543&api=v2)​

7、依次填写好【应用名称】->【应用描述】【】->【应用图标】→【开发方式】，再单击【确定创建】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_15-47-8.png?version=1&modificationDate=1621842428123&api=v2)​

8、会显示刚刚创建的【iworkfine】基础信息，记下应用凭证（AgentId、AppKey、AppSecret），如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_15-51-19.png?version=1&modificationDate=1621842679950&api=v2)​

9、单击【开发管理】->【修改】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_16-3-51.png?version=1&modificationDate=1621843431280&api=v2)​

10、填写好【服务器出口IP】（如果是云服务器，填写云服务器固定IP地址），填写好【应用首页地址】，有以下两种格式：

1）、若采用  http，填写的时候，加上端口号，注意帽号要用英文。如：【http://域名:5000/app/index.html】

2）、若用  https，填写的时候，看是否用了特殊端口号，若有，请加上端口号，帽号也要用英文。如：【https://域名/app/index.html】

分别输入好【服务器出口IP】→【应用首页地址】后，单击【保存】，如下图所示：（示例中采用的是http部署）

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_16-11-39.png?version=1&modificationDate=1621843899207&api=v2)​

11、单击【钉钉登录与分享】，回调域名中输入Workfine应用端访问地址，单击【添加】，域名访问地址就被添加上。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-25_9-26-12.png?version=1&modificationDate=1621905971777&api=v2)​

12、最会，会显示刚刚创建的钉钉应用【iworkfine】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545053/image2021-5-24_16-28-8.png?version=1&modificationDate=1621844888760&api=v2)​

到此，在钉钉后台管理中来创建H5微应用成功！

#### [10.4.1.4 Workfine钉钉绑定配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545264)

w在钉钉管理后台配置了H5微应用后，还需要在Workfine设计端进行钉钉绑定配置。

1、登录Workfine设计端，点击【移动设置】，在钉钉微应用一栏，要求绑定相关钉钉微应用参数，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545264/image2021-5-25_8-9-46.png?version=1&modificationDate=1621901385893&api=v2)​

2、把钉钉微应用的相关参数复制过来并对应填入。

注意：

1、agentid和loginAppId值相同。

2、appSecret和loginAppSecret值相同。

如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545264/image2021-5-25_8-20-37.png?version=1&modificationDate=1621902037320&api=v2)​

3、填入数据后，其中appSecret的值用星号“*”来代替，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545264/image2021-5-25_9-35-11.png?version=1&modificationDate=1621906510817&api=v2)​

3、单【绑定】按钮，绑定成功！

### [10.4.2 企业微信集成配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543749)

本章节主要包含以下内容：

1、域名的申请与备案，请参考[【域名申请与备案】](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544792)章节内容。

2、企业微信注册、下载、登录。

3、企业微信添加应用。

4、Workfine企业微信绑定配置。

#### [10.4.2.1 企业微信注册、下载、登录](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545302)

本章内容的知识点：

* 注册企业微信。
* 官方下载企业微信。
* 登录企业微信。

##### [10.4.2.1.1 企业微信注册](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545365)

1、登录腾讯官网 [https://work.weixin.qq.com/](https://work.weixin.qq.com/) ，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545365/image2021-5-25_8-44-12.png?version=1&modificationDate=1621927984630&api=v2)​

2、点击【立即注册】，根据自己公司或企业的真实信息填写，因为后期还要进行备案，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545365/image2021-5-25_15-24-19.png?version=1&modificationDate=1621927984650&api=v2)​

3、用手机微信扫上面的二维码来绑定手机微信，再单击【注册】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545365/image2021-5-25_15-27-45.png?version=1&modificationDate=1621927984667&api=v2)​

4、注册成功以后，显示如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545365/image2021-5-25_15-29-46.png?version=1&modificationDate=1621927984683&api=v2)​

到此，企业微信注册成功！

##### [10.4.2.1.2 企业下载](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545367)

1、登录腾讯官网 [https://work.weixin.qq.com/](https://work.weixin.qq.com/) ，单【下载】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545367/image2021-5-25_15-35-36.png?version=1&modificationDate=1621928135680&api=v2)​

2、根据自己手机系统来扫码下载，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545367/image2021-5-25_15-37-19.png?version=1&modificationDate=1621928239530&api=v2)​

3、以安卓手机为例，安装好以后，点击【企业微信】，就可以通过微信或手机号登录，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545367/image2021-5-25_15-51-23.png?version=1&modificationDate=1621929083477&api=v2)![](https://dochelp.bn100.com/download/attachments/24545367/image2021-5-25_15-52-5.png?version=1&modificationDate=1621929125140&api=v2)​

到此，企业微信下载安装完成！

##### [10.4.2.1.3 企业微信登录](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545369)

1、登录腾讯官网 [https://work.weixin.qq.com/](https://work.weixin.qq.com/) ，单击【企业登录】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545369/image2021-5-25_15-56-17.png?version=1&modificationDate=1621929377133&api=v2)​

2、手机微信扫码登录，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545369/image2021-5-25_15-57-34.png?version=1&modificationDate=1621929453983&api=v2)​

3、手机端确定登录以后，会显示之前注册时候输入的主体信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545369/image2021-5-25_16-9-31.png?version=1&modificationDate=1621930171360&api=v2)​

4、以上就是管理员登录企业微信管理后台的操作步骤。

5、管理员需要在企业微信中搭建好组织架构，配置好用户名和手机号以后，其它员我才能登录管理员注册的企业微信。

#### [10.4.2.2 企业微信添加应用](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545308)

1、管理员登录腾讯官网 [https://work.weixin.qq.com/](https://work.weixin.qq.com/) ，找到【应用管理】，单击【创建应用 支持小程序】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-26-16.png?version=1&modificationDate=1621931175957&api=v2)​

2、添加Logo图标、填写应用名称、应用介绍和选择可见范围后，点击【创建应用】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-34-59.png?version=1&modificationDate=1621931699537&api=v2)​

3、在应用主页处，单击【设置】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-44-42.png?version=1&modificationDate=1621932282400&api=v2)​

4、填写网页地址、将选项打勾，单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-46-31.png?version=1&modificationDate=1621932391097&api=v2)​

5、在开发者接口栏目中找到【网页授权及JS-SDK】，单击【设置可信域名】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-48-45.png?version=1&modificationDate=1621932524683&api=v2)​

6、输入可信域名（端口号前面用英文冒号，不要用中文输入冒号），单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-50-58.png?version=1&modificationDate=1621932657883&api=v2)​

7、设置【企业微信授权登录】，单击【设置】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-54-1.png?version=1&modificationDate=1621932840797&api=v2)​

8、单击【设置授权回调域】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-54-50.png?version=1&modificationDate=1621932889907&api=v2)​

9、输入授权回调域，单击【保存】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_16-56-19.png?version=1&modificationDate=1621932979257&api=v2)​

10、记下相关信息：AgentId、Secret、企业ID。在Workfine设计端绑定企业微信时会用到。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_17-0-33.png?version=1&modificationDate=1621933233563&api=v2)​

**注意：**Secret会发送到企业微信移动端，需要手机端登录企业微信，才能查看。

​![](https://dochelp.bn100.com/download/attachments/24545308/image2021-5-25_17-1-46.png?version=1&modificationDate=1621933305613&api=v2)​

到此，企业微信管理后台创建应用成功！

#### [10.4.2.3 Workfine企业微信绑定](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545310)

1、登录Workfine设计端，单击【移动设置】，在【企业微信】栏目中，需要输入相关信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545310/image2021-5-25_17-6-43.png?version=1&modificationDate=1621933602963&api=v2)​

2、管理员登录企业微信后台，找到创建的应用信息，如下图所示：

​![](http://dochelp.bn100.com:82/download/attachments/24545308/image2021-5-25_17-0-33.png?version=1&modificationDate=1621933233562&api=v2)​

​![](http://dochelp.bn100.com:82/download/attachments/24545308/image2021-5-25_17-1-46.png?version=1&modificationDate=1621933305612&api=v2)​

3、复制上面查询出来的值，粘贴到对应的编辑框中，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545310/image2021-5-25_17-28-27.png?version=1&modificationDate=1621934906957&api=v2)​

4、单击【绑定】，显示绑定成功，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545310/image2021-5-25_17-30-5.png?version=1&modificationDate=1621935004680&api=v2)​

到此，Workfine绑定企业微信应用成功！

#### [10.4.3 企业公众号集成配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543751)

暂空

### [10.4.4 端口修改](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543761)

本章要讲述以下2方面的内容：

1、基于 **http**  部署的端口修改。

2、基于 **https** 部署的端口修改。

#### [10.4.4.1 基于http部署端口修改](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545069)

1、先加入官方的QQ群：772383629

2、 在QQ群中，找到【文件】->【Workfine官方工具】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-25-11.png?version=1&modificationDate=1621477511590&api=v2)​

3、找到压缩包文件【Workfine配置管理器V1.6.zip】，鼠标右键，选择【下载】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-27-8.png?version=1&modificationDate=1621477628083&api=v2)​

4、将下载的压缩包文件解压开来，双击运行【MaintenanceTool.exe 】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-29-43.png?version=1&modificationDate=1621477782897&api=v2)​

5、默认端口为5000。如，输入新的端口【8080】，再单击【保存重启】，如下图所示：

**注意：**（输入的8080端口，不能与别的服务端口冲突。）

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-31-48.png?version=1&modificationDate=1621477907997&api=v2)​

6、根据提示，选择【是】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-38-32.png?version=1&modificationDate=1621478311900&api=v2)​

7、最后，显示成功修改端口的提示信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-39-19.png?version=1&modificationDate=1621478359363&api=v2)​

8、输入新的端口号，访问 Workfine设计端，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-47-10.png?version=1&modificationDate=1621478829727&api=v2)​

9、输入新的端口号，访问 Workfine应用端，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545069/image2021-5-20_10-46-10.png?version=1&modificationDate=1621478770413&api=v2)​

到此，基于http部署的端口修改成功！

**注意：**在输入端口时候，一定要在英文状态下输入【:】，中文状态下输入的【：】会出错，不能正常访问。

#### [10.4.4.2 基于https部署端口修改](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545071)

基于https部署的WEB服务程序有许多，如：Apahce、IIS、Nginx、Tomcat等等。

本节内容假设您已经做好了以下准备工作：

* 购买了域名并备案、以及下载了SSL证书；
* 在Windows Server 上安装了Workfine和独立数据库，并且配置好了账套；
* 在Windows Server  上安装了IIS，并且安装了SSL证书；
* 在WEB程序中 配置好了 Workfine  的应用访问；

本章以IIS为例，讲述如何更改Workfine服务端口。

1、打开IIS管理器，双击本地服务器，双击【网站】，选中之前配置好的【workfine】，再单击【绑定...】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_11-53-26.png?version=1&modificationDate=1621482805873&api=v2)​

2、选中配置好的网站后，单击【编辑 ...】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_11-56-47.png?version=1&modificationDate=1621483006757&api=v2)​

3、可以看到配置的类型为【https】，默认端口为【443】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_11-57-56.png?version=1&modificationDate=1621483076243&api=v2)​

4、注意端口不要和本服务器上别的应用程序端口相冲突，如，把端口改为【8080】，再单击【确定】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_12-0-1.png?version=1&modificationDate=1621483201403&api=v2)​

5、可以看到端口已经被更改，单击【关闭】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_12-2-1.png?version=1&modificationDate=1621483321660&api=v2)​

6、回到【Workfine】，右键选择【管理网站】，选择【重新启动】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_12-3-56.png?version=1&modificationDate=1621483436110&api=v2)​

7、回到【Workfine】，右键选择【管理网站】，选择【浏览】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_13-5-32.png?version=1&modificationDate=1621487132203&api=v2)​

8、登录访问 Workfine 应用端，可以看到端口已经被修改成了【8080】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545071/image2021-5-20_13-8-6.png?version=1&modificationDate=1621487286387&api=v2)​

到此， 基于https部署的Workfine访问端口修改成功！

## [10.5 数据库安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543686)

本章节讲述常用4种关系型数据库的安装，内容如下：

* [1.3.5.1 SQL Server](http://dochelp.bn100.com:82/display/WD3/1.3.5.1+SQL+Server?src=contextnavpagetreemode)
* [1.3.5.2 MySQL](http://dochelp.bn100.com:82/display/WD3/1.3.5.2+MySQL?src=contextnavpagetreemode)
* [1.3.5.3 Oracle](http://dochelp.bn100.com:82/display/WD3/1.3.5.3+Oracle?src=contextnavpagetreemode)
* [1.3.5.4 PostgreSQL](http://dochelp.bn100.com:82/display/WD3/1.3.5.4+PostgreSQL?src=contextnavpagetreemode)

### [10.5.1 SQL Server](https://dochelp.bn100.com/display/WD3/1.2.5.1+SQL+Server)

MS SQL Server 是微软公司开发的关系型数据库，安装前请做好相关准备工作：

* 下载安装包：cn_sql_server_2019_enterprise_x64_dvd_2bfe815a.iso。
* 安装解压缩工具： Winrar 64位 。
* 基于操作系统：Windows Server 2019 （标准版、企业版或数据中心版）。

#### [SQL Server 下载](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544260)

在安装SQL Server 2019之前，准备工作如下：

* 下载迅雷，官方网站为：[https://dl.xunlei.com/](https://dl.xunlei.com/)
* SQL Server 2019 下载网址：ed2k://|file|cn_sql_server_2019_enterprise_x64_dvd_2bfe815a.iso|1632086016|58C258FF0F1D006DD3C1F5F17AF3EAFD|/

#### [SQL Server 安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544201)

1、将下载到桌面的 cn_sql_server_2019_enterprise_x64_dvd_2bfe815a.iso 右键解压，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_9-52-51.png?version=1&modificationDate=1620282628167&api=v2)​

2、Winrar 工具会将ISO文件解压到桌面文件夹【 cn_sql_server_2019_enterprise_x64_dvd_2bfe815a】当中，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_9-55-51.png?version=1&modificationDate=1620282628183&api=v2)​

3、双击文件夹中的 “setup” 应用程序，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_9-57-42.png?version=1&modificationDate=1620282628200&api=v2)​

4、出现安装界面，单击左侧【安装】菜单，再单击【全新 SQL Server 独立安装或向现有安装添加功能】选项，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_10-3-55.png?version=1&modificationDate=1620282628213&api=v2)​

5、SQL Server 2019 会输入默认的产品密钥，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_10-5-11.png?version=1&modificationDate=1620282628230&api=v2)​

6、打勾【我授受许可条款和隐私声明】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_10-6-42.png?version=1&modificationDate=1620282628243&api=v2)​

7、我们可以跳过【使用 Microsft 更新检查更新】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_10-8-36.png?version=1&modificationDate=1620282628253&api=v2)​

8、安装规则会必须为“已通过”才能继续安装，Windows 防火墙出现了警告提示，但并无影响，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_10-10-57.png?version=1&modificationDate=1620282628267&api=v2)​

9、选择【功能】的时候，“机器学习”字样开头的均可以不选择，其它全部选中，把安装目录C盘更改成D盘，也可以安装到E盘或F盘，

只要保证磁盘有足够空间就行。单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-14-22.png?version=1&modificationDate=1620282628280&api=v2)​

10、实例配置，采用默认实例，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-18-15.png?version=1&modificationDate=1620282628293&api=v2)​

11、选择PolyBase的独立实例，单击【下一步】，如一图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-21-20.png?version=1&modificationDate=1620282628303&api=v2)​

12、提示安装 Java，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-22-27.png?version=1&modificationDate=1620282628320&api=v2)​

13、显示服务器配置，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-23-20.png?version=1&modificationDate=1620282628337&api=v2)​

14、选择【混合模式】，设计好 SQL Server 系统管理员（sa）的密码，单击【添加当前用户】添珈管理员账号，再单击【下一步】，如一图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-25-4.png?version=1&modificationDate=1620282628350&api=v2)​

15、选择【表格模式】，然后单击【添加当前用户】添加管理员账号，再单击【下一步】，如一图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-27-24.png?version=1&modificationDate=1620282628363&api=v2)​

16、选择【新建SSL证书】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-30-51.png?version=1&modificationDate=1620282628377&api=v2)​

17、采用默认产生的网址，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-31-39.png?version=1&modificationDate=1620282628387&api=v2)​

18、单击【添加当前用户】添加管理员账号，再单击【下一步】，如一图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-32-48.png?version=1&modificationDate=1620282628397&api=v2)​

19、控制器名称可以不填写，工作目录与结果目录是自动生成的，单击【下一步】，如图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-33-42.png?version=1&modificationDate=1620282628410&api=v2)​

20、安装选项设置准备好，单击【安装】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-34-35.png?version=1&modificationDate=1620282628420&api=v2)​

21、开始复制文件，请耐心等待，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_13-36-15.png?version=1&modificationDate=1620282628430&api=v2)​

22、安装成功以后，系统会出现详细信息：Install sucessful. 单击【关闭】即可，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544201/image2021-5-6_14-25-51.png?version=1&modificationDate=1620282628443&api=v2)​

到此，MS SQL Server 2019 企业版成功安装！

特别说明：MS SQL Server 2019 只适合 Windows 操作系统，Linux 平台不支持。

#### [SQL Server 管理工具](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544203)

当MS SQL Server 2019  安装成功以后，如何连接到服务器，并且对数据库进行操作呢？

我们需要安装 SQL Server 管理工具，步骤如下：

1、找到SQL Server 2019 安装文件夹中的 “setup” 应用程序，双击运行，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544203/image2021-5-6_9-57-42.png?version=1&modificationDate=1620282754477&api=v2)​

**2、找到【安装】菜单，单击【安装 SQL Server 管理工具】，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544203/image2021-5-6_14-35-22.png?version=1&modificationDate=1620282921577&api=v2)​

**3、在打开的网站中，下载 SSMS ，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544203/image2021-5-6_14-40-44.png?version=1&modificationDate=1620283243887&api=v2)​

**4、下载的文件名为：SSMS-Setup-CHS.exe，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544203/image2021-5-6_14-41-27.png?version=1&modificationDate=1620283287217&api=v2)​

**5、下载完成后，双击运行，采用默认安装位置，点击【安装】，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544203/image2021-5-6_14-43-16.png?version=1&modificationDate=1620283396073&api=v2)​

**6、出现安装总体进度的画面，请耐心等待，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544203/image2021-5-6_14-45-34.png?version=1&modificationDate=1620283533333&api=v2)​

**7、安装结束以后，为了保证程序能正常运行，单击【重新启动】，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544203/image2021-5-6_14-48-6.png?version=1&modificationDate=1620283685390&api=v2)​

到此，  SQL Server Management Studio (SSMS) 18.9.1 安装工具安装成功！

下一小节，讲述如何用此管理工具连接到SQL Server 2019。

#### [SQL Server 连接](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544245)

本小节重点讲述如何用 SQL Server 管理工具：SQL Server Management Studio (SSMS) 18.9.1 来连接访问 MS SQL Server 2019。

操作步骤如下：

1、从开始菜单，找到【Microsft SQL Server Managemenet Studio 18】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544245/image2021-5-6_14-56-40.png?version=1&modificationDate=1620284199540&api=v2)​

2、启动时的画面，显示了版本信息： V18.9.1，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544245/image2021-5-6_14-59-4.png?version=1&modificationDate=1620284343787&api=v2)​

3、身份验证选择【SQL Server 身份证验证】，登录名输入【sa】（注意一定要小写），再输入安装SQL Server 2019时设置的密码，单击【连接】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544245/image2021-5-6_15-1-19.png?version=1&modificationDate=1620284478690&api=v2)​

4、连接成功以后，将出现如下画面，红色方框标注的是系统默认创建的数据库名。以后用 Workfine 配置SQL Server 2019 创建的数据库也会出现在这里。

​![](https://dochelp.bn100.com/download/attachments/24544245/image2021-5-6_15-4-19.png?version=1&modificationDate=1620284659107&api=v2)​

到此，用SQL Server 管理工具成功连接 SQL Server 2019！

### [10.5.2 MySQL](https://dochelp.bn100.com/display/WD3/1.2.5.2+MySQL)

* MySQL 是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，属于 Oracle 旗下产品。MySQL 是最流行的关系型数据库管理系统之一。
* MySQL 将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。
* MySQL 所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型网站的开发都选择 MySQL 作为网站数据库。

#### [MySQL 下载](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544264)

进入官方网站：[https://dev.mysql.com/downloads/windows/installer/8.0.html](https://dev.mysql.com/downloads/windows/installer/8.0.html)

**一、基于 Windows 平台的安装包下载**

1、选择【mysql-installer-community-8.0.24.0.mis】，单击【Download】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544264/image2021-5-6_16-26-1.png?version=1&modificationDate=1620289560520&api=v2)​

2、单击【No thanks,just start my download.】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544264/image2021-5-6_16-28-11.png?version=1&modificationDate=1620289690613&api=v2)​

3、开始下载，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544264/image2021-5-6_16-30-7.png?version=1&modificationDate=1620289807173&api=v2)​

4、最后，成功下载安装包文件：mysql-installer-community-8.0.24.0.msi （社区版）

**二、基于 Linux 平台的安装包下载**

1、从下拉列表选择对应的Linux版本，我们这里选择 Red Hat Enterprise Linux / Oracle Linux ，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544264/image2021-5-7_8-18-29.png?version=1&modificationDate=1620346708937&api=v2)​

2、单击【Download】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544264/image2021-5-7_8-21-20.png?version=1&modificationDate=1620346879947&api=v2)​

3、单击【No thanks,just start my download.】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544264/image2021-5-6_16-28-11.png?version=1&modificationDate=1620289690613&api=v2)​

4、开始下载，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544264/image2021-5-7_8-24-13.png?version=1&modificationDate=1620347053177&api=v2)​

5、最后，成功下载安装包文件：[mysql-8.0.24-1.el8.x86_64.rpm-bundle.tar](https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-8.0.24-1.el8.x86_64.rpm-bundle.tar) （ tar是压缩包，需在Linux下面解压后安装）

**特别说明：**

**社区版和企业版主要区别有以下两点：**  
1、企业版只包含稳定之后的功能，社区版包含所有Mysql的最新功能。社区版是企业版的测试版，但是，前者的功能要比后者多。  
2、官方的支持服务只针对企业版，用户在使用社区版时出现任何问题，Mysql官方概不负责。

#### [MySQL 安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544266)

##### [MySQL-Windows](https://dochelp.bn100.com/display/WD3/MySQL-Windows)

1、从桌面上双击安装包文件 mysql-installer-community-8.0.24.0.exe ，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-30-43.png?version=1&modificationDate=1620347443333&api=v2)​

2、出现 MySQL Installer 1.4 界面，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-32-24.png?version=1&modificationDate=1620347544227&api=v2)​

3、选择【Server only】，保选择安装服务端，单击【Next】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-34-3.png?version=1&modificationDate=1620347643437&api=v2)​

4、准备安装，单击【Excute】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-35-16.png?version=1&modificationDate=1620347715733&api=v2)​

5、安装完成，单击【Next】,如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-36-17.png?version=1&modificationDate=1620347777377&api=v2)​

6、进行配置，单击【Next】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-37-1.png?version=1&modificationDate=1620347820930&api=v2)​

7、Config Type：选择【Server Computer】，其它采用默认值，单击【Next】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-38-23.png?version=1&modificationDate=1620347903077&api=v2)​

8、Authenticatoin Method 采用默认选项，单击【Next】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-40-44.png?version=1&modificationDate=1620348044133&api=v2)​

9、设置管理员 root  账号密码，这里请设置复杂密码（大小写+数字+字符），单击【Next】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-42-52.png?version=1&modificationDate=1620348172387&api=v2)​

10、Windows 系统服务名，采用默认值：MySQL80，单击【Next】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-44-20.png?version=1&modificationDate=1620348260537&api=v2)​

11、即将对上述配置进行安装，单击【Execute】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-45-30.png?version=1&modificationDate=1620348329927&api=v2)​

12、进行配置，单击【Finish】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-47-9.png?version=1&modificationDate=1620348429427&api=v2)​

13、产品安装配置完成，单击【Next】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-54-12.png?version=1&modificationDate=1620348851960&api=v2)​

14、安装结束，单击【Finish】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544277/image2021-5-7_8-55-33.png?version=1&modificationDate=1620348933140&api=v2)​

到此，MySQL 安装成功！

##### [MySQL-Linux](https://dochelp.bn100.com/display/WD3/MySQL-Linux)

（略）待完成！

#### [Navicat 管理工具](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544268)

Navicat Premium 是一套数据库开发工具，支持连接 MySQL、MariaDB、MongoDB、SQL Server、Oracle、PostgreSQL 和 SQLite 数据库。

官方网站为：[http://www.navicat.com.cn/](http://www.navicat.com.cn/)

1、进入网址 [http://www.navicat.com.cn/download/navicat-premium](http://www.navicat.com.cn/download/navicat-premium)，单击【直接下载 64位】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-13-15.png?version=1&modificationDate=1620349995323&api=v2)​

2、下载安装包文件，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-14-58.png?version=1&modificationDate=1620350098180&api=v2)​

3、双击运行安装包文件，单击【下一步】，如下图所示 ：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-16-42.png?version=1&modificationDate=1620350202450&api=v2)​

4、打勾【我同意】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-18-9.png?version=1&modificationDate=1620350289047&api=v2)​

5、设置安装路径，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-19-7.png?version=1&modificationDate=1620350347430&api=v2)​

6、创建桌面图标，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-20-14.png?version=1&modificationDate=1620350413533&api=v2)​

7、路径设置好，单击【安装】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-21-22.png?version=1&modificationDate=1620350482133&api=v2)​

8、正在安装，复制文件，下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-22-5.png?version=1&modificationDate=1620350525147&api=v2)​

9、安装成功，单击【完成】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544268/image2021-5-7_9-23-2.png?version=1&modificationDate=1620350581903&api=v2)​

到此，Navicat 安装成功！

#### [MySQL 连接](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544271)

本节，我们将讲述用 Navicat 连接到MySQL。（MySQL 事先已经安装在了 Windows Server 2019 服务器上）

1、从桌面上双击  Navicat Preminum 15，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544271/image2021-5-7_9-25-25.png?version=1&modificationDate=1620350725387&api=v2)​

2、选择【试用】，如下国所示：

​![](https://dochelp.bn100.com/download/attachments/24544271/image2021-5-7_9-27-57.png?version=1&modificationDate=1620350877080&api=v2)​

3、单击“连接”菜单，选择【MySQL...】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544271/image2021-5-7_9-29-27.png?version=1&modificationDate=1620350966690&api=v2)​

4、输入连接名和密码，如下图所示：（因为MySQL 是安装在本地服务器上，所以主机是 localhost，或127.0.0.1 均可，默认3306端口）

​![](https://dochelp.bn100.com/download/attachments/24544271/image2021-5-7_9-32-30.png?version=1&modificationDate=1620351150377&api=v2)​

5、单击【测试连接】，显示连接成功！如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544271/image2021-5-7_9-34-12.png?version=1&modificationDate=1620351251900&api=v2)​

6、单击【确定】按钮，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544271/image2021-5-7_9-36-59.png?version=1&modificationDate=1620351418773&api=v2)​

7、双击连接名：MySQL on Server 2019，可以看到展开4个系统默认的数据库，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544271/image2021-5-7_9-38-44.png?version=1&modificationDate=1620351524053&api=v2)​

到此，Navicat 连接 MySQL 成功！

以后用 Workfine 创建MySQL账套的数据库名，将会显示出现在这里。

### [10.5.3 Oracle](https://dochelp.bn100.com/display/WD3/1.2.5.3+Oracle)

官网下载地址：链接: [https://www.oracle.com/database/technologies/oracle-database-software-downloads.html]()  
请下载对应的  Windows  和  Linux 版本安装包。

#### [Oracle 下载](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544347)

1、官网地址：[https://www.oracle.com/database/technologies/oracle-database-software-downloads.html]()  
2、版本信息： Oracle Database 19c

​![](https://dochelp.bn100.com/download/attachments/24544347/image2021-5-7_10-49-42.png?version=1&modificationDate=1620355782357&api=v2)​

3、根据上面的标注，对应 Windwos 和 Linux 平台下载好安装包。

4、官网要求注册并登录账号才能下载，按提示注册账号后即可下载。

#### [Oracle 安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544352)

##### [Oracle-Windows](https://dochelp.bn100.com/display/WD3/Oracle-Windows)

**本节安装教程是基于Windows Server 2019操作系统，其它版本，如：Windows 2012/2016 等操作过程类同。**

1、解压下载好的 Oracle 19c 安装包文件：WINDOWS.X64_193000_db_home.zip，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_11-43-8.png?version=1&modificationDate=1620369308527&api=v2)​

2、双击安装文件【setup.exe】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_11-44-15.png?version=1&modificationDate=1620369308540&api=v2)​

3、选择【创建并配置单实例数据库】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_11-45-41.png?version=1&modificationDate=1620369308553&api=v2)​

4、选择【服务器类】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_11-47-50.png?version=1&modificationDate=1620369308563&api=v2)​

5、选择【典型安装】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_11-48-45.png?version=1&modificationDate=1620369308577&api=v2)​

6、选择【创建新  Windows 用户】，新设置好用户名和密码，密码过于简单会有提示，上图中设置好口令后，单击【下一步】。

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_11-56-2.png?version=1&modificationDate=1620369308587&api=v2)​

7、可以设置Oracle安装目录，选择数据库版本，以及全局数据库名的口令，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_11-58-56.png?version=1&modificationDate=1620369308600&api=v2)​

8、先决条件检查通过后，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_12-2-9.png?version=1&modificationDate=1620369308617&api=v2)​

9、显示Oracle安装概要信息，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_12-3-2.png?version=1&modificationDate=1620369308633&api=v2)​

10、开始复制安装文件，请耐心等待安装完成，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_12-4-4.png?version=1&modificationDate=1620369308647&api=v2)​

11、Oracle Database 配置成功，单击【关闭】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_13-9-31.png?version=1&modificationDate=1620369308670&api=v2)​

12、找到 OraleServiceORCL，查看服务状态，天在运行，说明安装成功，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_13-13-12.png?version=1&modificationDate=1620369308697&api=v2)​

13、浏览器打开网址 [https://localhost:5500/em/shell](https://localhost:5500/em/shell) ，用户名 sys，密码是上面第7步安装全局数据库时设置的口令，单击【Log in】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_13-19-38.png?version=1&modificationDate=1620369308710&api=v2)​

14、可以看到数据库的情况，即代表安装成功！如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544412/image2021-5-7_13-23-5.png?version=1&modificationDate=1620369308730&api=v2)​

到此，Oracle 19c 数据库安装成功！

##### [Oracle-Linux](https://dochelp.bn100.com/display/WD3/Oracle-Linux)

略

#### [Oracle 连接](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544380)

略

### [10.5.4 PostgreSQL](https://dochelp.bn100.com/display/WD3/1.2.5.4+PostgreSQL)

#### [PostgreSQL 下载](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544404)

略

#### [PostgreSQL 安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544406)

##### [PostgreSQL-Windows](https://dochelp.bn100.com/display/WD3/PostgreSQL-Windows)

略

##### [PostgreSQL-Linux](https://dochelp.bn100.com/display/WD3/PostgreSQL-Linux)

略

#### [PostgreSQL 连接](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544408)

略

### [10.5.5 LocalDB](https://dochelp.bn100.com/display/WD3/1.2.5.5+LocalDB)

* LocalDB，是指SQL Server Express LocalDB，是只有几十MB的超级精简版本。
* 它是一种面向开发人员的安装将复制启动 SQL Server 数据库引擎所需的最少的文件集。
* Workfine 基于Windows平台下面的安装包，默认集成了LocalDB，一键安装部署即可。

## [10.6 操作系统安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543688)

* 本节我们讲述操作系统的安装过程；
* 我们需要先下载好操作系统原版镜像ISO文件；
* 需要将操作系统原版镜像ISO文件，写入U盘并制作成引导盘，从U盘可以引导系统进行安装；
* 不推荐采用Ghost克隆的方式来安装 Windows 系统，因为Ghost安装完成以后，往往会置入大量广告或木马程序文件。
* Linux 操作系统，大家要了解并掌握常用的系统命令、配置防火墙和端口、安装Mysql数据等操作；

### [10.6.1 Windows安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543776)

本章节讲述如何安装Windows操作系统，内容如下：

* [Windows 光盘ISO文件下载](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544039&src=contextnavpagetreemode)
* [Winodws 引导U盘制作](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544067&src=contextnavpagetreemode)
* [Windows 7 旗舰版](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544026&src=contextnavpagetreemode)
* [Windows 10 旗舰版](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544028&src=contextnavpagetreemode)
* [Windows Server 2019 数据中心版](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544030&src=contextnavpagetreemode)

#### [Windows 光盘ISO文件下载](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544039)

**1、Windows 7 With SP1 64位简体中文旗舰版（MSDN原版）**

迅雷下载链接：ed2k://%7Cfile%7Ccn_windows_7_enterprise_x64_dvd_x15-70741.iso%7C3203516416%7C876DCF115C2EE28D74B178BE1A84AB3B%7C/

**2、Windows 10 64位原版1809 （多版本合集：专业版、企业版、旗舰版）**

迅雷下载链接：ed2k://|file|cn_windows_10_consumer_edition_version_1809_updated_sept_2018_x64_dvd_051b7719.iso|4808400896|B740D15C0A6056F4955A37792AB92501|/

**3、Windows Server 2019 64位 原版（多版本合集：标准版、企业版、数据中心版）**

     迅雷下载链接：ed2k://%7Cfile%7Ccn_windows_server_2019_updated_oct_2020_x64_dvd_a24ba983.iso%7C5726801920%7C043A4942E96482EB4D486B329244743D%7Ch=EZAFMT7H54VSH552V56W6QVNHUBQ4J4T%7C/

**关于操作系统的永久激活，请大家支持正版，购买激活序列号。**

#### [Winodws 引导U盘制作](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544067)

一、准备一个大于4GB的U盘（容量选择8GB、16GB、32GB或128GB），如下图所示USB接口的U盘：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_1-43-47.png?version=1&modificationDate=1620065840580&api=v2)​

二、下载好 [Windows 7 旗舰版](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544026) 镜像ISO光盘文件：cn_windows_7_ultimate_with_sp1_x64_dvd_677408.iso

三、下载好 UltraISO 软碟通单文件绿色版。下载地址：[https://8dx.pc6.com/hc6/UltraISO_v9.7.5.3716.exe](https://8dx.pc6.com/hc6/UltraISO_v9.7.5.3716.exe)

四、启动UltraISO工具，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_1-54-31.png?version=1&modificationDate=1620065840610&api=v2)​

五、选择菜单【文件】→【打开】，选择下载好的ISO文件：cn_windows_7_ultimate_with_sp1_x64_dvd_677408.iso，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_1-58-59.png?version=1&modificationDate=1620065840633&api=v2)​

六、把U盘插入电脑的USB接口中，准备将ISO镜像文件写入到U盘中。

七、点击菜单【启动】，选择【写入硬盘映像...】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_2-3-13.png?version=1&modificationDate=1620065840660&api=v2)​

八、采用默认的写入方式：USB-HDD+，鼠标单击【写入】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_2-6-53.png?version=1&modificationDate=1620065840680&api=v2)​

九、会指示U盘中的所有数据会丢失，单击【是】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_2-10-49.png?version=1&modificationDate=1620065840700&api=v2)​

十、开始写入文件，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_2-12-6.png?version=1&modificationDate=1620065840717&api=v2)​

十一、当100%成功写入以后，会有消息提醒刻录成功！如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544067/image2021-5-4_2-18-53.png?version=1&modificationDate=1620065932237&api=v2)​

到此，Windows７系统引导盘制作完成！

**说明：在上面第五步中，选择不同的操作系统ISO文件，就可以制作各种Win 10 以及Server操作系统的系统引导U盘。**

#### [Windows 7 旗舰版](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544026)

1、将制作好的 Windows 7  系统引导U盘，插入电脑USB接口中；

2、重新启动电脑，一般只要按 F8、F9、F10、F11或F12，（可以咨询不同品牌的售后服务）。

      从USB接口的U盘引导系统后，出现界面如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544026/image2021-5-5_14-50-27.png?version=1&modificationDate=1620197426827&api=v2)​

3、选择要安装的操作系统，选中【Windows 7 旗舰版】，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544026/image2021-5-4_15-0-14.png?version=1&modificationDate=1620111615067&api=v2)​

4、开始安装并复制文件，请耐心等待，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544026/image2021-5-4_15-3-29.png?version=1&modificationDate=1620111809440&api=v2)​

5、安装完成，提示需要重新启动，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544026/image2021-5-4_15-16-46.png?version=1&modificationDate=1620112606680&api=v2)​

6、重新启动电脑后，安装程序正在为首次使用计算机做准备，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544026/image2021-5-4_15-17-0.png?version=1&modificationDate=1620112620163&api=v2)​

7、安装完成后，进入了桌面，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544026/image2021-5-5_15-0-18.png?version=1&modificationDate=1620198016950&api=v2)​

8、接下来安装电脑的主板、显卡等驱动程序（可以咨询官方售后服务来安装驱动）。

9、到此，Windows 7 系统安装完成。

10、请购买正版序列号来激活 Windows 7 ，即时升级系统补丁。

#### [Windows 10 旗舰版](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544028)

1、将制作好的 Windows 10  系统引导U盘，插入电脑USB接口中；

2、重新启动电脑，一般只要按 F8、F9、F10、F11或F12，（可以咨询不同品牌电脑的售后服务）。

      从USB接口引导系统后，出现界面如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-8-13.png?version=1&modificationDate=1620115693507&api=v2)​

3、选择要安装的语言，时间和货币格式，以及键盘和输入方法，确定以后，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-8-51.png?version=1&modificationDate=1620115732043&api=v2)​

4、单击【现在安装】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-9-25.png?version=1&modificationDate=1620115765493&api=v2)​

5、在【我接受许可条款】前打勾，点击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-10-2.png?version=1&modificationDate=1620115802553&api=v2)​

6、选择【自定义】项，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-10-42.png?version=1&modificationDate=1620115842573&api=v2)​

7、选择主分区，然后单击【格式化】，将数据全部删除，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-11-22.png?version=1&modificationDate=1620115882310&api=v2)​

8、单击【下一步】，开始安装文件到C盘，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-12-25.png?version=1&modificationDate=1620115945387&api=v2)​

9、开始安装 Windows 系统，复制文件直到安装完成，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-13-11.png?version=1&modificationDate=1620115991443&api=v2)​

10、完成后会出现重启界面，此时直接拔掉U盘，让其自动重启即可。如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-13-58.png?version=1&modificationDate=1620116038553&api=v2)​

11、登录以后，会设置【快速上手】，选择自定义，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-14-58.png?version=1&modificationDate=1620116098167&api=v2)​

12、将【个性化】选 项，全部关闭，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-16-17.png?version=1&modificationDate=1620116177140&api=v2)​

13、关于连接性和错误报告，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-17-5.png?version=1&modificationDate=1620116225093&api=v2)​

14、创造用户和密码，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-17-43.png?version=1&modificationDate=1620116264050&api=v2)​

15、配置用户登录界面，会显示一些文字信息，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-18-25.png?version=1&modificationDate=1620116305670&api=v2)​

16、最后配置完成，显示桌面，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544028/image2021-5-4_16-19-9.png?version=1&modificationDate=1620116349243&api=v2)​

17、到此，Windows 10 操作系统安装完成！

18、请购买正版序列号来激活 Windows 10 ，即时升级系统补丁。

#### [Windows Server 2019 数据中心版](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544030)

服务器的容量，通常是配置多个硬盘（通常大于5个硬盘），为了数据的可靠性，通常会采用 RAID 5 技术，请在服务器厂商技术工程师的指导下完成设置。

本节我们重点讲述2方面的内容：

1、[从U盘引导安装](http://dochelp.bn100.com:82/pages/viewpage.action?pageId=24544137&src=contextnavpagetreemode)；

2、服务器磁盘分区；

##### [U盘引导安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544137)

1、将制作好的 Windows Server 2019 系统引导U盘，插入电脑USB接口中；

2、重新启动电脑，一般只要按 F8、F9、F10、F11或F12，（可以咨询不同品牌电脑的售后服务）。

      从USB接口引导系统后，出现界面如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544137/image2021-5-4_16-8-13.png?version=1&modificationDate=1620202592220&api=v2)​

**3、选择  Windows Server 2019 Datacenter （桌面体验），单击【下一步】，如下图所示：**

​![](https://dochelp.bn100.com/download/attachments/24544137/image2021-5-5_15-51-1.png?version=1&modificationDate=1620202592233&api=v2)​

**4、正在安装复制 Windows 文件，如下图所示：**

​![image2021-5-4_16-13-11.png](http://dochelp.bn100.com:82/download/attachments/24544028/image2021-5-4_16-13-11.png?version=1&modificationDate=1620115991443&api=v2)​

5、文件复制好以后，重新启动，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544137/image2021-5-5_16-6-39.png?version=1&modificationDate=1620202592243&api=v2)​

6、默认的用户名为：  admin 密码为空，直接登录，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544137/image2021-5-5_16-8-20.png?version=1&modificationDate=1620202592257&api=v2)​

7、关闭服务器管理器，回到干净的桌面，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544137/image2021-5-5_16-11-10.png?version=1&modificationDate=1620202592267&api=v2)​

8、到此，Windows Server 2019 数据中心版安装完成！

9、请购买正版序列号来激活 Windows Server 2019 数据中心版 ，即时升级系统补丁。

##### [磁盘分区](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544139)

1、点击【开始】菜单，选择【服务器管理器】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-27-38.png?version=1&modificationDate=1620203257087&api=v2)​

2、找到菜单【工具】，单击【计算机管理】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-32-20.png?version=1&modificationDate=1620203539580&api=v2)​

3、单击【磁盘管理】，只看到系统目前只有一个C盘，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-35-0.png?version=1&modificationDate=1620203699293&api=v2)​

4、右键C盘，选择【压缩卷】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-36-38.png?version=1&modificationDate=1620203797163&api=v2)​

5、输入压缩空间量（MB），这里的意思是说，除C盘以外，可以设置多少可用的磁盘空间，我们输入 120GB，即 120000MB，单击【压缩】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-40-18.png?version=1&modificationDate=1620204017857&api=v2)​

6、会出现【未分配】的磁盘空间，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-43-20.png?version=1&modificationDate=1620204199100&api=v2)​

7、鼠标右键，选择【新建简单卷】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-44-43.png?version=1&modificationDate=1620204281997&api=v2)​

8、系统默认是将余下的空间全部分配到一个卷中，这里我们默认选择全部，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-46-2.png?version=1&modificationDate=1620204361900&api=v2)​

9、选择分配驱动器盘符，采用默认E盘，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-49-0.png?version=1&modificationDate=1620204539510&api=v2)​

10、格式化磁盘文件系统，采用NTFS，单击【下一步】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-50-16.png?version=1&modificationDate=1620204615160&api=v2)​

11、新建简单卷向导完成，单击【完成】，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-51-43.png?version=1&modificationDate=1620204702380&api=v2)​

12、之前未分配卷，现在就显示为E盘，状态良好，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24544139/image2021-5-5_16-53-13.png?version=1&modificationDate=1620204792600&api=v2)​

13、到此，Windows Server 2019 数据中心版磁盘分区完成！

**特别说明：**

* 在上面第8步的地方，可以设计多个简单卷的大小，从而可以创建多个磁盘的分区来进行管理;;
* Windows Server 2019 请购买正版激活序列号的方式来激活；

### [10.6.2 Linux安装](https://dochelp.bn100.com/pages/viewpage.action?pageId=24543778)

Linux 版本比较多，本节以 Redhat Enterprise Linux 8 为例，讲述详细的[安装过程](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544034)。

#### [下载 Redhat Linux](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545799)

1、登录网址 [https://developers.redhat.com/products/rhel/download](https://developers.redhat.com/products/rhel/download) ，下载 DVD iso x86_64（9 GB）如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545799/image2021-6-1_8-28-36.png?version=1&modificationDate=1622507316263&api=v2)​

2、下载需要首先成为注册用户，若为新用户，会提示注册，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545799/image2021-6-1_8-30-59.png?version=1&modificationDate=1622507459753&api=v2)​

3、注册登录以后，再下载最新版本，如下图所示：

​![](https://dochelp.bn100.com/download/attachments/24545799/image2021-6-1_8-34-4.png?version=1&modificationDate=1622507644633&api=v2)​

到此，下载 Redhat Enterprise Linux 成功。

#### [制作 Redhat Linux 引导U盘](https://dochelp.bn100.com/pages/viewpage.action?pageId=24545811)

本节内容可以参考[【Winodws 引导U盘制作】](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544067)的方法，制作的时候，只要选择 Redhat Linux 系统镜像光盘文件即可。

#### [安装 Redhat Linux](https://dochelp.bn100.com/pages/viewpage.action?pageId=24544034)

1、下载的系统ISO文件制作成U盘引导盘，开启服务器，从U盘引导，安装界面如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/7b05b5cce02200003ae1737353468211.jpg)​

2、语言选择中文，单击【继续】，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/0da19b25921c55a4f6e6efbd891d0a28.jpg)​

3、安装配置主界面中，首先配置磁盘分区，选择下图中的"安装目的地"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/d8a14a3348012bd3e704f7d72a711dae.jpg)​

4、选择自定义磁盘分区，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/65fbb032a5833565dcc5145773f56b26.jpg)​

5、首先创建一个 swap 交换分区，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/b62f495acceed6bf724150295b93a393.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/c2102a3370693b6f445fc59e610ca7b1.jpg)​

6、继续创建 /boot 分区，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/b34f1643b2c8f4e2d8ece47d5d9ea116.jpg)​

7、最后所有的磁盘空间，全部划到 / 分区，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/54a08764a89b1756234550357b7daf59.jpg)​

8、分区完成后的信息如下，点击完成。

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/0157f1a614e9085472ab00f44580f6a3.jpg)​

9、在提示信息中，选择 接受更改，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/812b86ae65c254bb5bca683638d4c0ad.jpg)​

10、安装配置主界面中，禁用 kdump，选择下图中的"KDUMP"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/d8a14a3348012bd3e704f7d72a711dae.jpg)​

11. 去掉系统默认的，启用kdump，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/81f376b7f26b16271ee1637bd6d66340.jpg)​

12、安装配置主界面中，继续配置网络，选择下图中的"网络和主机名"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/1978c57a15febe9637c70feaa39ce0ad.jpg)​

13、在配置窗口中，修改 主机名，并启用 以太网连接，如下图所示 ：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/aacd9cefb252aadfe40c8dd4da7ae479.jpg)​

14、在网络的配置中，修改IPV4 地址，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/d5b0630af68302fafe2541b4dd34a92f.jpg)​

15、禁用配置IPV 6 的功能，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/d7939e7b57173deeeb04ce154813d336.jpg)​

16、网络配置完成后，在网络的主界面中，选择"完成"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/05f59eda9043b0f5708f9520d1c6ccd1.jpg)​

17、安装配置主界面中，继续配置要安装的软件，选择下图中的"软件选择"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/1978c57a15febe9637c70feaa39ce0ad.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/9d6e95bf466e9dbe78650548e680c4c7.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/d5bdb8650bdc14f7927d856479c3eeac.jpg)​

18、安装中必须的磁盘分区、KDUMP、网络和主机名、软件选择 都配置好后，点击 "开始安装"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/0f3c4f54d8bf5fb03eae7676dd878758.jpg)​

19、在安装界面中，为Linux 默认的 root 设置密码，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/8e9cc6f75adcdf928f6e206690c46a67.jpg)​

20、系统正在根据配置，进行Linux 相应软件包的安装，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/ad85c6610231c12e80abaf16f0047b24.jpg)​

21、软件安装完成后，点击"重启"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/14a736563e69218b4ed1fb728d6d7c2c.jpg)​

22、系统安装完成后，第一次启动并进入Redhat Linux 系统，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/1a291547053e360b9479045b056db090.jpg)​

23、第一次启动配置界面中，必须进行 Licensing 的配置，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/44311462509123ad421eb8c926ed4b80.jpg)​

24、Licensing 许可信息，必须选择接受，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/a2399b7a919d84cb5eea07bfb73e4fea.jpg)​

25、Licensing 配置完成后，点击右下的 "结束配置"，如下图所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/c7315b0cbd510066dcb3d0e4f5d248d9.jpg)​

26、第一次进入Linux，向导会引导创建一个非最高管理员的普通用户，如下操作步骤所示：

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/53b93406a87761e0800a6a687bb93d85.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/89e73d47344685398240852a18594d71.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/b35d41cdb48da8bffc386c635c047728.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/9c8297222e4162b7fb3f5e5bc359b826.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/7bc01ade46eeb6e67cf73c3140a0d756.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/78d369a1151a5449530dd332b3c24a89.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/f00bd8c266b29601c2b85c51832ddfb8.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/6404e30597cc37846f6e18e3bc04156d.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/e1760a0bc910fe0d3fbadd54a3a7d546.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/897ac5bcbb1813a2a78335f65506d39f.jpg)​

​![最新 Redhat Enterprise Linux 8.2  系统安装图解](https://www.isolves.com/d/file/p/2020/07-28/ebc66f10f5d149af0b40ef666dc750fb.jpg)​

至此，Redhat Enterprise Linux 8 安装完成。

## [10.7 链接外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713974)

本节主要介绍通过设计器功能，如何连接外部系统数据，本节讲解过程将以连接SQLserver数据为实例给大家讲解。

链接的过程其实是挑选数据信息的过程，链接之前我们需要弄清楚对应的数据库结构，以及每个数据表对应的字段含义。

不同类型的数据源，链接过程稍有不同，请大家参照各自的外联数据库类型，进行不同的链接。

     1、登陆设计器，点击数据集成--外部数据源—新增，弹出外部数据源的新增界面。

     2、在新增外部数据源界面填写外联名称和数据源名称，选择数据源类型(图二1)；编辑输入数据源链接信息(图二2)；

输入安全验证的用户名和密码(图二3)；如果验证通过，则可以选择该数据源下对应的数据库(图二五)；链接完成，保存即可。

**不同的数据库链接方式会有不同，可参照下节内容，对具体数据库做具体配置。**

​![](https://dochelp.bn100.com/download/attachments/41713974/image2019-10-29_9-19-49.png?version=1&modificationDate=1655187972237&api=v2)![](https://dochelp.bn100.com/download/attachments/41713974/image2019-10-29_9-20-59.png?version=1&modificationDate=1655187972220&api=v2)​

### [10.7.1 SQL Server外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713977)

**连接前准备：**

      由于Windows默认不带SQLServer ODBC驱动，所以需要用户手动安装一下。网上存在一个ODBC的独立安装包，但这个安装包仅适用于SQLServer2012及过去版本。

微软官方的SQLServer Management studio（简称SSMS）工具自带了最新的ODBC驱动包，所以我们只需要安装SSMS即可。官方下载地址是：[https://aka.ms/ssmsfullsetup](https://aka.ms/ssmsfullsetup)，下载完毕后一路下一步完成安装即可。

**SQL Server建立外部数据源**

本步骤需要将已有的一个数据库实例中的数据库绑定到Workfine中，使得Workfine可以直接访问该数据库并获取数据。

​![](https://dochelp.bn100.com/download/attachments/41713977/image2019-8-29_9-13-7.png?version=1&modificationDate=1655187972360&api=v2)​

本教程以常用的SQL Server为例，在设计端的数据集成=>外部数据源界面中点击【新建】按钮，将已有的SQL Sever实例所在地址、端口、登录信息输入到对应位置。点击绑定区域的绑定数据库下拉，Workfine将会自动根据设计者提供的连接信息尝试获取数据库列表。如果获取成功，设计者需要选择一个已有库进行绑定。如需绑定多个数据库，可以再次新增一个外部数据源实例。如果信息正确，选择数据库后点击【新建】，则可以完成外部数据库的新建工作。

### [10.7.2 MySQL外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713979)

#### **概述**

    由于MySQL非微软体系软件，需要通过安装ODBC驱动并建立DSN的方式来实现对MySQL数据的访问。

#### **安装ODBC驱动**

      MySQL版本较复杂，不同版本的ODBC常规下不兼容，需要用户去主动下载当前使用版本的MySQL ODBC驱动程序。本教程以5.1.73为例，简单讲解ODBC驱动的下载和安装。注：本操作应在Workfine服务所在服务器中进行。  
1、所有版本ODBC驱动官方下载地址为：[https://downloads.mysql.com/archives/c-odbc/](https://downloads.mysql.com/archives/c-odbc/)，在浏览器中打开该地址，在【Product Version】下拉中选择MySQL的对应大版本信息（本教程为1.73，则取对应版本号为5.1.7）；  
2、在【Operating System】中选择Microsoft Windows；OS Version中选择【Windows（x86,64-bit）】在下载列表中点击【MSI Installer】右侧的【Download】按钮（由于服务器在国外，下载速度略有影响，请耐心等待安装包下载完毕或根据文件名在国内相关网站搜索下载）![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-15-51.png?version=1&modificationDate=1655187972610&api=v2)​

3、运行下载的安装包，在欢迎页点击【next】

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-19-19.png?version=1&modificationDate=1655187972593&api=v2)​

4、在功能选择页面选择【complete】，并点击【next】

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-19-41.png?version=1&modificationDate=1655187972563&api=v2)​

5、在准备页中选择【Install】

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-21-20.png?version=1&modificationDate=1655187972547&api=v2)​

安装完毕后点击【finish】即可。

#### **建立ODBC DSN**

注：本操作应在Workfine服务所在服务器中进行。

1、打开控制面板，右上角选择【大图标】，在列表中选择【管理工具】

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-25-24.png?version=1&modificationDate=1655187972517&api=v2)​

2、双击运【“ODBC数据源（64位）】

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-25-37.png?version=1&modificationDate=1655187972500&api=v2)​

3、在ODBC界面中选择【系统DSN】，点击右侧【添加】，新增数据源记录

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-26-5.png?version=1&modificationDate=1655187972487&api=v2)​

4、在弹出界面中选择【MySQL ODBC X.X Driver】，其中版本号部分与刚才安装的版本号一致，点击【完成】

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-26-28.png?version=1&modificationDate=1655187972470&api=v2)​

5、在弹出界面中按图片备注内容进行填写。其中：数据源名称建议使用英文，基本连接方式输入完成后可以点击【test】测试连接再在下拉中选择数据库

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-29-23.png?version=1&modificationDate=1655187972437&api=v2)​

6、选择完数据库后点击【OK】，即可完成ODBC数据源的建立

​![](https://dochelp.bn100.com/download/attachments/41713979/image2019-8-29_9-29-42.png?version=1&modificationDate=1655187972423&api=v2)​

### [10.7.3 Oracle外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41713990)

#### 概述

       由于各个数据库本身不互通，外部数据源功能无法直接访问到Oracle数据库，需要使用通过访问组件来实现互相访问。

本教程主要描述了如何安装Oracle的ODAC驱动程序，并通过已安装的驱动程序访问Oracle数据库的内容。本教程使用到的

ODAC安装文件可以在Workfine行业交流群（772383629）共享文件中找到

#### 安装ODAC驱动

1、 在Workfine服务所在操作系统中下载压缩包

2、 运行压缩包内的【ODAC_SETUP.bat】

​![](https://dochelp.bn100.com/download/attachments/41713990/image2019-10-29_9-34-7.png?version=1&modificationDate=1655187972783&api=v2)​

3、 按照提示，输入一个安装路径，然后按回车

​![](https://dochelp.bn100.com/download/attachments/41713990/image2019-10-29_9-34-17.png?version=1&modificationDate=1655187972767&api=v2)​

4、 提示安装完毕后按回车结束安装

​![](https://dochelp.bn100.com/download/attachments/41713990/image2019-10-29_9-34-24.png?version=1&modificationDate=1655187972750&api=v2)​

5、 个人版运行【allowInProgress.reg】文件，点击确认，导入注册表即可

​![](https://dochelp.bn100.com/download/attachments/41713990/image2019-10-29_9-34-32.png?version=1&modificationDate=1655187972720&api=v2)​

6、 企业版在注册表路径HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\中找到需要访问Oracle的实例名称项，

在项内新建\Providers\OraOLEDB.Oracle\AllowInProcess的16进制DWORD键，值为1

​![](https://dochelp.bn100.com/download/attachments/41713990/image2019-10-29_9-34-42.png?version=1&modificationDate=1655187972703&api=v2)​

7、 重启操作系统即可生效

#### 建立外部数据源

1、登录Workfine设计端，进入【数据集成】=>【外部数据源】功能

​![](https://dochelp.bn100.com/download/attachments/41713990/image2019-10-29_9-34-55.png?version=1&modificationDate=1655187972687&api=v2)​

2、点击新增按钮，新建一个外部数据源

其中：

名称输入一个自己想要记住的名字

数据源名称输入Oracle

数据源类型选择Oracle

数据源地址输入主机名或IP地址+/ORCL（其中ORCL为实例名称，根据实际设置如果有变化则需要调整一下，否则使用默认值）

数据源接口输入实例端口，默认端口为1521

登录方式选择账号登录

用户名和密码输入一组对需要绑定的数据库有访问权限的组合

绑定数据库选择需要绑定的数据库名称

​![](https://dochelp.bn100.com/download/attachments/41713990/image2019-10-29_9-35-17.png?version=1&modificationDate=1655187972657&api=v2)​

3、输入完毕后点击保存即可将连接信息存储下来

### [10.7.4 PostgreSQL外部数据源](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714004)

#### 概述

    由于PostgreSQL非微软体系软件，需要通过安装ODBC驱动并建立DSN的方式来实现对PostgreSQL数据的访问。

#### 安装ODBC驱动

      PostgreSQL版本较复杂，高版本ODBC兼容性无法保证，需要用户去主动下载当前使用版本的PostgreSQL ODBC驱动程序。本教程以13.2为例，简单讲解ODBC驱动的下载和安装。注：本操作应在Workfine服务所在服务器中进行。

1、所有版本ODBC驱动官方下载地址为：[https://www.postgresql.org/ftp/odbc/versions/msi/](https://www.postgresql.org/ftp/odbc/versions/msi/)，点击下载64位版本psqlodbc_13_02_0000-x64.zip。由于服务器在国外，下载速度略有影响，请耐心等待安装包下载完毕或根据文件名在国内相关网站搜索下载  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav8fed8a44ee2cee0ba106ea5277b47483.png?version=1&modificationDate=1655188216690&api=v2)  
2、运行zip压缩包内的psqlodbc_x64.msi，在欢迎页点击【Next】  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddavbe4d4160b1f0eab20eba25fa78fea5b9.png?version=1&modificationDate=1655188216940&api=v2)  
3、在许可证页面勾选【I accept…】，并点击【Next】  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav04797eeb9913eabcd4abc47be8f83f5f.png?version=1&modificationDate=1655188217207&api=v2)  
4、在功能选择与安装地址选择【Next】  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav45ff422a8741d429be3fd2ef61e69ff7.png?version=1&modificationDate=1655188217440&api=v2)  
5、在准备页点击【Install】开始安装  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav889dec803d1f68d6bc9c935385184015.png?version=1&modificationDate=1655188217643&api=v2)  
6、安装完毕后点击【Finish】即可。

#### 建立ODBC 系统DSN

注：本操作应在Workfine服务所在服务器中进行。  
1、打开控制面板，右上角选择【大图标】，在列表中选择【管理工具】  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav8365e2585d659229313e403b7bc173a2.png?version=1&modificationDate=1655188217767&api=v2)  
2、双击运【"ODBC数据源（64位）】  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddavaac3d5a91934361cc803feaaaca5200d.png?version=1&modificationDate=1655188217813&api=v2)  
3、在ODBC界面中选择【系统DSN】，点击右侧【添加】，新增数据源记录  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav6f501d5fa7f64494393ddf74d49b34dd.png?version=1&modificationDate=1655188218110&api=v2)  
4、在弹出界面中选择【PostgreSQL ANSI(x64)】，其中编码方式与目标数据库一致即可，点击【完成】  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav1edec39b7c68520673a38de132cc40d3.png?version=1&modificationDate=1655188218393&api=v2)  
5、在弹出界面中按图片备注内容进行填写。其中：数据源名称建议使用英文，基本连接方式输入完成后可以点击【test】测试连接  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddavd40528315befdeb63feb705531571b5a.png?version=1&modificationDate=1655188218580&api=v2)  
6、选择完数据库后点击【save】，即可完成ODBC数据源的建立  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddava1a907b2513a3b8bd45335e9ba1fb31f.png?version=1&modificationDate=1655188218957&api=v2)​

#### 建立外部数据源

1、登录Workfine设计端,进入数据集成=>外部数据源  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav58dfe5751223dbe071e36fcf9ecfb88c.png?version=1&modificationDate=1655188219237&api=v2)  
2、点击新增按钮  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav74e5c8caba5bf47aa4077c7c3214facd.png?version=1&modificationDate=1655188219300&api=v2)  
3、按如图所示的描述填写相关连接信息  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddavde3c0ae60d0e7c42e5bdaf580c43bda9.png?version=1&modificationDate=1655188220143&api=v2)  
4、确定无误后点击新建，即可建立完成  
​![](https://dochelp.bn100.com/download/attachments/41714004/worddav456e12748a554361df9a7daa5fc0f238.png?version=1&modificationDate=1655188220237&api=v2)​

## [10.8 API](https://dochelp.bn100.com/display/WD3/10.8+API)

### [10.8.1 外部API](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714029)

#### 前言

从V3.3.0开始，Workfine正式支持了API数据源功能，旨在协助开发者从已有的Web API中获取数据并参与计算。  
由于Web API一般提供给软件开发者进行代码开发，使用本功能需要用户有一定的理解能力，能够看懂API文档的整体结构。  
Workfine支持通过get和post方式调用取数接口，支持从query、path、header和body位置发送参数。其中body支持form-data、x-www-form-urlencoded、JSON和Text四种参数类型。当前支持以主流JSON数据为交互格式的Web API，WebService及其他使用XML为格式的接口暂不支持。  
绝大部分现代接口返回数据为JSON格式，这种数据为非结构化数据，无法直接与关系型数据库中的数据表进行数据关联。Workfine通过深入研究用户需求，总结出了一套非结构化数据扁平化方案，将含有多层无序结构的JSON数据转换为普通表格型数据。普通用户无需理解JSON格式，一次设置后，API的返回数据将以普通数据表的形式进行理解和使用。  
同时我们还支持了后台自动采集API数据，实现数据的读取提速和历史记录。  
本文分两部分：

以获取某个城市七日天气为例，讲解如何在不需要凭证情况下使用API数据源获取数据。

以钉钉获取部门列表为例，讲解如何在需要凭证的情况下使用API数据源获取数据。

#### 采集规则

目前除了提供了传递参数的提取公式，所有使用API数据源内数据的功能都通过访问采集表来获取数据。您可以通过设置完接口后手动采集一次或设置自动采集来实现API数据的获取和正常查询。

#### 天气API文档详解

1、很多站点都提供了免费的天气API服务，本文档以【天气API】站点提供的API服务为例，讲解如何获取数据。

2、打开[http://www.tianqiapi.com/index](http://www.tianqiapi.com/index)，注册一个新用户并激活账号登录，点击API文档

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav6fb7364455d95095f5e6c943761be038.png?version=1&modificationDate=1655188370650&api=v2)​

3、在左侧分类中检查并选择免费接口=>免费七日天气

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav0e4e6cdab1748d2d528d2aa8e06308a2.png?version=1&modificationDate=1655188370703&api=v2)​

4、查看API文档

正常情况下，一个合格的API文档将提供请求方式、请求地址、请求参数说明、响应参数说明等信息。  
以本文档为例：  
​![](https://dochelp.bn100.com/download/attachments/41714029/worddav5787dcfc784e86a804ffb4a87137b42f.png?version=1&modificationDate=1655188370860&api=v2)​

|<br />|含义|备注|
| --------------| ---------------------| ----------------|
|请求方式|以什么方式来调用API|GET或POST|
|接口地址|API的实际地址|一个具体网址|
|请求参数说明|需要给API提供的参数|注意区分位置|
|响应参数说明|API返回的数据|一般是JSON格式|

#### 创建第一个API数据源

1、版本检查

确认Workfine为V3.3.0及以上版本

2、进入功能

登录设计端，打开数据集成=>数据API

3、新建API集合

1）点击新增按钮

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav0a6dbcf27dd48f476cf8fb67624410bc.png?version=1&modificationDate=1655188370897&api=v2)​

2）输入名称"天气接口集合"

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav8128ece91a5fff841c02fd01cb1419d6.png?version=1&modificationDate=1655188371047&api=v2)​

3）由于这个API无需凭证即可获取，不需要启用凭证，点击新建保存

4、新建API接口

1）选择新建的API集合，点击右侧新建"+"

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav03df8c75b5430d7c080c8acf3ad93d96.png?version=1&modificationDate=1655188371090&api=v2)​

2）名称输入"七日天气"，请求地址将天气API文档的"请求接口示例"复制并粘贴过来

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavf6dc820df30df51af85aeafa733b295d.png?version=1&modificationDate=1655188371130&api=v2)​

3）由于接口示例已经包含实际的appid和appsecret参数（每个注册用户的唯一信息），Workfine将会自动解析并将其填充到Query分类下

​![](https://dochelp.bn100.com/download/attachments/41714029/worddave21533855545477526123d133b1ae811.png?version=1&modificationDate=1655188371273&api=v2)​

4）根据"请求参数说明"，我们再添加一个"城市名称"作为API查询参数，将city填入到Query分类中，并提供一个默认值

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav0357efaac9615f67c6c7870b86e8b240.png?version=1&modificationDate=1655188371347&api=v2)​

5）点击"字段映射"选项卡

​![](https://dochelp.bn100.com/download/attachments/41714029/worddave26af109682cfc8707751cb504f6495f.png?version=1&modificationDate=1655188371377&api=v2)​

6）Workfine将会自动调用接口并尝试解析返回的数据，如果API参数没有问题，所有JSON格式的返回结果将会以树形结构的模式展示

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav5c3a46c16b7721067ce596ed044727e9.png?version=1&modificationDate=1655188371440&api=v2)​

7）根据"响应参数说明"对照，我们选择 "城市名称"，"天气情况"，"高温"，"低温"，"日期"作为需要返回展示的数据，并输入列名

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavd0093eed7614cf47a1282d6aed65103a.png?version=1&modificationDate=1655188371623&api=v2)  
​![](https://dochelp.bn100.com/download/attachments/41714029/worddav065cefe1c34cb00975a4d1ccadbbd50c.png?version=1&modificationDate=1655188371667&api=v2)​

8）点击"新建"保存接口

#### 提取公式获取API数据

1、新建查询模板"七日天气查询"，根据图示创建并定义字段

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavd0354eee01c2424d2bf335f5ecd2d273.png?version=1&modificationDate=1655188371713&api=v2)​

2、新建提取公式

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavfb435feaf9f5a04d2bc2cf888b88169f.png?version=1&modificationDate=1655188371880&api=v2)​

3、公式名称输入"获取七日天气"，执行时机选择"手动执行"

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavaa4d19852273fdf04d50bcf095fb5eca.png?version=1&modificationDate=1655188371913&api=v2)​

4、点击"选择数据表"，从API数据中找到刚才创建的"七日天气"数据源并保存

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav7116d14edaca14311801b90220ac5d48.png?version=1&modificationDate=1655188372007&api=v2)​

5、在填充方式中，将七日天气中的对应数据列选择填入到扩展表中，并保存

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav547ef613fafac033777c80221bd91a7c.png?version=1&modificationDate=1655188372060&api=v2)​

6、登录应用端，打开刚才新建的"七日天气查询"表，点击查询按钮确认效果

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav99b705df8536713a02636e7548926483.png?version=1&modificationDate=1655188372117&api=v2)​

#### 将本表字段作为参数传递

1、部分情况下，API数据需要使用本表数据作为参数来获取精确的数据。如根据不同的城市名称获取自己的天气情况。

以上一步七日天气API为例

2、登录设计端，打开"七日天气查询"模板

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav3d53dd3faf8ed328fe9f0c861de0a9c3.png?version=1&modificationDate=1655188372167&api=v2)​

3、编辑提取公式"获取七日天气"

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavfda854e0e5e22eb16499a8fa5eb55690.png?version=1&modificationDate=1655188372337&api=v2)​

4、在数据来源分类中点击"七日天气"右侧的编辑按钮

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav06551e1a33d09a8fe54107de22c5d25f.png?version=1&modificationDate=1655188372360&api=v2)​

5、在打开的参数设置界面中，添加之前定义的"city"参数

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav1422bc7bcddf26c6d9a74abf3620bf87.png?version=1&modificationDate=1655188372457&api=v2)​

6、将本表的城市字段选择赋予到city参数中，点击"确定"保存

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavf4a12144ce979775e23f2fbbbe9213fc.png?version=1&modificationDate=1655188372497&api=v2)​

7、保存提取公式及模板

8、登录应用端，打开刚才新建的"七日天气查询"表，点击查询按钮

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav296bed977a3388f3e99843f61ceb30b2.png?version=1&modificationDate=1655188372550&api=v2)  
由于我们将主表字段【城市】作为参数替代了city，查询时，城市字段为空，根据API调用规则，城市名称不填的话则以IP所在地为查询城市，所以展示了无锡最近7日的天气情况而非默认值北京的天气。  
在主表字段中填入"深圳"，并点击查询按钮，将会以深圳作为city的参数调用API并返回深圳最近7天的天气预报。  
​![](https://dochelp.bn100.com/download/attachments/41714029/worddav43a57d2810ad07aa530dcd20a45a2d86.png?version=1&modificationDate=1655188372603&api=v2)​

#### 钉钉API文档详解

打开钉钉开放平台的开发文档，先查看确认服务端API的调用方式[https://developers.dingtalk.com/document/app/how-to-call-apis](https://developers.dingtalk.com/document/app/how-to-call-apis)  
​![](https://dochelp.bn100.com/download/attachments/41714029/worddav83b51aac5b8cfa15c4ece02c4c2bd149.png?version=1&modificationDate=1655188372783&api=v2)  
本文以企业内部应用开发为例，从文档中得知，需要调用接口的步骤：添加接口权限、获取access_token（即凭证）、调用服务端API  
凭证类似于一个临时身份证，只有拥有有效的临时身份证才能调用接口获取业务数据。获取凭证一般需要appKey（用户名）和appSecret（密码）。Key和密钥在新建应用时才会提供，如何新建应用可以参考[https://bn100.atlassian.net/wiki/spaces/WD/pages/624556](https://bn100.atlassian.net/wiki/spaces/WD/pages/624556)中的新建应用部分，其中第11步需要打开。

#### 创建钉钉API数据源集合

1、登录钉钉开放平台，打开H5微应用分类[https://open-dev.dingtalk.com/#/corph5](https://open-dev.dingtalk.com/#/corph5)，点击进入上一步创建的应用。

​![](https://dochelp.bn100.com/download/attachments/41714029/worddavc32581a77d4dad37481e551416e3fbb2.png?version=1&modificationDate=1655188372893&api=v2)​

2、复制AppKey和AppSecret

3、确认Workfine为V3.3.0及以上版本

4、登录设计端，打开数据集成=>数据API

5、新建API集合

1）点击新增按钮

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav0a6dbcf27dd48f476cf8fb67624410bc.png?version=1&modificationDate=1655188370897&api=v2)​

2）名称输入"钉钉接口集合"，启用凭证

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav21154e0eb8f60cc2eab819ffac8f646f.png?version=1&modificationDate=1655188372927&api=v2)​

3）根据钉钉开发文档[https://developers.dingtalk.com/document/app/obtain-orgapp-token/h2-rau-ll6-zfq](https://developers.dingtalk.com/document/app/obtain-orgapp-token/h2-rau-ll6-zfq)，讲获取access_token的请求地址（[https://oapi.dingtalk.com/gettoken](https://oapi.dingtalk.com/gettoken)）和需要用到的参数（query参数：appkey和appsecret）填写到对应的位置。

根据文档说明，凭证有效期为7200秒，在此基础上扣除冗余时间，填入7000秒。凭证位置根据文档的返回参数信息填入$.access_token（使用规范参照JSONPath）  
​![](https://dochelp.bn100.com/download/attachments/41714029/worddav0d5aec6dff1cfd6e60175478a3ff65dd.png?version=1&modificationDate=1655188373040&api=v2)​

4）点击新建保存

#### 添加部门接口数据源

1、查看钉钉开发文档[https://developers.dingtalk.com/document/app/obtain-the-department-list-v2](https://developers.dingtalk.com/document/app/obtain-the-department-list-v2)，获取请求方式、地址和参数信息

2、新建API接口

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav52b4ac3a016988209e9022ba1bb19192.png?version=1&modificationDate=1655188373097&api=v2)​

3、将文档中的请求地址填入，请求方式修改为POST

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav7b7661835b3e68f1f129438db3416332.png?version=1&modificationDate=1655188373123&api=v2)​

4、根据文档得知，需要query参数access_token，在新建界面中query位置新建记录，属性名称为"access_token"，类型为"凭证"。

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav6234085cc724075d732291ab933cc689.png?version=1&modificationDate=1655188373177&api=v2)​

5、根据文档得知，body参数dept_id和language为非必填，如有需要可以自己尝试添加。

点击"字段映射"标签页，workfine自动调用API并整理返回结构（无法正确返回结构的话请检查appkey和appsecret是否包含空格、应用的服务器出口IP是否正确）

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav40050f0fb4bc6409473d024c287b7e6b.png?version=1&modificationDate=1655188373300&api=v2)​

6、根据文档的返回参数表格，将需要的内容选择并填写信息

​![](https://dochelp.bn100.com/download/attachments/41714029/worddaveffbf1ba855af23de520c345a165d6a6.png?version=1&modificationDate=1655188373543&api=v2)​

7、点击新建保存并手动采集一次获取数据

#### 提取公式获取API数据

1、新建查询表并定义提取公式来获取数据（与天气API一致，不再赘述）

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav8210b6194d32a97c483912b8503daba1.png?version=1&modificationDate=1655188373583&api=v2)​

2、登录应用端，打开表单即可获得查询结果

​![](https://dochelp.bn100.com/download/attachments/41714029/worddav7ddc9707cfd8ed0d0767b45bbc778c12.png?version=1&modificationDate=1655188373623&api=v2)​

### [10.8.2 集成API](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714069)

#### 前言

Workfine支持将系统内数据表以及帐套所在数据库内的所有数据表与视图开放为无须身份校验的web api。用户在开发第三方应用时可以通过调用调用该API实现对Workfine数据的访问。

#### 开放数据

1、登录Workfine设计端，进入数据集成=>开放API

​![](https://dochelp.bn100.com/download/attachments/41714069/worddav1f159e51dee80320a988f8525da77e35.png?version=1&modificationDate=1655188833487&api=v2)​

2、点击新增按钮

​![](https://dochelp.bn100.com/download/attachments/41714069/worddav7eda1ffcb6b2465adaee191b7b02affe.png?version=1&modificationDate=1655188833517&api=v2)​

3、名称输入框里输入便于记忆的名称

​![](https://dochelp.bn100.com/download/attachments/41714069/worddav965376b6754c242d3bac238a8f37bd00.png?version=1&modificationDate=1655188833597&api=v2)​

4、在右侧选择数据对象中选择需要开放的数据表

​![](https://dochelp.bn100.com/download/attachments/41714069/worddavfc8b03a676dfe15b1e69392bf706ac35.png?version=1&modificationDate=1655188833830&api=v2)​

5、在映射输出列表中设定是否输出并且输出时的名称

​![](https://dochelp.bn100.com/download/attachments/41714069/worddav95bc5cb8c7e8ff330e3741260987b426.png?version=1&modificationDate=1655188834143&api=v2)​

6、最后点击新建完成操作

​![](https://dochelp.bn100.com/download/attachments/41714069/worddav59c1e8315f19d1492ffb11867059ed15.png?version=1&modificationDate=1655188834173&api=v2)​

7、开放API列表记录中，url则是API地址

​![](https://dochelp.bn100.com/download/attachments/41714069/worddavcf29cbc7daab3d5c649b3a5e3815a7a1.png?version=1&modificationDate=1655188834267&api=v2)​

8、使用postman测试输出正常

​![](https://dochelp.bn100.com/download/attachments/41714069/worddav114153df531e604c77a6268834dd80ad.png?version=1&modificationDate=1655188834533&api=v2)​

### [10.8.3 数据扩展](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714081)

本文档以实例操作的方式介绍Workfine的扩展功能。  
目前提供了两个扩展，用于测试体验。其中一个功能为从sqlite数据库中按条件读取数据，另一个为调用web api，获取天气信息。  
文档中用到的扩展源码可以在[https://gitee.com/bn100/workfine-extension](https://gitee.com/bn100/workfine-extension)中下载。

#### 安装扩展

1、在浏览器打开并登录控制台

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav85252235d44892439fbece4e94cd5c1f.png?version=1&modificationDate=1655189043197&api=v2)​

2、点击右上角扩展管理界面

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav57879e563bbad3ec3c5ef6b075ece7db.png?version=1&modificationDate=1655189043227&api=v2)​

3、点击左下角新增按钮

​![](https://dochelp.bn100.com/download/attachments/41714081/worddavb03b6f754e334a411be9651fc43bf9c6.png?version=1&modificationDate=1655189043260&api=v2)​

4、选择扩展包，打开安装

​![](https://dochelp.bn100.com/download/attachments/41714081/worddavbe6991f77a664419c578713243bd98fb.png?version=1&modificationDate=1655189043307&api=v2)​

5、安装过程中选择启动扩展

​![](https://dochelp.bn100.com/download/attachments/41714081/worddave94614f0b2e4b50ec67510857aa8c291.png?version=1&modificationDate=1655189043430&api=v2)​

6、点击左侧插件名称，检查扩展状态（如上一步未启动，可在详情界面中设置启动）

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav2cd367167318265b09105df146b8118d.png?version=1&modificationDate=1655189043603&api=v2)​

#### 从sqlite数据库中有选择地提取数据

扩展的业务逻辑：  
查询时提供姓名和所属部门信息，扩展在数据库文件中搜索姓名和部门相同的用户记录，并返回结果。插件要求姓名和部门是必须提供的参数，如任意一个参数不相等，则无法获取信息。数据库内的默认数据如下：  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddavc33782101397c6e22375001df78b46b7.png?version=1&modificationDate=1655189043727&api=v2)  
由于是sqlite数据库文件，用户可以使用navicat等数据库管理软件对其进行直接操作。

1、安装扩展，将压缩包内的sampledatabase.db文件解压到Workfine安装目录的server文件夹下（默认为C:\Program Files\Workfine\server）

​![](https://dochelp.bn100.com/download/attachments/41714081/worddavc3e8683840e9d009be418cff28237e49.png?version=1&modificationDate=1655189043870&api=v2)​

2、打开Workfine设计端，新建一个模板

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav97c3f6e1b05920fe7b7af59b04b0384b.png?version=1&modificationDate=1655189044073&api=v2)​

3、如图设计一个模板并定义主表和扩展表字段，其中年龄为整数，生日为日期

​![](https://dochelp.bn100.com/download/attachments/41714081/worddavb8edd368579f8e0670b2b9c38121a310.png?version=1&modificationDate=1655189044277&api=v2)​

4、打开表间公式界面，新建一个提取公式

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav1895de32828a77ee1a9eb5648a463f42.png?version=1&modificationDate=1655189044447&api=v2)​

5、选择添加来源数据表，从选择器中选择扩展数据=>数据库查询范例=>数据库查询

如果扩展数据分类下找不到，则在控制台检查扩展是否安装并处于运行状态  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddavef8155914bc0881411c5bb7129852a0e.png?version=1&modificationDate=1655189044790&api=v2)​

6、点击来源表右侧的编辑按钮，设置向插件提供的参数信息

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav1a75558b9b3a42a37090212ea43c53a7.png?version=1&modificationDate=1655189044837&api=v2)​

7、分别将主表定义的姓名和部门参数传递给扩展需要的参数"用户姓名"和"所属部门"

红框标注的区域为扩展需要的参数列表。这里的参数设置主要用于向扩展提供它运行需要的参数信息，这样它不需要访问Workfine数据库就可以获取内部逻辑执行需要的参数。  
本例中，主表的姓名和部门信息传递给扩展，使其获得对应参数，用于组成查询sql：select * from userinfo where name=姓名 and department=部门  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddav32dc827f2b395c4189485680e951ddbe.png?version=1&modificationDate=1655189045133&api=v2)​

8、设置一个公式名称，并切换到取值字段标签页，填充数据表选择定义的扩展表

左侧红框标注的区域为扩展返回的结果信息，用于填充  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddav1f8bd586237b52c183f179ee23f0751a.png?version=1&modificationDate=1655189045447&api=v2)​

9、分别选择返回结果的填充列，填充到本表字段中

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav30c8439d24a63646409c80fb67287ace.png?version=1&modificationDate=1655189045823&api=v2)​

10、公式执行标签页中选择时机为"手动执行"，点击新建保存设置

​![](https://dochelp.bn100.com/download/attachments/41714081/worddavb46c3505714d876639ca2f42b97973cc.png?version=1&modificationDate=1655189046383&api=v2)​

11、登录Workfine应用端，新建一个刚才建立的测试表

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav147ac619e7726dbdfc4b45ef536166d0.png?version=1&modificationDate=1655189046667&api=v2)​

12、姓名填写张三，部门填写商务部，点击查询按钮。也可根据表内容填写其他数据

Workfine服务重启之后第一次触发扩展时可能会存在加载延时的问题，导致速度比较慢。从第二次开始就正常了  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddavd241ffe08b99b762016cbc5b390c6e4f.png?version=1&modificationDate=1655189046790&api=v2)​

13、扩展表将列出符合条件的数据

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav63c304a65d60c0a90fe97204aa7577a8.png?version=1&modificationDate=1655189046927&api=v2)​

#### 从web api中获取天气数据

1、安装扩展

2、打开Workfine设计端，新建一个模板

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav5e755d91627b97453c1c3ad379a25983.png?version=1&modificationDate=1655189047037&api=v2)​

3、如图设计一个模板并定义主表字段，其中气温为小数，更新时间为日期时间

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav0ff0bff2429200bcee730ca6b56263b8.png?version=1&modificationDate=1655189047127&api=v2)​

4、打开表间公式界面，新建一个提取公式

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav1895de32828a77ee1a9eb5648a463f42.png?version=1&modificationDate=1655189044447&api=v2)​

5、选择添加来源数据表，从选择器中选择扩展数据=>WebApi查询范例=>天气情况

如果扩展数据分类下找不到，则在控制台检查扩展是否安装并处于运行状态  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddave1ccd315c2d6743b97c641eb8fe7a64c.png?version=1&modificationDate=1655189047433&api=v2)​

6、点击来源表右侧的编辑按钮，设置向插件提供的参数信息

​![](https://dochelp.bn100.com/download/attachments/41714081/worddavdd5d4829ea55ba6ae9f18afc6a37cf1d.png?version=1&modificationDate=1655189047467&api=v2)​

7、将主表字段城市代码填充到扩展参数"城市代码"中

本例中，扩展将根据城市代码来调用公共api获取天气情况。主表的城市代码用于获取指定城市的天气信息，正常情况下使用城市或区的名称拼音即可，如北京使用beijing。如果存在重名，可以使用省+空格+市的格式获取，如江苏南京使用jiangsu nanjing。  
附公共Api的使用手册地址：[https://seniverse.yuque.com/books/share/e52aa43f-8fe9-4ffa-860d-96c0f3cf1c49/nyiu3t](https://seniverse.yuque.com/books/share/e52aa43f-8fe9-4ffa-860d-96c0f3cf1c49/nyiu3t)  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddav0cdff39b761b5786ff676db5ff3a2c0a.png?version=1&modificationDate=1655189047540&api=v2)​

8、设置一个公式名称，并切换到取值字段标签页，填充数据表选择定义的主表字段。分别选择返回结果的填充列，填充到本表字段中

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav30c8439d24a63646409c80fb67287ace.png?version=1&modificationDate=1655189045823&api=v2)​

9、公式执行标签页中选择时机为"手动执行"，点击新建保存设置

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav70cd917cd82989102d70c3c83b80e867.png?version=1&modificationDate=1655189047847&api=v2)​

10、登录Workfine应用端，新建一个刚才建立的测试表

​![](https://dochelp.bn100.com/download/attachments/41714081/worddav015505bce23c24deb26d4448ee36392f.png?version=1&modificationDate=1655189048117&api=v2)​

11、城市代码填写beijing，点击查询按钮。也可根据需求填写其他地名

Workfine服务重启之后第一次触发扩展时可能会存在加载延时的问题，导致速度比较慢。从第二次开始就正常了  
​![](https://dochelp.bn100.com/download/attachments/41714081/worddav941e250cc974409e8c77293159193d1c.png?version=1&modificationDate=1655189048247&api=v2)​

12、扩展自动调用api后返回信息将会填写到对应位置

​![](https://dochelp.bn100.com/download/attachments/41714081/worddavb82da12421f22ca6474b8c2ea4902270.png?version=1&modificationDate=1655189048337&api=v2)​

## [10.9 移动端集成](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714116)

workfine支持移动端使用，包括微信企业号，服务号，钉钉等集成部署。

移动端部署完成后，还需在模块管理中对相应的模块进行移动端发布，发布成功后移动端方可显示内容。具体操作请参照【模板管理】-【移动端设置】中的教程。

在进行移动端部署之前，必须保证网络环境通畅，局域网环境下，手机必须与服务器属于同一个网络环境；微信公众号部署必须连通外网环境。

**部署移动端之后移动端不仅支持基本的流程审批，数据填报和查询以及决策等，还支持移动端消息推送，扫码，定位，手写签名，邮件发送等功能。**

​![](https://dochelp.bn100.com/download/attachments/41714116/%E4%BA%A7%E5%93%81%E9%85%8D%E5%9B%BE3-app.png?version=1&modificationDate=1655189425947&api=v2)​

‍

### [10.9.1 企业微信绑定](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714152)

本节讲解Workfine移动端与微信服务号进行绑定并对外提供服务的方法。配置完成后，能够正常进行移动端访问，当需要进行移动办公时，还需要在【模板管理】-【移动端设置】中进行内容发布  
**前置条件：**

* 已经通过企业认证的企业微信号
* 绑定了域名的服务器，并且域名所属信息需要与企业微信认证信息相同（新）
* 普通域名建议通过ICP备案，否则可能无法正常使用
* 最好拥有固定的公网IP，否则需要定期更新可信IP（新）

操作步骤：

* 将Workfine安装到服务器中，并且按照[本教程](http://www2.bossietech.com/bbs/forum.php?mod=viewthread&tid=293&extra=page%3D1)将Workfine个人版服务对外公开，开放操作过程中使用的端口无特殊要求。
* 打开[https://work.weixin.qq.com/](https://work.weixin.qq.com/)，登录微信服务号后台
* 点击上方导航栏的【应用与小程序】  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-15-17.png?version=1&modificationDate=1655189427040&api=v2)​
* 点击下方自建分类下的【创建应用】

​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-16-51.png?version=1&modificationDate=1655189427040&api=v2)​

* 根据界面提示，选择需要的logo、应用名称和简介，最后选择可以使用移动端的人员，点击【创建应用】  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-18-51.png?version=1&modificationDate=1655189427027&api=v2)​
* 创建完毕后自动进入应用详情，点击下方功能模块【网页授权及JS-SDK】的【设置可信域名】  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-27-59.png?version=1&modificationDate=1655189427010&api=v2)​
* 在回调域名与可信域名中输入绑定的域名地址，并点击【申请域名校验】，根据提示将校验文件放置到Workfine安装路径下的server=>wwwroot目录下，最后点击【确认】即可  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-29-1.png?version=1&modificationDate=1655189426963&api=v2)​
* 点击下方功能模块【工作台应用主页】的【设置应用主页】，输入http://绑定的域名/app/index.html，点击【确定】，并且将该模块的【在微工作台中始终进入主页】勾选  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-34-25.png?version=1&modificationDate=1655189426947&api=v2)​
* 在服务器的网页浏览器中登录百度站点，搜索IP关键词，获取服务器当前公网IP地址
* ​![](https://dochelp.bn100.com/download/attachments/41714152/image2023-1-16_14-38-39.png?version=1&modificationDate=1673851119320&api=v2)​
* 点击配置企业可信IP，将刚才获取的公网IP地址填写进来并保存
* ​![](https://dochelp.bn100.com/download/attachments/41714152/image2023-1-16_14-41-18.png?version=1&modificationDate=1673851278700&api=v2)​
* 记录下应用详情页上方的AgentId和Secret  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-35-46.png?version=1&modificationDate=1655189426853&api=v2)​
* 点击最上方导航栏的【我的企业】，记录下最下方的【企业ID】，即CorpId  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-38-0.png?version=1&modificationDate=1655189426837&api=v2)​
* 点击最上方导航的【管理工具】=>【通讯录同步】

​![](https://dochelp.bn100.com/download/attachments/41714152/image2020-5-21_16-21-19.png?version=1&modificationDate=1655189427087&api=v2)​

* 点击【开启API接口同步】

​![](https://dochelp.bn100.com/download/attachments/41714152/image2020-5-21_16-22-46.png?version=1&modificationDate=1655189427137&api=v2)​

* 确认通讯录同步权限已开启

​![](https://dochelp.bn100.com/download/attachments/41714152/image2020-5-21_16-23-5.png?version=1&modificationDate=1655189427150&api=v2)​

* 打开workfine设计器，点击【系统设置】=>【移动设置】=>【企业微信】，将刚才记录下来的CorpId、AgentId和AppSecret粘贴到对应位置，点击绑定即可。  
  ​![](https://dochelp.bn100.com/download/attachments/41714152/image2021-10-27_9-41-29.png?version=1&modificationDate=1655189426823&api=v2)​

效果查看：

* 登录企业微信，进入【工作台】分类，点击第4步新增的应用名称。

​![](https://dochelp.bn100.com/download/thumbnails/41714152/B0D90EB3-B0DD-46B5-BD0F-9E9E0D259E7C_1_201_a.jpeg?version=1&modificationDate=1655189426777&api=v2)​

* 进入Workfine移动端登录页，输入用户名密码（与应用端一致）。点击【绑定】即可登录系统并将本企业微信账号与登录账号进行绑定，下次进入无需再次输入密码。
* 如果您需要登录其他账户，在【我的】界面中选择【解除绑定】即可返回登录页并解除本微信号与登录账户的绑定

总结：

* 由于企业微信安全限制，必须使用域名才能正常取得页面信息，并且在【网页授权及JS-SDK】中需要进行域名服务器有效性验证。请根据界面提示将文件放置到Workfine安装目录下的Server=>wwwroot文件夹下。

### [10.9.2 钉钉绑定](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714181)

1、登录钉钉开放平台后台[https://open-dev.dingtalk.com/](https://open-dev.dingtalk.com/#/corph5)

2、点击开放平台最上方导航中的【首页】按钮，查看公司的【CorpId】信息，将【CorpId】定义为A

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-26-7.png?version=1&modificationDate=1655189427713&api=v2)​

3、找到【应用开发】=>【企业内部开发】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-26-31.png?version=1&modificationDate=1655189427713&api=v2)​

4、点击【创建应用】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-27-21.png?version=1&modificationDate=1655189427697&api=v2)​

5、进入创建应用界面，根据界面提示，填写相关信息。其中应用名称为需要显示在手机版钉钉【工作界面】的应用图标名称。确定后点击【下一步】

​![](https://dochelp.bn100.com/download/thumbnails/41714181/image2021-11-8_9-29-4.png?version=1&modificationDate=1655189427683&api=v2)​

6、点击左侧【开发管理】=>【修改】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-29-59.png?version=1&modificationDate=1655189427667&api=v2)​

   注1 【应用首页链接】内容为Workfine应用端地址加上“/app/index.html”，不包含双引号，如有端口则必须带上端口号（例：http://192.168.2.31:5000/app/index.html）

   注2 【服务器出口】IP为服务器所用公网IP地址，如不清楚可以在【服务器的浏览器里】使用百度搜索IP关键字，默认显示的IP地址即为当出口IP

​![](https://dochelp.bn100.com/download/attachments/41714181/image2020-5-21_14-44-55.png?version=1&modificationDate=1655189427947&api=v2)​

   注3 如果使用了了内网地址，则手机必须连接到内部网络才可以正常访问。

其他内容可填可不填。最后点击【保存】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-33-21.png?version=1&modificationDate=1655189427650&api=v2)​

7、点击左侧【权限管理】，选择【通讯录管理】分类，将【龚勋鹿部门信息读权限】【成员信息读权限】【通讯录部分成员读权限】勾选，最后点击【批量申请】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-36-5.png?version=1&modificationDate=1655189427637&api=v2)​

8、点击左侧【钉钉登录与分享】，将Workfine地址填写进入【回调域名】中，并点击【添加】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-39-4.png?version=1&modificationDate=1655189427620&api=v2)​

9、创建完毕后进入待发布状态，选择【版本管理与发布】，点击【确认发布】，并点击提示框的【确认】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-39-53.png?version=1&modificationDate=1655189427603&api=v2)​

10、发布完毕后默认仅部分员工可见，可以点击下方输入框选择其他员工或选择【全部员工】，确定需要看到该应用入口的人

​![](https://dochelp.bn100.com/download/attachments/41714181/image2019-8-30_15-0-57.png?version=1&modificationDate=1655189427807&api=v2)​

11、应用发布完毕后，有权限的员工将可以在自己的钉钉【工作】界面下方的【其他应用】中找到刚刚添加的Workfine移动端入口

​![](https://dochelp.bn100.com/download/attachments/41714181/image2020-5-21_14-49-15.png?version=1&modificationDate=1655189427980&api=v2)​

12、继续点击钉钉开放平台Workfine移动端应用页的【基础信息】，点击详情信息中【AppSecret】右侧的【点击查看】，获取应用密钥信息。

为方便下一步填写，详情页中的【AppKey】简称为B，【AgentId】简称为C，【AppSecret】简称为D

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-11-8_9-41-20.png?version=1&modificationDate=1655189427587&api=v2)​

13、打开Workfine设计端，登录管理员账号，进入【系统设置】=>【移动设置】

​![](https://dochelp.bn100.com/download/attachments/41714181/image2021-10-27_9-50-27.png?version=1&modificationDate=1655189427747&api=v2)​

14、在设置面板中找到【钉钉微应用】板块，将刚才记录下来的四个编号按对照【粘贴】到对应位置。

粘贴时请一定注意是否有多粘贴空格等特殊字符进来

​![](https://dochelp.bn100.com/download/attachments/41714181/image2022-12-7_16-20-49.png?version=1&modificationDate=1670401250167&api=v2)​

详细填写对照表格：

|钉钉页面名称|定义名称|Workfine名称|注释|
| --------------| ----------| --------------| ------------------------------|
|CorpId|A|corpId|公司编号|
|AppKey|B|appKey|应用编号|
|AgentId|C|agentId|应用代理编号|
|AppSecret|D|appSecret|应用密钥，注意保密，不可泄露|

15、设置完毕后即可实现绑定钉钉账户、钉钉消息推送及在应用端登录页使用钉钉扫码快速登录绑定的账号等功能。

### [10.9.3 微信服务号绑定](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714170)

本教程主要讲解了如何将Workfine移动端与微信服务号进行绑定并对外提供服务的方法。  
**前置条件：**

* 已经通过企业认证的服务号
* 可以开放80端口并且拥有固定IP的服务器（建议使用云服务器。如需使用HTTPS，则必须可以开放443端口，下文中使用到80端口的地方都必须改成443）
* 通过ICP备案的域名

**操作步骤：**

* 将Workfine安装程序安装到服务器中，并且按照教程将workfine开放到局域网中：[https://forum.bn100.com/t/jiaocheng](https://forum.bn100.com/t/jiaocheng)
* 将Workfine个人版服务对外公开，开放操作过程中，必须使用80端口。
* 通过域名服务商，购买顶级域名，万网([https://wanwang.aliyun.com/](https://wanwang.aliyun.com/))或其它域名服务商，

  购买完成后，在域名解析后台新增一个二级域名，记录类型选择A,

  主机记录输入wx或其它

  记录值输入云服务器IP地址，

  其它选项保持默认即可。
* 打开[https://mp.weixin.qq.com/](https://mp.weixin.qq.com/)，使用自己的账号登录微信服务号后台。
* 点击左侧导航最下方的【开发】=>【基本配置】  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_10-11-21.png?version=1&modificationDate=1655189427433&api=v2)​
* 点击左侧开发者密码右侧的【启用】链接
* 按提示进行验证，最后第三步时，可以获取到该服务号的AppId和AppSecret，记下两串字符，点击【确定并进行下一步】  
  *AppSecret是一串重要的密钥，建议将其保存到一个安全的地方。一旦遗忘则需要重置
* 点击【去设置IP白名单】  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_10-14-23.png?version=1&modificationDate=1655189427433&api=v2)​
* 在输入框中输入workfine服务器所在IP地址，点击【确认修改】  
  ​![](https://dochelp.bn100.com/download/thumbnails/41714170/image2021-10-27_10-14-55.png?version=1&modificationDate=1655189427417&api=v2)​
* 鼠标指针指向到右上角服务号名称，点击显示的【功能设置】  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_10-18-20.png?version=1&modificationDate=1655189427400&api=v2)​
* 在功能设置界面中，分别设置【业务域名】、【JS接口安全域名】、【网页授权域名】为您workfine服务所在域名，点击保存生效  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_13-43-43.png?version=1&modificationDate=1655189427323&api=v2)​
* 在公众号管理页面左侧中点击【添加功能插件】，选择【模板消息】（默认都不开通），然后按提示进行开通。其中行业选项中至少需要选择【IT科技=>IT软件与服务】这个分类  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_10-52-37.png?version=1&modificationDate=1655189427337&api=v2)​
* 开通完毕后，在公众号管理页面左侧中点击【模板消息】，进入模板库，通过搜索找到【科研动态通知】【流程待办提醒】【监控结果通知】，并进行添加即可。  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_10-22-54.png?version=1&modificationDate=1655189427370&api=v2)​
* 点击左侧导航【内容与互动】分类下的【自定义菜单】，新增一个菜单。菜单名称自定义输入，菜单内容选择【跳转网页】，页面地址为：http://二级域名地址/app/index.html，最后保存发布即可。  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_10-25-30.png?version=1&modificationDate=1655189427370&api=v2)​
* 打开workfine设计器，点击【系统设置】=>【移动端设置】，将刚才记录下来的AppId和AppSecret粘贴到对应位置，点击绑定并提示成功即可。  
  ​![](https://dochelp.bn100.com/download/attachments/41714170/image2021-10-27_10-26-44.png?version=1&modificationDate=1655189427353&api=v2)​

**效果查看：**

点击微信服务号下方第13步新增的菜单项。

进入Workfine移动端登录页，输入用户名密码（与应用端一致）。点击【绑定】即可登录系统并将本微信账号与登录账号进行绑定，下次进入无需再次输入密码。

如果您需要登录其他账户，在【我的】界面中选择【解除绑定】即可返回登录页并解除本微信号与登录账户的绑定

**总结：**

* 由于微信安全限制，只有固定IP并且80端口或443端口开放才可以正常对外服务，从成本的角度考虑，建议常规用户和体验用户使用云服务器的形式来实现。
* 由于微信安全限制，必须使用域名才能正常取得页面信息，并且在【功能设置】界面中，【JS接口安全域名】和【网页授权域名】需要进行域名服务器有效性验证。请根据界面提示将文件放置到Workfine安装目录下的Server=>wwwroot文件夹下。
* 由于微信限制，所有推送消息必须使用模板来实现。Workfine在管理员对服务号作绑定时，会检查输入信息的有效性并拉取该服务号已启用的模板列表。如果您的模板功能尚未通过审核并绑定模板，请勿尝试进行绑定操作。
* 微信服务号各项限制较多，我们更加建议常规用户和体验用户采用企业微信或钉钉绑定模式实现移动办公。

### [10.9.4 浏览器访问](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714151)

  手机网络与服务器网络在同一个局域网内，或者已将workfine 整体开放到互联网环境中，在这两者前提下，手机端在任何地点都可以访问到workfine应用程序。

       1、在手机浏览器中输入http://（路由器外网地址）:（映射或转发的端口号）/app/index.html，确认即可打开移动端登陆页。

             例如workfine应用端登陆地址为：[http://192.168.2.201:8010/index.html](http://192.168.2.201:8010/index.html)，那么其移动端对应的登陆地址为：[http://192.168.2.201:8010/app/index.html](http://192.168.2.201:8010/app/index.html)

            在电脑端通过移动访问地址访问，可按快捷键F12调整布局显示状态

            如果无法访问，请确认路由器设置。另根据国家法律规定，非企业用户的80端口和443端口默认情况下无法使用，请避免使用这两个端口。

            如果上一步能够正常访问，则对外开放成功。但由于非固定IP用户的IP地址会产生变化，请参照官方论文workfine移动端配置和使用教程，对路由器的IP进行特殊处理。

    每次都需要打开浏览器输入网址太麻烦？我们来学习一下如何为Workfine移动端创建快捷方式。

 **1、苹果手机配置： ​**

       如果您使用的是IOS系统，请使用Safari浏览器通过正确地址访问到Workfine移动端的登录页，点击界面最下方浏览器默认按钮中的第三个【更多】，

 在弹出的界面中选择【添加到主屏幕】。输入您希望保存的名称，点击【添加】，即可在主屏幕中看到Workfine移动端的快捷方式，点击即可实现访问。

 **2、安卓手机配置：**

      如果您使用的是Android系统，请使用手机QQ浏览器通过正确地址访问到Workfine移动端的登录页，点击界面下方浏览器默认按钮中的【设置】，点击【添加书签】，

将Workfine移动端加为书签。然后进入书签管理页，点击Workfine移动端书签右侧的编辑按钮，在编辑界面中点击【发送到桌面】，即可在主屏幕中看到Workfine移动

端的快捷方式，点击即可实现访问。

参考论坛贴，Workfine移动端配置和使用教程（一）：[http://www2.bossietech.cn/bbs/forum.php?mod=viewthread&amp;tid=380](http://www2.bossietech.cn/bbs/forum.php?mod=viewthread&tid=380)

## [10.10 其他配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714225)

### [10.10.1 邮件服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714233)

常用邮件服务提供商SMTP发件服务器设置

|<br />|**SMTP服务器**|**端口**|**备注**|
| ----| ----------------------| -----| ----------------------------------------------------------|
|**QQ**|smtp.qq.com|465|需要在邮箱设置中打开SMTP开关并启用授权码作为邮件账户密码|
|**网易**|smtp.163.com|25|<br />|
|**新浪.com**|smtp.sina.com|25|<br />|
|**新浪.cn**|smtp.sina.cn|25|<br />|
|**阿里企业邮箱**|smtp.qiye.aliyun.com|25|需要在邮箱设置中打开SMTP开关|
|**搜狐**|mail.sohu.com|25|<br />|
|**Gmail**|smtp.gmail.com|587|<br />|
|**Hotmail**|smtp.office365.com|587|<br />|

注：

1. 绝大部分邮箱都需要在邮件设置中打开SMTP发件功能的开关。
2. 部分企业和邮件服务器提供商使用了微软的Exchange电子邮件服务，该服务也包含SMTP功能，具体信息可以从网管或邮箱帮助页面中获取。

#### QQ邮箱打开SMTP并生成授权码步骤：

1、登录QQ邮箱，点击左上角【设置】按钮

​![](https://dochelp.bn100.com/download/attachments/41714233/worddav284e1b358873295f5e6b01be04f56043.png?version=1&modificationDate=1655189750433&api=v2)​

2、点击【账户】，窗口滚动到最下方，点击【POP3/SMTP服务】右侧的开启链接

​![](https://dochelp.bn100.com/download/attachments/41714233/worddava617df2fedc5cdddd2ecffcfb3afb602.png?version=1&modificationDate=1655189750590&api=v2)​

3、以短信密保为例，按提示编辑短信发送到指定号码中，等待15秒后点击【我已发送】

​![](https://dochelp.bn100.com/download/attachments/41714233/worddav3ac44cb2493a29ee39e9c4fdf49ac207.png?version=1&modificationDate=1655189750637&api=v2)​

4、验证完毕后在框选的蓝色区域中将会获得一个16位由字母组成的授权码

​![](https://dochelp.bn100.com/download/attachments/41714233/worddave4d830622e6007d697a0e54182f1962d.png?version=1&modificationDate=1655189750697&api=v2)​

5、在Workfine设计端邮箱设置界面中将发件邮箱、获取授权码、SMTP服务器信息填写好，点击【测试连接】确认服务可用，最后点击【修改】保存设置

​![](https://dochelp.bn100.com/download/attachments/41714233/worddav478ea3535ba8fbe0616bdeb623028383.png?version=1&modificationDate=1655189750917&api=v2)​

### [10.10.2 短信配置（阿里云）](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714243)

Workfine在V3.9.2中对短信发送提供了对短信的支持，用户可以通过定时任务向指定的手机号码发送短信。  
Workfine目前支持的短信服务提供商为阿里云和腾讯云，他们提供的短信格式为：【签名】正文模板（参考[短信 国内短信快速入门 - 国内短信 - 文档中心 - 腾讯云 (tencent.com)](https://cloud.tencent.com/document/product/382/37745)中步骤2的讲解）。为了防止营销和诈骗短信，必须实名认证并且所有签名和正文模板均采用预审核模式。即签名和正文模板需要先通过阿里云或腾讯云的人工审核，才可以使用发送。

#### 新建短信签名和模板

请先根据阿里云或腾讯云的官方说明添加好签名和模板。  
添加签名：[短信签名 (aliyun.com)](https://help.aliyun.com/document_detail/108071.html)  
添加短信模板：[短信模板 (aliyun.com)](https://help.aliyun.com/document_detail/108085.html)

#### 新增短信供应商

1、登录Workfine设计端

2、进入【系统设置】=>【短信设置】

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav79b30fb62906c9f640923df779f47077.png?version=1&modificationDate=1655189913363&api=v2)​

3、点击【新增】按钮来添加新的短信服务供应商

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavbcd10bfea97925a93e62c3e5f825bbd9.png?version=1&modificationDate=1655189913443&api=v2)​

4、填写供应商信息

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavaf77ca88df1fec161dc517fcd6e0d265.png?version=1&modificationDate=1655189913583&api=v2)  
其中：  
名称为自定义内容，用于区分不同的供应商，endPoint为固定值，无需调整。  
AccessKey和AccessSecret获取方式如下：

1）登录阿里云控制台

2）鼠标指向右上角用户头像，点击【AccessKey管理】

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavabf72d8226b8f60c683d9ab1ebe9c70e.png?version=1&modificationDate=1655189913957&api=v2)​

3）界面中【AccessKey ID】为AccessKey

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav38bf8ceaeca572930697373c8ed40c46.png?version=1&modificationDate=1655189914240&api=v2)​

4）点击右侧【查看Secret】，根据界面提示通过验证即可获得AccessSecret

​![](https://dochelp.bn100.com/download/attachments/41714243/worddava799b1291fd8f7fd13a57c4ddfda9682.png?version=1&modificationDate=1655189914550&api=v2)​

#### 新增短信模板

1、点击【新增模板】

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavb2b5b50ed92e84cdce275bb963d13233.png?version=1&modificationDate=1655189914660&api=v2)​

2、根据提示填写设置项

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav5e8b0ce403a52d4c6e84567342a09bcd.png?version=1&modificationDate=1655189914847&api=v2)  
其中：  
名称为短信模板的自定义名称  
签名Id不填写  
签名名称为阿里云短信控制台=>【国内消息】=>【签名管理】中已经通过审核的签名内容  
​![](https://dochelp.bn100.com/download/attachments/41714243/worddav8ef355f748edaccf50f32ebd7ca7466f.png?version=1&modificationDate=1655189915050&api=v2)  
模板Id为阿里云短信控制台=>【国内消息】=>【模板管理】中已经通过审核的模板CODE  
​![](https://dochelp.bn100.com/download/attachments/41714243/worddav3df51616b8a25dee85565b872e4d8c53.png?version=1&modificationDate=1655189915287&api=v2)  
填写好正确的模板Id后，Workfine将会自动获取模板名称和内容

3、最后点击【新建】保存设置

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavaefe3c777705e00e1cf82e0533c9e44b.png?version=1&modificationDate=1655189915317&api=v2)​

#### 测试模板设置

1、点击已有模板的测试按钮

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav1fd26e24904b59ce67eab29a93ad5888.png?version=1&modificationDate=1655189915397&api=v2)​

2、在测试界面中输入接收短信的号码以及短信模板中需要填充的参数

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavc3f791e45b3342de99656ecaf10b3258.png?version=1&modificationDate=1655189915490&api=v2)​

3、点击确定即可发送测试短信（测试短信也由阿里云按照正常短信进行收费）

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavf8fa28bb0694d427e303f3de2bd95542.png?version=1&modificationDate=1655189915537&api=v2)​

#### 设置定时发送短信

说明：发送短信需要准备手机号码和短信模板参数信息，开发者可以通过【常规视图】=>【系统用户】来获得系统用户的手机号，也可以使用人员信息模板中的手机号。模板参数用于给不同手机号发送不同短信，需要与手机号一一对应。

1、点击【系统设置】=>【定时任务】=>【新增】

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav293be3b73c6a14eeb8c10c21395cf697.png?version=1&modificationDate=1655189915723&api=v2)​

2、完善定时任务信息

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav71cf5f66a41ed89b361814211f395714.png?version=1&modificationDate=1655189915973&api=v2)​

3、新建短信公式动作

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavb3123cda0df2869bd18dc398fffab2c1.png?version=1&modificationDate=1655189916113&api=v2)​

4、在短信模板列表中选择刚才新建的模板

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav6f09333b0275e5e8365ab0acd14e8181.png?version=1&modificationDate=1655189916333&api=v2)​

5、在数据来源中选择含有手机号和参数信息的模板

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavca66d9ca68cfa2aa61318ed5a844e9eb.png?version=1&modificationDate=1655189916550&api=v2)​

6、如有多个数据表，在联合界面中做好数据联合

​![](https://dochelp.bn100.com/download/attachments/41714243/worddaveca53823c02a50921e6dc1cb8cd104db.png?version=1&modificationDate=1655189916660&api=v2)​

7、在筛选条件里指定需要发送短信的记录

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavd7714ae4123625a2ac896e68b40b45f9.png?version=1&modificationDate=1655189916927&api=v2)​

8、在填充方式里把手机号和参数信息对应补齐

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav4dc28bee77b5f9ec70e81e90d8d30546.png?version=1&modificationDate=1655189917113&api=v2)​

9、保存短信公式和定时任务

​![](https://dochelp.bn100.com/download/attachments/41714243/worddavadd6ccc53fe3ca04a6460d8458c3e8d7.png?version=1&modificationDate=1655189917207&api=v2)​

10、点击立即执行验证效果

​![](https://dochelp.bn100.com/download/attachments/41714243/worddav88f872294ae8522fa1c9b4851f46fa2c.png?version=1&modificationDate=1655189917253&api=v2)  
​![](https://dochelp.bn100.com/download/attachments/41714243/worddav7e4a2a9a9686694cd2ff53b46867c889.png?version=1&modificationDate=1655189917300&api=v2)​

‍

### [10.10.3 短信配置（腾讯云）](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714245)

Workfine在V3.9.2中对短信发送提供了对短信的支持，用户可以通过定时任务向指定的手机号码发送短信。  
Workfine目前支持的短信服务提供商为阿里云和腾讯云，他们提供的短信格式为：【签名】正文模板（参考[短信 国内短信快速入门 - 国内短信 - 文档中心 - 腾讯云 (tencent.com)](https://cloud.tencent.com/document/product/382/37745)中步骤2的讲解）。为了防止营销和诈骗短信，必须实名认证并且所有签名和正文模板均采用预审核模式。即签名和正文模板需要先通过阿里云或腾讯云的人工审核，才可以使用发送。

#### 新建短信签名和模板

请先根据阿里云或腾讯云的官方说明添加好签名和模板。  
添加签名：[短信 签名审核标准 - 审核标准 - 文档中心 - 腾讯云 (tencent.com)](https://cloud.tencent.com/document/product/382/39022)  
添加短信模板：[短信 正文模板审核标准 - 审核标准 - 文档中心 - 腾讯云 (tencent.com)](https://cloud.tencent.com/document/product/382/39023)

#### 新增短信供应商

1、登录Workfine设计端

2、进入【系统设置】=>【短信设置】

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav79b30fb62906c9f640923df779f47077.png?version=1&modificationDate=1655189938317&api=v2)​

3、点击【新增】按钮来添加新的短信服务供应商

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavbcd10bfea97925a93e62c3e5f825bbd9.png?version=1&modificationDate=1655189938397&api=v2)​

4、填写供应商信息（腾讯云）

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav15df2cad19ede520bcf1906026902b1c.png?version=1&modificationDate=1655189938550&api=v2)  
其中：  
名称为自定义内容，用于区分不同的供应商，region为指定某个区域的服务器发送短信，您可以选择离自己最近的节点。  
SecretId和SecretKey获取方式如下：

1）登录腾讯云控制台

2）鼠标指向右上角用户头像，点击【访问管理】

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavb1d7bba4cfcd5a61f2a02ff633d59951.png?version=1&modificationDate=1655189938693&api=v2)​

3）点击左侧菜单列表的【访问密钥】=>【API密钥管理】

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavb9dd9c1da50e69ebdaa08f38f8a278fa.png?version=1&modificationDate=1655189938787&api=v2)​

4）点击右侧SecretKey的【显示】按钮，根据界面提示进行验证以获得SecretKey，将它们分别复制并填写到供应商设置对应位置

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav25af36d0d417222f5388a6c7e6c5203c.png?version=1&modificationDate=1655189938910&api=v2)​

5）点击左上方云产品，在搜索区域输入"短信"，点击进入短信控制台

​![](https://dochelp.bn100.com/download/attachments/41714245/worddave5d04abaf4266639ef57e1bc2350f73e.png?version=1&modificationDate=1655189939193&api=v2)​

6）点击左侧【应用管理】=>【应用列表】，进入列表。此时右侧应存在默认创建的【系统默认应用】，复制SDKAppID，将其填入AppId即可。

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav459b274db212d6b15c88290b4b602d82.png?version=1&modificationDate=1655189939333&api=v2)​

#### 新增短信模板

1、点击【新增模板】

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavb2b5b50ed92e84cdce275bb963d13233.png?version=1&modificationDate=1655189939443&api=v2)​

2、根据提示填写设置项

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav547e53d3ba89c822be77f9979960baa6.png?version=1&modificationDate=1655189939583&api=v2)  
其中：  
名称为短信模板的自定义名称  
签名Id和签名名称为腾讯云短信控制台=>【国内消息】=>【签名管理】中已经通过审核的签名内容  
​![](https://dochelp.bn100.com/download/attachments/41714245/worddava1dbe2b2cc85225b69fdc8d3a67af49d.png?version=1&modificationDate=1655189939693&api=v2)  
模板下拉内容为腾讯云短信控制台=>【国内消息】=>【正文模板管理】中已经通过审核的模板，从下拉中选择已有模板即可  
​![](https://dochelp.bn100.com/download/attachments/41714245/worddave78ecabc17b5282a7c47a19a711fbc5e.png?version=1&modificationDate=1655189939880&api=v2)​

3、最后点击【新建】保存设置

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavaefe3c777705e00e1cf82e0533c9e44b.png?version=1&modificationDate=1655189939910&api=v2)​

#### 测试模板设置

点击已有模板的测试按钮  
​![](https://dochelp.bn100.com/download/attachments/41714245/worddav1fd26e24904b59ce67eab29a93ad5888.png?version=1&modificationDate=1655189940020&api=v2)  
在测试界面中输入接收短信的号码以及短信模板中需要填充的参数  
​![](https://dochelp.bn100.com/download/attachments/41714245/worddav72f98cef9d54fbbf1dd8496959b54e5f.png?version=1&modificationDate=1655189940113&api=v2)  
点击确定即可发送测试短信（测试短信也由腾讯云按照正常短信进行收费）  
​![](https://dochelp.bn100.com/download/attachments/41714245/worddav3aca960f261fad0f2c999666702e0922.png?version=1&modificationDate=1655189940177&api=v2)​

#### 定时发送短信

说明：发送短信需要准备手机号码和短信模板参数信息，开发者可以通过【常规视图】=>【系统用户】来获得系统用户的手机号，也可以使用人员信息模板中的手机号。模板参数用于给不同手机号发送不同短信，需要与手机号一一对应。

1、点击【系统设置】=>【定时任务】=>【新增】

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav293be3b73c6a14eeb8c10c21395cf697.png?version=1&modificationDate=1655189940363&api=v2)​

2、完善定时任务信息

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav71cf5f66a41ed89b361814211f395714.png?version=1&modificationDate=1655189940583&api=v2)​

3、新建短信公式动作

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavb3123cda0df2869bd18dc398fffab2c1.png?version=1&modificationDate=1655189940723&api=v2)​

4、在短信模板列表中选择刚才新建的模板

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav7e4bdb5340f16b6e3d5e7aae5b5fc529.png?version=1&modificationDate=1655189940943&api=v2)​

5、在数据来源中选择含有手机号和参数信息的模板

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavcd8d6403e2a88602f3d251fa96a9e188.png?version=1&modificationDate=1655189941253&api=v2)​

6、如有多个数据表，在联合界面中做好数据联合

​![](https://dochelp.bn100.com/download/attachments/41714245/worddaveca53823c02a50921e6dc1cb8cd104db.png?version=1&modificationDate=1655189941363&api=v2)​

7、在筛选条件里指定需要发送短信的记录

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav4f378e464b5fe7883637393a1e170752.png?version=1&modificationDate=1655189941520&api=v2)​

8、在填充方式里把手机号和参数信息对应补齐

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav1f519174609d04b43fbecbd1d841be11.png?version=1&modificationDate=1655189941693&api=v2)​

9、保存短信公式和定时任务

​![](https://dochelp.bn100.com/download/attachments/41714245/worddavadd6ccc53fe3ca04a6460d8458c3e8d7.png?version=1&modificationDate=1655189941753&api=v2)​

10、点击立即执行验证效果

​![](https://dochelp.bn100.com/download/attachments/41714245/worddav88f872294ae8522fa1c9b4851f46fa2c.png?version=1&modificationDate=1655189941800&api=v2)  
​![](https://dochelp.bn100.com/download/attachments/41714245/worddav36754f353a52969d686dc4e987ead957.png?version=1&modificationDate=1655189941863&api=v2)​

### [10.10.4 同步应用](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714306)

#### 前言

Workfine支持将A帐套内的所有设计数据（不包含组织机构、用户、角色、所有单据的业务数据）拷贝覆盖到B帐套内。  
一般用于开发环境（帐套A）将所有设计信息同步到生产环境（帐套B）中  
由于操作会覆盖B帐套的设计数据，请注意同步方向并及时备份数据。

#### 开始同步

1、登录需要同步的来源帐套A的设计端，进入系统设置=>同步应用

​![](https://dochelp.bn100.com/download/attachments/41714306/worddavf2dc4b0e2ffc1cc0d08c03e3bc59a56e.png?version=1&modificationDate=1655190278660&api=v2)​

2、输入同步目标帐套B所在服务器地址

该地址需要Workfine所在服务器可以正常访问  
如目标帐套的应用端地址为[http://192.168.2.100:5000/index.html](http://192.168.2.100:5000/index.html)，则它的应用地址为[http://192.168.2.100:5000](http://192.168.2.100:5000/index.html)  
​![](https://dochelp.bn100.com/download/attachments/41714306/worddava174593d02bc63e7e092d488c138edff.png?version=1&modificationDate=1655190278707&api=v2)​

3、输入同步目标帐套B中拥有系统管理员权限的用户并在帐套列表中选择B

​![](https://dochelp.bn100.com/download/attachments/41714306/worddava035544940c2389633751cdf26240ce2.png?version=1&modificationDate=1655190278863&api=v2)​

4、点击同步，确认提示框内容并继续点击确定即可

​![](https://dochelp.bn100.com/download/attachments/41714306/worddavb31649bee0f0f1dfcc7b3b5f3471b061.png?version=1&modificationDate=1655190278893&api=v2)​

5、同步完成后，登录帐套B即可确认效果

​![](https://dochelp.bn100.com/download/attachments/41714306/worddav834c8c617dac36e2507320ab7352e4e5.png?version=1&modificationDate=1655190278940&api=v2)​

### [10.10.5 组织架构同步](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714315)

#### 前言

Workfine支持将LDAP，企业微信，钉钉的组织机构和用户信息同步到本地。同步方式分为一次性同步和定时同步。每次同步都会覆盖组织部门信息，一个帐套建议只同步一种来源的组织机构信息。

#### 同步前需要进行的操作

从每种渠道同步时都需要对应的凭证信息，请按以下分类找到自己的来源凭证

#### LDAP

Workfine同步LDAP组织机构需要域控服务器地址，有同步权限的用户名和密码。以上信息可以在主管域控的信息部同事中获取。

#### 企业微信

1、打开企业微信后台（[https://work.weixin.qq.com/](https://work.weixin.qq.com/)）并登录

2、点击上方"我的企业"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav2e1373919ffce8103f41c828e5b4c805.png?version=1&modificationDate=1655190390113&api=v2)​

3、查看并记录最下方的"企业ID"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav35a3519246a8371c5841c0bd8af3bc23.png?version=1&modificationDate=1655190390207&api=v2)​

4、点击上方"管理工具"，进入设置界面

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavf33fa6e1b47567bcfa9732eb616083c0.png?version=1&modificationDate=1655190390410&api=v2)​

5、点击"通讯录同步"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav62d1f95a02881135464d218837aa789a.png?version=1&modificationDate=1655190390677&api=v2)​

6、点击"开启API接口同步"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavea44bcbaad1497cdf9267ee78a8a6a1b.png?version=1&modificationDate=1655190390770&api=v2)​

7、点击Secret项目的查看按钮，根据提示，在手机上获取最新的Secret，并保存

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav7935f67368bbd8e4ed6b021ef1bf1f87.png?version=1&modificationDate=1655190390957&api=v2)​

#### 钉钉

1、打开钉钉开放平台（[https://open-dev.dingtalk.com/](https://open-dev.dingtalk.com/)）并登录

2、在登录的后台首页，找到右侧的"CropId"并记录下来（复制时请注意空格和换行符）

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav4b38f351fe9268603c02ea4aadacf4ba.png?version=1&modificationDate=1655190391190&api=v2)​

3、点击上方应用开发=>企业内部开发（如界面不相同，请选择右上角"体验新版"）

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav2058d0c0cb71e23c20cb8d91c7132ff1.png?version=1&modificationDate=1655190391253&api=v2)​

4、在钉钉应用分类下点击"创建应用"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav45282b7b10ce89e7c923b1b221a3637d.png?version=1&modificationDate=1655190391347&api=v2)​

5、根据提示信息，填写必填项，应用类型和开发方式保持默认

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav4cba6a97feec5c359356d61fc1e8cf8b.png?version=1&modificationDate=1655190391623&api=v2)​

6、新建完成后点击左侧"权限管理"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavff77136f4e62d731b3acaecb0f09e7c5.png?version=1&modificationDate=1655190391720&api=v2)​

7、在右侧列表的分类中选择"通讯录管理"，点击"通讯录部门信息读权限"的复选框

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavd5b51e6698e75421c91a6a45fb54a5ff.png?version=1&modificationDate=1655190391937&api=v2)​

8、向下滚动，找到"通讯录部门成员读权限"， 点击复选框

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav676fd6e78166836b529caff7b74dea69.png?version=1&modificationDate=1655190392073&api=v2)​

9、滚动到页头，点击"批量申请"，完成权限申请

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavcdb08a53b30b441cf81d0dde5096f356.png?version=1&modificationDate=1655190392193&api=v2)​

10、开通完毕后点击左侧的"应用信息"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav561635adb8cda86e05d3bf9abeecd913.png?version=1&modificationDate=1655190392313&api=v2)​

11、记录下"AppKey"，"AgentId"，"AppSecret"的内容（复制时请注意空格和换行符）

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavcd8139bf738722582f658c460ef6b772.png?version=1&modificationDate=1655190392603&api=v2)​

#### 一次性同步

如果您只需要将来源的组织用户采集到Workfine，没有保持与来源一致的需求，可以使用一次性同步的方案，将来源组织用户信息采集到Workfine中。

1、登录需要同步帐套设计端，进入上方"组织用户"分类

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav73479672457751b0eac14bab11f1ffc3.png?version=1&modificationDate=1655190392667&api=v2)​

2、点击左侧组织分类树下方的"同步数据"按钮

​![](https://dochelp.bn100.com/download/attachments/41714315/worddave7854b6a193adb977e512c362b13d901.png?version=1&modificationDate=1655190392697&api=v2)​

3、选择实际的同步来源

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav53d5cef7ae45e955f67935980c2cfcff.png?version=1&modificationDate=1655190392807&api=v2)​

4、根据界面提示输入获取到的参数信息

#### LDAP

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav85c1fae9acd9c84cd7b5c2e00f029383.png?version=1&modificationDate=1655190392927&api=v2)  
来源地址为LDAP服务器地址，用户名密码为有同步权限的登录信息。如果您需要只同步某些用户组下的用户，可以在"用户组"下拉中选择。如果您同步过来的用户需要一个默认角色权限，可以在"默认角色"下拉中选择。

#### 企业微信

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav9a5e0ab584266635734ac0a1fe358982.png?version=1&modificationDate=1655190393037&api=v2)  
分别填入获取记录的corpId和secret，agentId填写0

#### 钉钉

​![](https://dochelp.bn100.com/download/attachments/41714315/worddaveea26e3ed9a9fc509a8c10ab5931bd3d.png?version=1&modificationDate=1655190393143&api=v2)  
分别填入获取记录的corpId、AppKey、AgentId和AppSecret

5、填写完毕后点击"下一步"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavffc2714e2c05b8c59ea3143b28081cb3.png?version=1&modificationDate=1655190393167&api=v2)​

6、如果上一步填写信息正确，在预览界面中将会展示获取到的组织列表，选择需要同步的部门，Workfine会该部门及其所有下属部门的组织机构用户信息同步到Workfine中，点击"下一步"

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav6e63be6f3814d0842c107c9bd0cba7f1.png?version=1&modificationDate=1655190393463&api=v2)​

7、在同步选项中选择需要同步的信息，点击"开始同步"即可进入同步动作

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav42fcf397af4346d7447aaf7914956dfe.png?version=1&modificationDate=1655190393567&api=v2)​

8、请勿关闭或刷新页面，等待同步完成

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavba76b407c2d2593e9c8f914237882cfa.png?version=1&modificationDate=1655190393653&api=v2)​

9、同步结束后会生成同步报告，告知本次的同步结果。您也可以下载更新报告，查看具体的更新详情

如果部门用户在Workfine中不存在，则会新建部门用户  
如果部门用户已经存在，则会更新它们的信息  
如果部门用户在来源中不存在了，则会从Workfine中移除它们  
​![](https://dochelp.bn100.com/download/attachments/41714315/worddav07ed42edbbd54e66db6ea217acdd7537.png?version=1&modificationDate=1655190393787&api=v2)​

#### 定时同步

如果您的组织用户经常会更新，建议设置定时同步组织机构。通过设置定时同步，Workfine会在您设置的时间点自动执行同步任务，更新组织和用户信息

1、登录需要同步帐套设计端，进入上方"系统设置"分类

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavb78c3a1a4737eb70ae4d23d8c2c15919.png?version=1&modificationDate=1655190393820&api=v2)​

2、点击左侧"定时任务"分类

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav03d61052da8a1f9b109997be3f8b3665.png?version=1&modificationDate=1655190393870&api=v2)​

3、点击右侧列表上方的"新增"按钮，新建一个定时任务计划

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav713e6477a4a5a778adb5fb6bbe84a4e4.png?version=1&modificationDate=1655190393897&api=v2)​

4、为自己的定时任务计划添加一个名称，并指定好这个计划的执行频率

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav1537141587c0d8f637b572ad8a5775b5.png?version=1&modificationDate=1655190394167&api=v2)​

5、点击上方"执行动作"标签页，点击列表右上方的"+"，鼠标指针指向"同步组织部门"，下拉中选择需要设置同步的来源

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav92a012b1d5174f4dbc9c82f5f11c4bd5.png?version=1&modificationDate=1655190394237&api=v2)​

6、参照"一次性同步"中第四步的设置项解释，为来源设置配置信息和选择同步节点

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavc4702fc48069d9361f1c0128fbcce91e.png?version=1&modificationDate=1655190394453&api=v2)​

7、点击"保存"存储同步设置

​![](https://dochelp.bn100.com/download/attachments/41714315/worddavf2112cbb2d68ea5e077522d57d96d1b8.png?version=1&modificationDate=1655190394647&api=v2)​

8、点击"新建"存储这个同步计划

​![](https://dochelp.bn100.com/download/attachments/41714315/worddav2013f1700b0b9d7fed3e0a9847176458.png?version=1&modificationDate=1655190394673&api=v2)​

### [10.10.6 存储过程](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714355)

#### 前言

Workfine支持在表单保存删除时或手动触发执行指定存储过程，主要用于处理一些复杂数据运算

本文以MSSQL为例，简单实现一个通过存储过程实现操作日志的功能流程，方便用户快速入门

#### 创建存储过程

1、打开Microsoft SQL Server Management Studio（以下简称ssms），登录帐套所在数据库实例

​![](https://dochelp.bn100.com/download/attachments/41714355/image2022-6-14_15-30-50.png?version=1&modificationDate=1655191850360&api=v2)​

2、在Workfine帐套所属的数据库下执行以下脚本，用于创建存储日志信息的数据表

**CREATE** **TABLE** [dbo]**.**[modify_log]**(**

[id] [int] **IDENTITY**(1**,**1**)** **NOT** **NULL,**

[data] [varchar]**(**200**)** **NULL,**

[datetime] [datetime] **NULL,**

** **CONSTRAINT ​**​****[PK_modify_log]****​**​ PRIMARY KEY CLUSTERED** **

(

[id] **ASC**

**)**WITH **(**PAD_INDEX **=** OFF**,** STATISTICS_NORECOMPUTE **=** OFF**,** IGNORE_DUP_KEY **=** OFF**,** ALLOW_ROW_LOCKS **=** ON**,** ALLOW_PAGE_LOCKS **=** ON**)** ON **[PRIMARY]**

**)** **ON** [PRIMARY]

3、在Workfine帐套所属的数据库下执行以下脚本，用于创建一个存储过程

该存储过程可以接收一个data参数，并且将这个值写入到日志数据表中

**CREATE** **PROCEDURE** save_modify_log

@data **varchar**(200**)**

AS

BEGIN

**insert** **into** modify_log

**(**[data]**,**[datetime]**)**

**values**(**@data**,getdate**())**

END

4、新建一个模板

​![](https://dochelp.bn100.com/download/thumbnails/41714355/image2022-6-14_15-34-37.png?version=1&modificationDate=1655192077630&api=v2)​

5、如图定义一个字段，用于填写日志数据内容

​![](https://dochelp.bn100.com/download/attachments/41714355/image2022-6-14_15-35-27.png?version=1&modificationDate=1655192127900&api=v2)​

6、点击工具栏“更多”=>“存储过程”

​![](https://dochelp.bn100.com/download/thumbnails/41714355/image2022-6-14_15-36-35.png?version=1&modificationDate=1655192196010&api=v2)​

7、新建一个存储过程，按图示填写相关信息

这样Workfine将会在每次保存这个表单时，调用“save_modify_log”这个存储过程，并且将日志内容这个字段数据传递给data参数

​![](https://dochelp.bn100.com/download/attachments/41714355/image2022-6-14_15-37-40.png?version=1&modificationDate=1655192261003&api=v2)​

8、在应用端新建单据，并尝试多次编辑保存单据进行测试

最后在ssms中执行select * from modify_log，即可看到存储过程在日志表内生成的内容

​![](https://dochelp.bn100.com/download/attachments/41714355/image2022-6-14_15-42-14.png?version=1&modificationDate=1655192534360&api=v2)​

### [10.10.7 IIS部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714378)

#### 安装IIS

1、点击“开始”按钮，打开“服务器管理器”

​![](https://dochelp.bn100.com/download/thumbnails/41714378/image2022-6-14_15-48-30.png?version=1&modificationDate=1655193625787&api=v2)​

2、等待加载完毕后点击右上角“管理”=>“添加角色和功能”

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-49-14.png?version=1&modificationDate=1655193625757&api=v2)​

3、一直选择下一步，直到“选择服务器角色界面”

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-49-27.png?version=1&modificationDate=1655193625710&api=v2)​

4、在列表中勾选Web服务器(IIS)，提示框也选择添加

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-49-40.png?version=1&modificationDate=1655193625677&api=v2)​

5、点击下一步直到开始安装

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-49-51.png?version=1&modificationDate=1655193625663&api=v2)​

6、等待安装完毕

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-50-3.png?version=1&modificationDate=1655193625647&api=v2)​

#### 添加IIS站点

1、在服务管理器中停止Workfine服务并将服务启动方式调整为“禁用”

​![](https://dochelp.bn100.com/download/thumbnails/41714378/image2022-6-14_15-55-17.png?version=1&modificationDate=1655193625647&api=v2)​

2、登录[https://dotnet.microsoft.com/download/dotnet-core/3.1](https://dotnet.microsoft.com/download/dotnet-core/3.1)，下载并安装运行时组件

[https://dotnet.microsoft.com/download/dotnet-core/thank-you/runtime-aspnetcore-3.1.5-windows-hosting-bundle-installer](https://dotnet.microsoft.com/download/dotnet-core/thank-you/runtime-aspnetcore-3.1.5-windows-hosting-bundle-installer)

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-56-22.png?version=1&modificationDate=1655193625630&api=v2)​

3、打开服务器管理器，选择右上角“工具”=>“Internet Information Services(IIS)管理器”

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-57-27.png?version=1&modificationDate=1655193625617&api=v2)​

4、展开左侧分类树，右击“网站”=>“添加网站”

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-57-39.png?version=1&modificationDate=1655193625600&api=v2)​

5、本例中，网站名称输入“Workfine”，物理路径选择Workfine安装目录下的server文件夹

其中端口为默认80，可以根据实际情况进行调整

​![](https://dochelp.bn100.com/download/thumbnails/41714378/image2022-6-14_15-58-17.png?version=1&modificationDate=1655193625583&api=v2)​

6、在左侧网站列表中选择应用程序池，选中刚才建立的Workfine，点击右侧高级设置

​![](https://dochelp.bn100.com/download/attachments/41714378/image2022-6-14_15-59-18.png?version=1&modificationDate=1655193625570&api=v2)​

7、分别将“.NET CLR版本”调整为“无托管代码”；“固定时间间隔（分钟）”调整为“0”；“加载用户配置文件”调整为“True”，最后确定即可

​![](https://dochelp.bn100.com/download/thumbnails/41714378/image2022-6-14_15-59-29.png?version=1&modificationDate=1655193625537&api=v2)​

8、在浏览器中输入**http://内网IP地址.com:端口，即可访问刚刚绑定成功的Workfine**服务

### [10.10.8 https部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714380)

前言：  
本文主要讲解如何部署HTTPS站点。本篇以阿里云为例，讲解拥有阿里云购买的域名情况下，如何申请免费SSL证书并在IIS中部署。

1、访问并登陆自己的阿里云账户：[https://www.aliyun.com/](https://www.aliyun.com/)。

2、在最上方搜索框输入"SSL证书"并点击搜索按钮。

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav9310d2092344e6af4f052cfa1bfc6027.png?version=1&modificationDate=1655195055070&api=v2)​

3、点击第一条结果的"立即购买"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav4f7cbcf674ce1e3c5092fab6c614eee2.png?version=1&modificationDate=1655195055273&api=v2)​

4、点击选购证书

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav6980d2ee3eccdbd568bb9b366a77d417.png?version=1&modificationDate=1655195055367&api=v2)​

5、依次选择"云盾证书服务（包年）"=>"单域名"=>"DV SSL"=>"免费版"，其他选项默认即可，点击"立即购买"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav45f4db5dac5434cd358c5711980ccac9.png?version=1&modificationDate=1655195055587&api=v2)​

6、同意服务协议并点击"去支付"进入支付页面，由于是0元，直接点击"支付"完成

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav5e7ba5ce2ba976bdcc15b6ffa10e77e6.png?version=1&modificationDate=1655195055773&api=v2)​

7、支持完成后点击"证书控制台"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav0cb39b0addb7ade92724a3f45b8ed621.png?version=1&modificationDate=1655195055867&api=v2)​

8、找到刚才购买的证书，点击"证书申请"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddavf454474665529493ae5102d8b21ee870.png?version=1&modificationDate=1655195055947&api=v2)​

9、根据提示填写基本信息和需要绑定的域名（如：XXX.XXX.COM），点击下一步

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav373bbd0b1268724d8041f5eda26a57a8.png?version=1&modificationDate=1655195056040&api=v2)​

10、由于申请的域名也在阿里云，系统将会自动添加解析并通过邮件通知。如域名不在阿里云下，则可以通知域名管理员，根据提示信息做好对应解析记录并验证即可。

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav1ee452e33e2a715ae7c27d21d583a6a5.png?version=1&modificationDate=1655195056163&api=v2)![](https://dochelp.bn100.com/download/attachments/41714380/worddav849cc22482ebcbe97421b16a05290b31.png?version=1&modificationDate=1655195056257&api=v2)​

11、刷新页面，在已签发分类中找到刚才申请的证书，点击"下载"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav6bbf0ab6c2d53524c0b9667d6f715b1a.png?version=1&modificationDate=1655195056337&api=v2)​

12、选择IIS分类中的"下载"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav9b8cdbb5838c0e785f5d5204d48e54e4.png?version=1&modificationDate=1655195056367&api=v2)​

13、妥善保存好下载的文件并复制到服务器中并解压

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav625d7ad041ee8138e81b12dc0e14b52b.png?version=1&modificationDate=1655195056523&api=v2)​

14、在服务器的服务管理器中停止Workfine服务并将服务启动方式调整为"禁用"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav149cf89c014de62c128ae3da8d273f98.png?version=1&modificationDate=1655195056587&api=v2)​

15、登录[https://dotnet.microsoft.com/download/dotnet-core/3.1](https://dotnet.microsoft.com/download/dotnet-core/3.1)，下载并安装运行时组件

[https://dotnet.microsoft.com/download/dotnet-core/thank-you/runtime-aspnetcore-3.1.5-windows-hosting-bundle-installer](https://dotnet.microsoft.com/download/dotnet-core/thank-you/runtime-aspnetcore-3.1.5-windows-hosting-bundle-installer)

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav367db6e3d6acf932e0e2f5a07105ea60.png?version=1&modificationDate=1655195056743&api=v2)​

16、打开IIS管理器，选择服务器，双击"服务器证书"，进入设置界面

​![](https://dochelp.bn100.com/download/attachments/41714380/worddavcb78ce031940a729699a180c7e1824b0.png?version=1&modificationDate=1655195056820&api=v2)​

17、点击右侧"导入"按钮，证书文件选择解压缩的证书文件（pfx文件），密码输入pfx-password.txt文件中的字符串密码，最后点击确定即可完成导入

​![](https://dochelp.bn100.com/download/attachments/41714380/worddavab800213e1ee4706f20e130e5082b824.png?version=1&modificationDate=1655195056853&api=v2)​

18、展开到网站分类，右击"网站"=>"添加网站"

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav5f971ea424ad188e8783b9ca45cebb7b.png?version=1&modificationDate=1655195056883&api=v2)​

19、本例中，网站名称输入"Workfine"，物理路径选择Workfine安装目录下的server文件夹

​![](https://dochelp.bn100.com/download/attachments/41714380/worddava6f026317ef635fa8a79ee54eb5895d7.png?version=1&modificationDate=1655195056947&api=v2)​

20、绑定类型选择"https"，主机名输入刚才申请使用的域名，SSL证书选择刚才导入的证书（alias），取消选择"立即启动网站"，点击"确定"建立站点

​![](https://dochelp.bn100.com/download/attachments/41714380/worddavad290468ffbbb5e2db59abde09fff6bc.png?version=1&modificationDate=1655195057023&api=v2)​

21、在左侧网站列表中选择应用程序池，选中刚才建立的Workfine，点击右侧高级设置

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav5bc1a3a3316aa75dcc07aacc4583f994.png?version=1&modificationDate=1655195057367&api=v2)​

22、分别将".NET CLR版本"调整为"无托管代码"；"固定时间间隔（分钟）"调整为"0"；"加载用户配置文件"调整为"True"，最后确定即可

​![](https://dochelp.bn100.com/download/attachments/41714380/worddavf44f886bd7fe50e9e2ddc9eed2a4f40a.png?version=1&modificationDate=1655195057540&api=v2)​

23、在网站分类中右击建立的Workfine站点，选择"管理网站"=>"启动"即可完成配置（注意开通云服务器的443端口）

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav5fbcce33f5b23d1167c9a115b09b92dc.png?version=1&modificationDate=1655195057587&api=v2)​

24、在浏览器中输入[https://XXXX.XXXX.COM即可访问刚刚绑定成功的Workfine](https://xxxx.xxxx.xn--comworkfine-nw8ra67p14eyqcsx6dwkype0ggy8a6z8cy25b/)服务

​![](https://dochelp.bn100.com/download/attachments/41714380/worddav76a0d2110524ed7536ce201b7a26d5bd.png?version=1&modificationDate=1655195057900&api=v2)​

### [10.10.9 在线预览部署](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714409)

前言：  
本文主要讲解如何部署在线预览组件服务。使用组件为开源的onlyOffice，默认支持绝大部分Office文档格式。本教程以一键部署脚本为例。  
本脚本仅支持Windows Server 2012（Windows 8）及更高版本，不支持32位操作系统。  
由于组件和前置组件下载服务器在国外，我们在安装脚本中准备了各个组件的离线安装包。安装过程中会访问chocolatey和Microsoft服务器来获取子项脚本和系统更新补丁包，请保证全程联网。  
下载地址：[https://pan.baidu.com/s/1YfohkJxjLYtDquMmVLP2uA](https://pan.baidu.com/s/1YfohkJxjLYtDquMmVLP2uA) [https://pan.baidu.com/s/1tsh83zRduXL8lEwXl48PhQ](https://pan.baidu.com/s/1tsh83zRduXL8lEwXl48PhQ) 提取码：dgqz  
一键安装包将会安装Erlang、Rabbitmq、PostgreSQL、onlyoffice6.0.2，如果之前有安装过以上组件，建议使用原生安装方式进行手动安装。  
所有安装测试均在无其他软件干扰过程中通过，安装前请一定退出包括360、金山、腾讯管家等所有安全防护类软件，以免安装失败！

#### 运行安装脚本

1、右击"开始安装.ps1"，选择"使用PowerShell运行"

​![](https://dochelp.bn100.com/download/attachments/41714409/worddav8654f4241a9c4bbc9411a4b911b658ea.png?version=1&modificationDate=1655195286823&api=v2)​

2、如果出现权限提升提醒，点击"是"。

确认提示信息，按任意键开始安装流程  
​![](https://dochelp.bn100.com/download/attachments/41714409/worddav392e94cdaae1439bd11f32d8aa96b391.png?version=1&modificationDate=1655195286980&api=v2)​

3、前置组件安装完成，开始安装onlyoffice

​![](https://dochelp.bn100.com/download/attachments/41714409/worddavbc95dc0d0040233093c331aefbaa2eb1.png?version=1&modificationDate=1655195287120&api=v2)​

4、结束安装，按任意键退出

​![](https://dochelp.bn100.com/download/attachments/41714409/worddavb65917ddb452b2679bdc6a05fffa0802.png?version=1&modificationDate=1655195287277&api=v2)​

#### 更改端口

（默认5001，无需更改则跳过本步骤）

1、默认安装完成后，onlyoffice组件使用5001端口进行服务。

如需调整，请打开安装目录（默认：C:\Program Files\ONLYOFFICE\DocumentServer）进入nginx=>conf文件夹，右击ds.conf文件夹，选择打开方式为记事本  
​![](https://dochelp.bn100.com/download/attachments/41714409/worddav76e1a06a4a2eec2819a674ce85d129a1.png?version=1&modificationDate=1655195287370&api=v2)​

2、将文件中的两处5001修改为需要的端口

​![](https://dochelp.bn100.com/download/attachments/41714409/worddavfa775692d5f20ecea78304885478c682.png?version=1&modificationDate=1655195287417&api=v2)​

3、在系统服务界面中重新启动"ONLYOFFICE DocumentServer Proxy"服务以应用新端口

​![](https://dochelp.bn100.com/download/attachments/41714409/worddav8f09bb025b0982ff193089f8a563da27.png?version=1&modificationDate=1655195287543&api=v2)​

#### 测试运行情况

打开浏览器，访问[http://localhost](http://localhost:5001/):5001，如果界面提示"something went wrong during installation"，请尝试重新启动操作系统并再次访问。如果显示为其他界面，请检查端口设置是否有被占用的情况。  
​![](https://dochelp.bn100.com/download/attachments/41714409/worddavc31fd2461e402b8bccbf60449285e7be.png?version=1&modificationDate=1655195287667&api=v2)​

#### 集成设置

1、登录Workfine工作台，点击右上角设置按钮

​![](https://dochelp.bn100.com/download/attachments/41714409/worddavea31fd4456ad0057483524f439a1389f.png?version=1&modificationDate=1655195287697&api=v2)​

2、启用文件预览服务，文件服务器位置输入[http://IP](http://ip/)地址:5001。其中IP地址为Workfine服务及用户访问预览组件的地址，其中5001为之前设置的新端口号。

Workfine位置输入[http://Office](http://office/)文件服务器访问Workfine的地址:5000，其中IP地址为预览组件访问Workfine的地址，如果两者在同一个服务器，可以用127.0.0.1代替。5000为Workfine服务端口。  
​![](https://dochelp.bn100.com/download/attachments/41714409/worddav80b1fd163caeaa98d8a61d029d272d41.png?version=1&modificationDate=1655195287777&api=v2)​

3、最后点击确定保存即可

#### 测试预览效果

1、登录Workfine应用端，打开一个附件列表，点击预览office格式文件，即可查看效果。  
​![](https://dochelp.bn100.com/download/attachments/41714409/worddavce5a682dd849f17fb8c75f0465088fe8.png?version=1&modificationDate=1655195288120&api=v2)​

## [10.11 私有云服务](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714428)

### [10.11.1 云服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714430)

#### 服务器类型选择

目前国内云服务商提供的服务已经非常成熟，我们也非常推荐用户使用云服务来承载自己的业务系统。

云服务与私有化相比有以下优势和劣势，用户可以对比后根据自身需求进行选择。

优势：

1、无需硬件安装和基础软件系统部署，开箱即用，减少专业人员的部署成本

2、无需专业人员维护硬件和基础软件系统，减少维护成本

3、自带公网固定IP，电脑只要联网就可以访问到服务器上的应用

4、提供了完善的快照和备份还原机制

5、提供了完善的应用防火墙和安全访问服务（部分需要收费）

劣势：

1、数据存储在云服务商处，法律法规允许的情况下，数据将被无限制访问

2、一般情况下，公网带宽需求在5M以上时，费用会成倍提高

3、未成规模时，整体成本略高

4、固定IP暴露在公网中，遭遇网络攻击的可能性更高

5、只能通过公网访问，无法像私有化可以通过内网环境进行高速访问

#### 说明

当确定使用云服务时，我们需要选择一个云服务商。国内目前以阿里云和腾讯云为首，京东云、百度云、华为云等为辅，提供了多样化的供应商选择。

我们推荐以老牌的阿里云和腾讯云为主，有特殊需求情况下也可以选择其他

本文以通用云服务器（ECS/CVM）为例，简单讲解不同并发（在线用户数）情况下，服务器最低配置的选择

|并发|5|10|20|30|50|100|
| ---------| ----| -----| -----| -----| -----| ------|
|CPU(核)|2|2|4|4|4|8|
|内存(G)|4|4|8|8|8|16|
|硬盘(G)|50|100|200|300|500|1000|
|带宽(M)|5|5|5|5|8|10|

以上为通用情况下配置推荐，部分特殊情况需要用户进行判断进行配置增减，如：

1、如果存储或导入的数据量较大，则需要适当提高硬盘的存储空间

2、如果对每日备份次数有较大需求或需要保留大量历史备份时，需要适当提高硬盘的存储空间

3、如果提取公式或视图涉及到比较复杂的数据运算时，需要适当提高CPU核心数量或选择频率更高的CPU，提高计算速度

4、如果有大量表进行联合时，需要适当提高内存数量，使得数据库可以在内存中保留更多临时数据，提高计算速度

### [10.11.2 腾讯云购买使用](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714434)

#### 说明

本文以腾讯云为例，讲解如何通过正常途径购买CVM云服务器。

腾讯云在部分购物旺季下会存在大促活动，优惠力度比较大，建议可以关注腾讯云首页的促销信息。只有通过促销页面购买的产品才会有优惠，使用本文途径购买的云服务器仅有常规优惠可以使用。

1、登录腾讯云控制台（[总览 - 控制台 - 腾讯云 (tencent.com)](https://console.cloud.tencent.com/)）

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_14-43-59.png?version=1&modificationDate=1655275439350&api=v2)​

2、在云产品下拉中找到并点击“云服务器”

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_14-44-35.png?version=1&modificationDate=1655275475683&api=v2)​

3、在实例列表中点击“新建”

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_14-45-10.png?version=1&modificationDate=1655275510680&api=v2)​

4、选择自定义配置，计费模式为“包年包月”。地域请选择离自己最近的地区，以提高访问效率。不与其他云服务器互联时，可用区保持默认即可

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_14-49-16.png?version=1&modificationDate=1655275756773&api=v2)​

5、实例中选择需要的类型，主要参考vCPU、内存和处理器型号这三个关键参数

一般情况下内存数量为vCPU数量的双倍，处理器型号后面的处理器频率代表单个核心的处理速度，同系列下越大则速度越快

具体配置选择可以参考[1.2.11.1 云服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714430)

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_14-51-37.png?version=1&modificationDate=1655275897823&api=v2)​

6、选择镜像（操作系统）为64位的Windows Server 2022中文版

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_14-55-43.png?version=1&modificationDate=1655276143333&api=v2)​

7、系统盘保持不变即可，数据盘按照需求进行添加，具体可以参考[1.2.11.1 云服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714430)

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_14-57-10.png?version=1&modificationDate=1655276230623&api=v2)​

8、带宽根据实际需求进行选择。5M及以下时为最经济选择，高于5M时，费用将会成倍增加，请根据实际情况合理调整，具体可以参考[1.2.11.1 云服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714430)

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-1-32.png?version=1&modificationDate=1655276492817&api=v2)​

9、默认价格为一个月的价格，根据实际需要选择一个合理的时长，确认价格后点击“下一步”

总价=配置费用+宽带费用

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-3-29.png?version=1&modificationDate=1655276609423&api=v2)​

10、安全组选择“新建安全组”，其他设置保持原状

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-5-6.png?version=1&modificationDate=1655276706277&api=v2)​

9、登录方式下设置一个密码，必须满足最低密码要求。这个是通过远程登录服务器的用户名密码

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-5-48.png?version=1&modificationDate=1655276748770&api=v2)​

10、设置完成后点击“下一步”

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-7-50.png?version=1&modificationDate=1655276870497&api=v2)​

11、确认配置与费用完毕后勾选同意协议，点击“立即购买”

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-7-11.png?version=1&modificationDate=1655276831247&api=v2)​

12、在订单界面提交订单并完成付款

​![](https://dochelp.bn100.com/download/thumbnails/41714434/image2022-6-15_15-8-33.png?version=1&modificationDate=1655276914173&api=v2)​

13、支付完毕后返回云服务器的控制台（[实例 - 云服务器 - 控制台 (tencent.com)](https://console.cloud.tencent.com/cvm/instance/index)），如无法找到，请选择上方实例地区，点击购买的云服务器地区

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-10-20.png?version=1&modificationDate=1655277020367&api=v2)​

14、等待服务器配置完成，状态更新为运行中，查看服务器的公网IP地址，该地址为访问服务器的IP地址

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-11-33.png?version=1&modificationDate=1655277093217&api=v2)​

15、按住Windows徽标键+R，在运行界面中输入“mstsc”，并点击确定，打开"远程桌面连接"工具

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-13-9.png?version=1&modificationDate=1655277189833&api=v2)​

16、在计算机的输入框中输入第14步获取的IP地址，点击连接

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-13-54.png?version=1&modificationDate=1655277234650&api=v2)​

17、用户名输入“administrator”，密码输入第9步设置的密码，点击确定，登录到云服务器中

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-15-29.png?version=1&modificationDate=1655277329250&api=v2)​

18、登录之后桌面将会显示为云服务器的桌面，如需退出，鼠标指针滑到屏幕最上方，将会弹出一个控制条，点击最小化可以缩小控制界面，点击关闭可以退出云服务器。

在云服务器桌面中，所有操作将会直接影响云服务器。如点击开始按钮，关机时，将会把云服务器关闭

默认情况下远程桌面支持直接互相复制粘贴文件，比如最小化远程桌面，复制一个本地的文件，再还原远程桌面界面，直接粘贴

​![](https://dochelp.bn100.com/download/attachments/41714434/image2022-6-15_15-18-12.png?version=1&modificationDate=1655277492757&api=v2)​

### [10.11.3 阿里云购买使用](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714482)

#### 说明

本文以阿里云为例，讲解如何通过正常途径购买ECS云服务器。

阿里云在部分购物旺季下会存在大促活动，优惠力度比较大，建议可以关注阿里云首页的促销信息。只有通过促销页面购买的产品才会有优惠，使用本文途径购买的云服务器仅有常规优惠可以使用。

1、登录阿里云控制台（[阿里云控制台首页 (aliyun.com)](https://home.console.aliyun.com/home/dashboard/ProductAndService)）

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-28-42.png?version=1&modificationDate=1655278123240&api=v2)​

2、在左上角产品列表中选择“云服务器ECS”

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-29-55.png?version=1&modificationDate=1655278196060&api=v2)​

3、在左侧列表中选择实例并点击“创建实例”

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-30-37.png?version=1&modificationDate=1655278238007&api=v2)​

4、计费模式为“包年包月”，地域请选择离自己最近的地区，以提高访问效率。不与其他云服务器互联时，可用区保持默认即可

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-31-28.png?version=1&modificationDate=1655278288690&api=v2)​

5、实例中选择需要的类型，主要参考vCPU、内存和处理器型号这三个关键参数

一般情况下内存数量为vCPU数量的双倍，处理器频率代表单个核心的处理速度，同系列下越大则速度越快

具体配置选择可以参考[1.2.11.1 云服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714430)

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-32-11.png?version=1&modificationDate=1655278331477&api=v2)​

6、选择镜像（操作系统）为64位的Windows Server 2022中文版

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-32-48.png?version=1&modificationDate=1655278369027&api=v2)​

7、系统盘保持不变即可，数据盘按照需求进行添加，具体可以参考[1.2.11.1 云服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714430)

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-33-25.png?version=1&modificationDate=1655278405843&api=v2)​

8、点击“下一步”，配置网络和安全组

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-34-0.png?version=1&modificationDate=1655278440953&api=v2)​

9、网络在下拉中选择默认专有网络和默认交换机

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-36-9.png?version=1&modificationDate=1655278570050&api=v2)​

10、带宽根据实际需求进行选择。5M及以下时为最经济选择，高于5M时，费用将会成倍增加，请根据实际情况合理调整，具体可以参考[1.2.11.1 云服务器配置](https://dochelp.bn100.com/pages/viewpage.action?pageId=41714430)

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-36-44.png?version=1&modificationDate=1655278604760&api=v2)​

11、默认价格为一个月的价格，根据实际需要选择一个合理的时长，确认价格后点击“下一步”

总价=配置费用

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-37-37.png?version=1&modificationDate=1655278657660&api=v2)​

12、登录方式下设置一个密码，必须满足最低密码要求。这个是通过远程登录服务器的用户名密码

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-38-22.png?version=1&modificationDate=1655278702513&api=v2)​

13、设置完成后点击“确认订单”

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-39-0.png?version=1&modificationDate=1655278740450&api=v2)​

14、确认配置与费用完毕后勾选同意协议，点击“立即购买”

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-39-36.png?version=1&modificationDate=1655278776267&api=v2)​

15、在订单界面提交订单并完成付款

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-40-8.png?version=1&modificationDate=1655278808537&api=v2)​

16、支付完毕后返回云服务器的控制台（[云服务器管理控制台 (aliyun.com)](https://ecs.console.aliyun.com/#/server/region)），如无法找到，请选择上方实例地区，点击购买的云服务器地区

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-41-5.png?version=1&modificationDate=1655278865370&api=v2)​

17、等待服务器配置完成，状态更新为运行中，查看服务器的公网IP地址，该地址为访问服务器的IP地址

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-42-35.png?version=1&modificationDate=1655278955937&api=v2)​

18、按住Windows徽标键+R，在运行界面中输入“mstsc”，并点击确定，打开"远程桌面连接"工具

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-13-9.png?version=1&modificationDate=1655277970213&api=v2)​

19、在计算机的输入框中输入第14步获取的IP地址，点击连接

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-13-54.png?version=1&modificationDate=1655277970230&api=v2)​

20、用户名输入“administrator”，密码输入第9步设置的密码，点击确定，登录到云服务器中

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-15-29.png?version=1&modificationDate=1655277970243&api=v2)​

21、登录之后桌面将会显示为云服务器的桌面，如需退出，鼠标指针滑到屏幕最上方，将会弹出一个控制条，点击最小化可以缩小控制界面，点击关闭可以退出云服务器。

在云服务器桌面中，所有操作将会直接影响云服务器。如点击开始按钮，关机时，将会把云服务器关闭

默认情况下远程桌面支持直接互相复制粘贴文件，比如最小化远程桌面，复制一个本地的文件，再还原远程桌面界面，直接粘贴

​![](https://dochelp.bn100.com/download/attachments/41714482/image2022-6-15_15-18-12.png?version=1&modificationDate=1655277970260&api=v2)​
